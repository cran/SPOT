<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>SPOTVignetteNutshell</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">SPOTVignetteNutshell</h1>



<ul>
<li>Package version SPOT should be larger than <code>2.6.0</code>.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;SPOT&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">packageVersion</span>(<span class="st">&quot;SPOT&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &#39;2.8.2&#39;</span></span></code></pre></div>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<ul>
<li>The performance of modern search heuristics relies crucially on
their parameterizations—or, statistically speaking, on their factor
settings.</li>
<li>Finding good parameter settings for an optimization algorithm will
be referred to as <em>tuning</em>.</li>
<li>This vignette is an abbreviated version of a the technical report
“In a Nutshell-The Sequential Parameter Optimization Toolbox”.</li>
<li>It illustrates how <code>spot</code> can be called.</li>
<li>The extended version of this vignette is available on <a href="https://arxiv.org/abs/1712.04076">arXiv</a> and will be updated
regularly.</li>
</ul>
</div>
<div id="sequential-parameter-optimization-examples-how-to-call-spot" class="section level2">
<h2>Sequential Parameter Optimization Examples: How to Call SPOT</h2>
<div id="most-simple-example-kriging-lhs-predicted-mean-optimization-not-expected-improvement" class="section level3">
<h3>Most simple example: Kriging + LHS + predicted mean optimization
(not expected improvement)</h3>
<ul>
<li>The most simple <code>spot()</code> run requires the following
parameters:
<ul>
<li><code>fun</code>: objective function, e.g.,
<code>funSphere</code></li>
<li><code>lower</code>: vector of lower limits of the search space, one
entry for each dimension. The length of the lower vector determines the
problem dimension.</li>
<li><code>upper</code>: vector of upper limits of the search space, one
entry for each dimension</li>
</ul></li>
<li>A default number of <code>20</code> function evalutions is used
(<code>funEvals = 20</code>).</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(,funSphere,</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>            <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>            <span class="dv">1</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              [,1]         [,2]</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] -0.001340476 1.796875e-06</span></span></code></pre></div>
</div>
<div id="with-expected-improvement" class="section level3">
<h3>With expected improvement</h3>
<ul>
<li>Explicit starting point <code>x=0.05</code>, specified as a
<code>matrix</code></li>
<li>1-dim objective function <code>funSphere</code>: dimension is
specified by the length of the <code>lower</code>vector</li>
<li>20 function evaluations</li>
<li>surrogate model: <code>buildKriging</code>, which is the
default</li>
<li>acquisition function is based on expected improvement</li>
<li>optimizer on the surrogate: <code>optimLBFGSB</code></li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fl">0.05</span>), <span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fun =</span> funSphere,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> <span class="dv">1</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">20</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> buildKriging,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizer =</span> optimDE,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">modelControl =</span> <span class="fu">list</span>(<span class="at">target =</span> <span class="st">&quot;ei&quot;</span>)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               [,1]         [,2]</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] -6.191359e-05 3.833293e-09</span></span></code></pre></div>
</div>
<div id="plot-results-basic-plot-only" class="section level3">
<h3>Plot results (basic plot only)</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(res<span class="sc">$</span>ybestVec, <span class="at">log =</span> <span class="st">&quot;y&quot;</span>, <span class="at">type=</span><span class="st">&quot;b&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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c4AIEIHQECADCg16dkwEiAAZEOcAESACoSFABhQa9OyYCBABMiDOASJABEJDgAwoNOjZMREgAmRAnANEgAiEhgAZUGjQs2MiQATIgDgHiAARCA0BMqDQoGfHRIAIkAFxDhABIhAaAmRAoUHPjokAESAD4hwgAkQgNATIgEKDnh0TASJABsQ5QASIQGgIkAGFBj07JgJEgAyIc4AIEIHQECADCg16dkwEiAAZEOcAESACoSFABhQa9OyYCBABMiDOASJABEJDgAwoNOjZMREgAqUIQeEQuP/++82YMWPMAQcc4DZgrTU7duzQ73vssYfZbbfd3DocoH7nzp36f/fddzf4pJJfPc7F9figbVzv1YffGPzqdzXG/IzBGSPOzYZDUceAtkm7RmDvvfc2L774oilbtuyuTwyxdjeZ9DbE/mPb9YknnmgGDRrkMqDnn39eGdIhhxyiDGLZsmVm5MiR5tRTT9V7/OKLL8wtt9xiypUrpxNiyZIl5qKLLjI9e/bU+s2bN5tbb73VfP/996Z69epm8eLFpnLlymbmzJmmVKlS2ubAgQPN+++/b4444gjz7bffmnXr1plXX31V20QjU6dONY899pipUaOG+d///mfQ59ixY81xxx2nfaDNO+64Q9vF5Pz0009Nx44dTefOnbX+559/NjfffLPBWKpWrWo++ugjc9555+k1YCTbt283ffr00fJatWqZ1atXm02bNpnXXnvN7LvvvtrGhAkTdMwYw++//25WrlxpnnjiCR0zTnj33XfN4MGDzUEHHaT39dlnnykul1xyiV7/3//+19x00016vwceeKD2deGFF5rbb789D7PVC/gnKwJnnnmmmT9/vvv8s54YZgUYEKngCJx88slWmIFe+Nxzz4GJW/nBuw0tWrRIy2bMmGHlR6jHwiDc+o0bN2rZDTfcYH/77Tc9btOmjVsvEoKVN5c95ZRTrDATe9JJJ1mReOzWrVvdc2688Ua9bu3atRb9YAw4dujNN9/UMmEQdunSpXr88ssvO9VWmJ2W9evXzzrj6dGjh1uPftHm2WefbYX5WGFKtlKlSnbbtm3uOW3bttVz1q9fb8eNG6fHP/zwg1svDFTLgNWCBQv0eO7cuW79qlWrtGz06NEWbaA/YbRuPe4XZcKo3TIe5A+BY4891sqLLn8nh3QWlgOkQiDgMCD8GMuXL29Tf1RO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AkTARYAMyIWCB0SACASNABlQ0IizPyJABFwEyIBcKHhABIhA0AiQAQWNOPsjAkTARYAMyIWCB0SACASNABlQ0IizPyJABFwEyIBcKHhABIhA0AiQAQWNOPsjAkTARYAMyIWCB0SACASNABlQ0IizPyJABFwEyIBcKHhABIhA0AiQAQWNOPsjAkTARYAMyIWCB0SACASNABlQ0IizPyJABFwEyIBcKHhABIhA0AiQAQWNeML6++yzz4zkIjczZswo8p1JPnszduzYIrfDBuKDABlQfJ4VR0oEEocAGVDiHilviAjEBwEyoPg8q9iMtEmTJmb27Nmme/fupnr16vq59dZbzbZt29x7+Prrr03Hjh1N1apVTcOGDc0bb7zh1jkHv/32m7nuuutMzZo1zYEHHmhat25t1q5d61Sbbt26GfS1efNmt2zgwIHmjDPOMD/++KNbxoMII2BJRKAICHz66adWpredPn2628r+++9vq1WrZk899VT78MMP286dO+s5w4cP13P++OMPe8IJJ9h69epZ0R3Z+++/31aqVEnPGTNmjJ6zc+dOe/LJJ2t579697cyZM+3pp59uK1eubH/++Wc9Z+nSpbZ06dL2xhtv1O/z5s2zu+++ux01apR+55/oI2CiP0SOMMoIZGNAItVYMBGHGjVqZJs1a6Zfx40bZ0uVKmVFmnGq7ZQpU9IYEBgTGNtLL73kniMSkd1nn30sGJJDgwYNsqK8tgsXLrR16tSxIhGl9eucx//RRIBLsAhLp3Ee2plnnqm7Y8491KpVy2zatEm/LlmyxIgEpEszp75NmzZGpBfnq5kzZ4454IADdOm1aNEig8/y5ctN/fr1zdy5c93zevXqZY455hjTtGlT8+2335rJkyen9eueyINIIlAqkqPioGKPAHQ2qbT33nsbkYi06MsvvzRVqlRJrTZ77rmnMhuncM2aNeaXX34xIjk5Re7/GjVquMciSZmePXuayy+/3Fx55ZUmtc49iQeRReDPV05kh8iBxREB2AZlI9EPmY0bN+aphtLZoXLlyikz+fXXXw3KUz/Lli1zTjNbt241UDwffPDBZtq0aeaDDz5w63gQfQTIgKL/jBI3wuOPP95gGZa6ewWmAmbj0NFHH20gBaFc9D76KVOmjOnRo4eZMGGCc5rp27evwY7au+++q9JS+/btlSm5J/Ag0giQAUX68SRzcG3btjVly5Y1Xbp0MT/99JN5++23Tbt27dJutmvXrqZ8+fLKcLClj/MGDBhgHnnkESO7a3ru/PnzzciRI1UCOuyww8zEiRPNqlWrTJ8+fdLa4pfoIkAGFN1nk9iRQf8za9YsA10QdEXNmzc3LVu21GWUc9MVKlRQ26AtW7aYFi1a6HkvvviikW19VWBj6QVpp0GDBsqkcF3dunXNnXfeaWQb3siWvNMU/0cYgd2wORfh8XFoCUdg3bp1Kg1hmZWNNmzYYMR2SI0Ws53D8ngiQAYUz+fGUROBRCDAJVgiHiNvggjEEwEyoHg+N46aCCQCATKgRDxG3gQRiCcCZEDxfG4cNRFIBAJkQIl4jLwJIhBPBMiA4vncOGoikAgEyIAS8Rh5E0QgngiQAcXzuXHURCARCJABJeIx8iaIQDwRIAOK53PjqIlAIhAgA0rEY+RNEIF4IkAGFM/nxlETgUQgQAaUiMfImyAC8USADCiez42jJgKJQIAMKBGPkTdBBOKJABlQPJ8bR00EEoEAGVAiHiNvggjEEwEyoHg+N46aCCQCATKgRDxG3gQRiCcCZEDxfG4cNRFIBAJkQIl4jLwJIhBPBMiA4vncOGoikAgE/h+AL9NOz6lntAAAAABJRU5ErkJggg==" /><!-- --></p>
</div>
<div id="multi-starts-on-the-surrogate" class="section level3">
<h3>Multi starts on the surrogate</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fun =</span> funSphere,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> <span class="dv">1</span>,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">20</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">multiStart =</span> <span class="dv">2</span>,</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> buildKriging,</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizer =</span> optimDE,</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">modelControl =</span> <span class="fu">list</span>(<span class="at">target =</span> <span class="st">&quot;y&quot;</span>),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;              [,1]         [,2]</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] 6.747016e-06 4.552222e-11</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(res<span class="sc">$</span>ybestVec, <span class="at">log =</span> <span class="st">&quot;y&quot;</span>, <span class="at">type=</span><span class="st">&quot;b&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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2KBnwUSACJCA2AaIABGIDQESUGzQs2AiQARIQGwDRIAIxIYACSg26FkwESACJCC2ASJABGJDgAQUG/QsmAgQARIQ2wARIAKxIUACig16FkwEiAAJiG2ACBCB2BAgAcUGPQsmAkSABMQ2QASIQGwIkIBig54FEwEiQAJiGyACRCA2BEhAsUHPgokAESABsQ0QASIQGwIkoNigZ8FEgAiQgNgGiAARiA0BElBs0LNgIkAESEBsA0SACMSGAAkoNuhZMBEgAtUJQTYCL730kgwfPjz7YMDeyy+/LOuuu65su+22fqpzTn7//XfbX3vttaVatWp+GjaQ/scff9j/tdZaS/DLlLB0nIvr8UPeuD6ojLA6hKWvro7lqYNXR5ybD4fV1QHXUaqOwPrrry8TJkyQGjVqVD2zIuVQTRu9K1Leqcx2/vz5MmvWrNC6n3zyyTJw4EDZf//97dwnn3zSiGu77bYzgvjggw9k6NChsvfee1v6Rx99JOeee65sttlm1iDefvttOfLII+X888+39OXLl8uAAQPku+++k7p168pbb70lW221lYwbN06qV69ueQ4ZMkReffVV2WmnneTrr7+WhQsXyjPPPGN5IpOHHnpI7rvvPtlhhx3kv//9r6DMu+66S3bddVcrA3ledNFFli8a53vvvSc9e/aUXr16WfoPP/wg55xzjqAuW2+9tbz55pty8MEH2zUgklWrVtk943j9+vXl888/l2XLlsmzzz4rG220keUxcuRIqzPq8Msvv8inn34qDzzwgNUZJ0ybNk2uuuoq2Wabbey+3n//fcPlmGOOsev5p3AItGvXTmbOnOk//8LlXMCcQECUiiOw8cYbu7vvvtsufOKJJ0DiTl94P6M33njDjo0dO9bpS2jbShB++tKlS+3YWWed5X7++Wfb7tKli5+uPQSnXy7XunVrp2Ti9txzT6c9Hrdy5Ur/nLPPPtuuW7BggUM5qAO2PXnhhRfsmBKEmzNnjm1PmjTJS3ZKdnbssssuc159+vfv76ejXOR54IEHOiUfp6TkatWq5X777Tf/nBNOOMHOWbRokRsxYoRt/+c///HTlUDtmBKnU2K37VdeecVP/+yzz+zYLbfc4h/jRmEQ2GWXXZx+6AqTWZFywXCAUgkEPALCy1izZk2X+VJ52elwzjVs2NDp191dcMEF3mH//08//WTXXn755U57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SEA+FNwgAkQgagRIQFEjzvKIABHwESAB+VBwgwgQgagRIAFFjTjLIwJEwEeABORDwQ0iQASiRoAEFDXiLI8IEAEfARKQDwU3iAARiBoBElDUiLM8IkAEfARIQD4U3CACRCBqBEhAUSPO8ogAEfARIAH5UHCDCBCBqBEgAUWNOMsjAkTAR4AE5EPBDSJABKJGgAQUNeIsjwgQAR8BEpAPBTeIABGIGgESUNSIszwiQAR8BEhAPhTcIAJEIGoESEBRI87yiAAR8BEgAflQcIMIEIGoESABRY04yyMCRMBHgATkQ8ENIkAEokaABBQ14iyPCBABHwESkA8FN4gAEYgaARJQ1IiXWHnvv/++aCxyGTt2bJXvTOPZy1133VXlfJhBehAgAaXnWbGmRKDkECABldwj5Q0RgfQgQAJKz7NKTU3btm0rkydPln79+kndunXtN2DAAPntt9/8e/jiiy+kZ8+esvXWW8vuu+8uzz//vJ/mbfz888/Sp08fqVevnmy55ZZyxBFHyIIFC7xk6du3r6Cs5cuX+8eGDBki++67ryxevNg/xo0EI+AoRKAKCLz33ntOm7d75JFH/Fw22WQTV6dOHbf33nu7YcOGuV69etk5N9xwg53z66+/upYtW7qmTZs61R252267zdWqVcvOGT58uJ3zxx9/uL322suOX3LJJW7cuHFun332cVtttZX74Ycf7Jw5c+a4dddd15199tm2P2PGDLfWWmu5m266yfb5J/kISPKryBomGYF8BKS9GgcS8aRVq1bugAMOsN0RI0a46tWrO+3NeMnuwQcfzCIgEBOIbeLEif452iNyG264oQMheXLllVc6VV672bNnu5133tlpjyirXO88/k8mAhyCJbh3muaqtWvXzmbHvHuoX7++LFu2zHbffvtt0R6QDc289C5duoj2XrxdmTp1qmy66aY29HrjjTcEv7lz50rz5s3llVde8c+74IILpFmzZtK+fXv5+uuvZfTo0Vnl+idyI5EIVE9krVip1CMAnU2mrL/++qI9Ijv08ccfS+3atTOTZZ111jGy8Q7Onz9ffvzxR9Gek3fI/7/DDjv429qTkvPPP1+6du0qJ510kmSm+SdxI7EI/PnJSWwVWbE0IgDboHyi+iFZunRpmWQonT3ZbLPNjEx++uknwfHM3wcffOCdJitXrhQonrfddlsZM2aMvPbaa34aN5KPAAko+c+o5Gq42267CYZhmbNXIBWQjSdNmjQR9IJwXPU+9ttggw2kf//+MnLkSO80GTRokGBGbdq0adZb6t69u5GSfwI3Eo0ACSjRj6c0K3fCCSdIjRo15PTTT5fvv/9epkyZIt26dcu62d69e0vNmjWNcDClj/MGDx4s9957r+jsmp07c+ZMGTp0qPWAdtxxRxk1apR89tlnMnDgwKy8uJNcBEhAyX02JVsz6H/Gjx8v0AVBV9ShQwfp1KmTDaO8m958883NNmjFihXSsWNHO2/ChAmi0/qmwMbQC72dFi1aGEnhukaNGsnFF18sOg0vOiXvZcX/CUagGibnElw/Vq3EEVi4cKH1hjDMyidLliwRtR0yo8V85/B4OhEgAaXzubHWRKAkEOAQrCQeI2+CCKQTARJQOp8ba00ESgIBElBJPEbeBBFIJwIkoHQ+N9aaCJQEAiSgkniMvAkikE4ESEDpfG6sNREoCQRIQCXxGHkTRCCdCJCA0vncWGsiUBIIkIBK4jHyJohAOhEgAaXzubHWRKAkECABlcRj5E0QgXQiQAJK53NjrYlASSBAAiqJx8ibIALpRIAElM7nxloTgZJAgARUEo+RN0EE0okACSidz421JgIlgQAJqCQeI2+CCKQTARJQOp8ba00ESgIBElBJPEbeBBFIJwIkoHQ+N9aaCJQEAiSgkniMvAkikE4ESEDpfG6sNREoCQT+D/uR+ioKe0nhAAAAAElFTkSuQmCC" /><!-- --></p>
</div>
<div id="bayesian-optimization" class="section level3">
<h3>Bayesian Optimization</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fun =</span> funSphere,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> <span class="sc">-</span><span class="dv">1</span>,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> <span class="dv">1</span>,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">20</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">multiStart =</span> <span class="dv">2</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> buildBO,</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizer =</span> optimDE,</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">modelControl =</span> <span class="fu">list</span>(<span class="at">target =</span> <span class="st">&quot;y&quot;</span>),</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span></code></pre></div>
<ul>
<li>Left: best y val, right: search on the surrogate</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(res<span class="sc">$</span>ybestVec, <span class="at">log =</span> <span class="st">&quot;y&quot;</span>, <span class="at">type=</span><span class="st">&quot;b&quot;</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(res<span class="sc">$</span>ySurr[<span class="sc">!</span><span class="fu">is.na</span>(res<span class="sc">$</span>ySurr)], <span class="at">type=</span><span class="st">&quot;b&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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rLW8SwgYA+oSfPbjWgg8//zzbqWVVnI9evSoHIYpUf99gQUWqOz7v//7P12O/eMf/6jss41yIWAMqFzjnUhvZ511Vvf+++9X7oWE8/DDD6vOp7JTNghInX766d2vfvWr8G7bLhECxoBKNNhJdRUHw7ffftshCUF/+ctf3Lfffus23XTTShPQAV155ZVuiSWWcDPMMENlf1ob33zzjZs0aZL7+9//rsvHtNpRuvvKRDAyBFqKwL/+9S+/+uqre0nF4cXk7qebbjovFi8vZni9z6OPPuq33357L3ogf91117X03lEXEzcAf9RRR7U57cQTT9S2ysPv+Sy66KL+nnvuaXOOfYkHAZOASvfKib/DLKtuvPFGd8ABB6jks+++++r3bt1+mm7Dhg1zf/3rX90ZZ5zhBgwYEH+DQnd47rnnVNIJdo0ePdoNHTrUrbHGGg6l+VlnneV++ctfui222MI988wzwWn2PyYEzAwfE7B22foIsDxbcMEFXcCQ6p/Z+iO///3v3ccff+zuvPNOvfhqq62mLgETJkxoc7PevXu7X//61w5/JqP4EDAJKD5s7cqCAMrngw46yD377LMVPFA6p8F8Kg0IbZCLaODAgaE9P23usccebdrc7gTb0RIELBq+CkbyE48aNapqb/uvDz74oJt22mndXHPN1f5gjT34vXA+Dx7bjdCMM87obrvttjbm7EZ+l6VzsIiJPsWdffbZ6pw4aNAg97vf/c7NOeecqTUThTje2CwVN998c/fee++1awsK6aCoYruDLdhBFoDzzjvPzTLLLE3NiWZunYf5Y0uwqhElf82TTz5Ztbf9Vx6if//73+0PdLCH/MiiytNa6d27d+/gzJ8Orb322hqygFdx3glv5z//+c+afpUEZBtttJFjObTJJpsoI0iqfzDAyy+/XOvUs8SCQRKThqTWq1cvzVN9wgknuMsuu0w9tpGE4iB8omAQxMuxJIRJzzzzzC29VS7mTzy67eJfVSaPWkxkxjT1X978er7kQo4ESR4QL4rQyPPydAIWMpHq/K677urlgfMiZXhRVnsJ1UikG99//71/+umnvSif/f777+/79u3rRQrxN9xwg97/ggsu0PGRkJGK1S6OhvXp08cL49NL77777npPYUYtvVUe5o/pgDr5zmEZ1bNnT4cSc5555tGrsI/cxoj2YnpW0Zo3/frrr++W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2ml6zvfff+9XXHFFv+yyy3rRHflzzjnHS4liPWfUqFF6zo8//uhXWWUV3T9s2DB/ww03+DXWWMPPNddc/tNPP9VzXnzxRT/DDDP4Aw88UL9PmDDBd+vWzZ955pn63f5kHwGbPx2Pkev4sB2tN4FEqvEwkYD69Onj1113Xf164YUX+ummm86LNBMc9ldeeWUbBgRjgrHdfvvtlXNEIvLdu3f3MKSARowY4UV57SdOnOiXWmopL2/PNvcNzrP/2UTA5k/H42JLsJA02Mzm2muvrdax4DeLL764++KLL/TrM88840QC0qVZcHzAgAFOpJfgq3vooYfcLLPMokuvSZMmOT4vv/yy69Wrl3v00Ucr5x1++OFuueWWc+uss45777333JgxY9rct3KibeQKAZs/Pw3XdLkatQw1Fp1NmGaccUYnEpHueu2119zcc88dPuymn356ZTbBzsmTJ7upU6c6kZyCXZX/Cy20UGVbJCl32GGHuR133NENHDjQhY9VTrKN3CFg8+enIfvfKzl3Q5hug/ENqkeiH3Kff/55u8MonQOaddZZlZl89dVXjv3hz0svvRSc5r777juH4nm++eZz11xzjXviiScqx2wjvwjY/Plp7IwBxTCHl19+eccyLGy9gqnAbAJaZpllHFIQ+0Xvo5+ZZprJHXDAAe7iiy8OTnPHHHOMw6L28MMPq7Q0aNAgZUqVE2yjcAiUaf4YA4ph+u6www6uR48ebs8993SffPKJGz9+vNtpp53a3Gnw4MFuttlmU4aDSZ/zjjvuOHfZZZc5sa7puY8//rg744wzVAJaZJFF3CWXXOLefPNNd/TRR7e5ln0pFgJlmj/GgGKYu+h/xo4d69AFsdZff/313QYbbKDLqOB2s88+u/oGffvtt65///563m233ebErK8KbJZeSDu9e/dWJsXvevbs6YYOHerEDO/EJB9cyv4XDIEyzZ9pMJIVbPwy1Z0PP/xQpSGWWfXos88+c+I7pE6L9c6x/eVEoOjzxxhQOee19doQyAQCtgTLxDBYIwyBciJgDKic4269NgQygYAxoEwMgzXCECgnAsaAyjnu1mtDIBMIGAPKxDBYIwyBciJgDKic4269NgQygYAxoEwMgzXCECgnAsaAyjnu1mtDIBMIGAPKxDBYIwyBciJgDKic4269NgQygYAxoEwMgzXCECgnAsaAyjnu1mtDIBMIGAPKxDBYIwyBciJgDKic4269NgQygYAxoEwMgzXCECgnAsaAyjnu1mtDIBMIGAPKxDBYIwyBciJgDKic4269NgQygYAxoEwMgzXCECgnAsaAyjnu1mtDIBMIGAPKxDBYIwyBciJgDKic4269NgQygcD/A5HLuOrFFnApAAAAAElFTkSuQmCC" /><!-- --></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
</div>
<div id="replicate-reevaluate-the-best-solution" class="section level3">
<h3>Replicate (reevaluate the best solution)</h3>
<ul>
<li>Results can be replicated (which is helpful for noisy objective
functions)</li>
<li>Example below is based on the previous example, which uses a
deterministic function, so all replicated values will be identical.</li>
<li>The result to be reevaluted is specified as the vector
<code>lower</code>, <code>upper</code> has to be set to this value as
well (which restricts the search space to one point only).</li>
<li>The number of replications is specified via
<code>funEvals</code>.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>lower <span class="ot">&lt;-</span>res<span class="sc">$</span>xbest</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>resBestReplicated <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x=</span><span class="cn">NULL</span>,</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fun =</span> funSphere,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> lower,</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> lower,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">replicateResult =</span> <span class="cn">TRUE</span>,</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">10</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(resBestReplicated<span class="sc">$</span>x,</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>      resBestReplicated<span class="sc">$</span>y)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;               [,1]         [,2]</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1,] 6.747016e-06 4.552222e-11</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2,] 6.747016e-06 4.552222e-11</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3,] 6.747016e-06 4.552222e-11</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4,] 6.747016e-06 4.552222e-11</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5,] 6.747016e-06 4.552222e-11</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6,] 6.747016e-06 4.552222e-11</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7,] 6.747016e-06 4.552222e-11</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8,] 6.747016e-06 4.552222e-11</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9,] 6.747016e-06 4.552222e-11</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10,] 6.747016e-06 4.552222e-11</span></span></code></pre></div>
</div>
</div>
<div id="modify-the-initial-design-size" class="section level2">
<h2>Modify the initial design size</h2>
<ul>
<li>Initial design size is <code>size = 3</code></li>
<li>Altogether <code>funEvals = 4</code> function evaluations are use:
the surrogate model is build only once</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">fun =</span> funSphere,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">control =</span> <span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">4</span>,</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">3</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>x, res<span class="sc">$</span>y)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         [,1]       [,2]      [,3]</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   -0.3945281  0.3745242 0.2959208</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   -0.1988787 -0.8626836 0.7837758</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    0.9322598 -0.2156288 0.9156041</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -0.3945281  0.3745242 0.2959208</span></span></code></pre></div>
<div id="with-additional-start-points" class="section level3">
<h3>With additional start points:</h3>
<ul>
<li>Three starting points <code>x= (0.05, 0.1)</code>,
<code>x=(-0.1, 0.01)</code> and <code>x=(0.01, 0.02)</code>, which are
specified as a <code>matrix</code>. Note the <code>byrow</code>
argument.</li>
<li>One additional starting point is used
<code>designControl = list(size = 1)</code></li>
<li>The surrogate model is build once, because the budget is set to
<code>funEvals=5</code></li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fl">0.05</span>,<span class="fl">0.1</span>,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>                         <span class="sc">-</span><span class="fl">0.1</span>, <span class="fl">0.01</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>                         <span class="fl">0.01</span>, <span class="fl">0.02</span>),<span class="dv">3</span>,<span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">fun =</span> funSphere,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">control =</span> <span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">5</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">1</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>x, res<span class="sc">$</span>y)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         [,1]        [,2]      [,3]</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    0.0500000  0.10000000 0.0125000</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   -0.1000000  0.01000000 0.0101000</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    0.0100000  0.02000000 0.0005000</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   -0.2557522  0.81641558 0.7319436</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  0.3967616 -0.01536565 0.1576559</span></span></code></pre></div>
<ul>
<li>comparison with <code>optim</code> (simulated annealing):</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fs <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  x[<span class="dv">1</span>]<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> x[<span class="dv">2</span>]<span class="sc">^</span><span class="dv">2</span>}</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">optim</span>(<span class="at">par=</span><span class="fu">c</span>(<span class="fl">0.05</span>, <span class="dv">0</span>,<span class="dv">1</span>), </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">fn=</span>fs, </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">method =</span> <span class="st">&quot;SANN&quot;</span>,</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">control =</span> <span class="fu">list</span>(<span class="at">maxit =</span> <span class="dv">20</span>))</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(<span class="fu">t</span>(res<span class="sc">$</span>par),res<span class="sc">$</span>value)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      [,1] [,2] [,3]   [,4]</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] 0.05    0    1 0.0025</span></span></code></pre></div>
</div>
<div id="surrogate-based-optimization-with-optimlbfgsb-instead-of-lhs" class="section level3">
<h3>Surrogate-based optimization with optimLBFGSB instead of LHS</h3>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fl">0.05</span>,<span class="fl">0.1</span>),<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">fun =</span> funSphere,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">control=</span><span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">20</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">optimizer=</span>optimLBFGSB,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">modelControl=</span><span class="fu">list</span>(<span class="at">target=</span><span class="st">&quot;ei&quot;</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>                         )</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          [,1]         [,2]         [,3]</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -0.01451384 -0.006339419 0.0002508398</span></span></code></pre></div>
<ul>
<li>Multi start might be useful for LBFGSB:</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fl">0.05</span>,<span class="fl">0.1</span>),<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">fun =</span> funSphere,</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">control=</span><span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">20</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">optimizer=</span>optimLBFGSB,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                          <span class="at">modelControl=</span><span class="fu">list</span>(<span class="at">target=</span><span class="st">&quot;ei&quot;</span>),</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>                         <span class="at">multiStart =</span> <span class="dv">2</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>                         )</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         [,1]        [,2]         [,3]</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 0.00384341 -0.02166477 0.0004841339</span></span></code></pre></div>
</div>
<div id="random-forest-instead-of-kriging" class="section level3">
<h3>Random Forest instead of Kriging</h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(,</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>            funSphere,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">control=</span><span class="fu">list</span>(<span class="at">model=</span>buildRandomForest))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          [,1]       [,2]       [,3]</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -0.09272048 0.07403003 0.01407753</span></span></code></pre></div>
</div>
<div id="lm-instead-of-kriging" class="section level3">
<h3>LM instead of Kriging</h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>            funSphere,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>            <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">control=</span><span class="fu">list</span>(<span class="at">model=</span>buildLM)) <span class="co">#lm as surrogate</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,1]      [,2]      [,3]</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.1531584 0.3294388 0.1319874</span></span></code></pre></div>
</div>
<div id="bayesian-optimization-1" class="section level3">
<h3>Bayesian Optimization</h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.1</span>), <span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fun =</span> funSphere,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>),</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">20</span>,</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> buildBO,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizer =</span> optimLBFGSB,</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">modelControl =</span> <span class="fu">list</span>(<span class="at">target =</span> <span class="st">&quot;ei&quot;</span>)</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [,1] [,2]   [,3]</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.05  0.1 0.0125</span></span></code></pre></div>
</div>
<div id="lm-and-local-optimizer-which-for-this-simple-example-is-perfect" class="section level3">
<h3>LM and local optimizer (which for this simple example is
perfect)</h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(,funSphere,<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>   <span class="at">control=</span><span class="fu">list</span>(<span class="at">model=</span>buildLM, <span class="at">optimizer=</span>optimLBFGSB))</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>res<span class="sc">$</span>xbest</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,1]      [,2]</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.1531584 0.3294388</span></span></code></pre></div>
</div>
<div id="lasso-and-local-optimizer-nloptr" class="section level3">
<h3>Lasso and local optimizer NLOPTR</h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(,funSphere,<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>   <span class="at">control=</span><span class="fu">list</span>(<span class="at">model=</span>buildLasso, <span class="at">optimizer =</span> optimNLOPTR))</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fold</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fold</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fold</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fold</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fold</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fold</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fold</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fold</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fold</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; fold</span></span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>res<span class="sc">$</span>xbest</span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,1]      [,2]</span></span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  0.1531584 0.3294388</span></span></code></pre></div>
</div>
<div id="kriging-and-local-optimizer-lbfgsb" class="section level3">
<h3>Kriging and local optimizer LBFGSB</h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(,funSphere,<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>   <span class="at">control=</span><span class="fu">list</span>(<span class="at">model=</span>buildKriging, <span class="at">optimizer =</span> optimLBFGSB))</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          [,1]         [,2]        [,3]</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -0.01573496 -0.008860252 0.000326093</span></span></code></pre></div>
</div>
<div id="kriging-and-local-optimizer-nloptr" class="section level3">
<h3>Kriging and local optimizer NLOPTR</h3>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(,funSphere,<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">control=</span><span class="fu">list</span>(<span class="at">model=</span>buildKriging, <span class="at">optimizer =</span> optimNLOPTR))</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          [,1]         [,2]         [,3]</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -0.01440329 0.0006858711 0.0002079252</span></span></code></pre></div>
</div>
<div id="or-a-different-kriging-model" class="section level3">
<h3>Or a different Kriging model:</h3>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(,funSphere,<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a> <span class="at">control=</span><span class="fu">list</span>(<span class="at">model=</span>buildKrigingDACE, <span class="at">optimizer=</span>optimLBFGSB))</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>res<span class="sc">$</span>xbest</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          [,1]         [,2]</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -0.03586733 -0.004407048</span></span></code></pre></div>
</div>
<div id="transform-x-values" class="section level3">
<h3>Transform x values</h3>
<ul>
<li><code>x</code> values are transformed via <code>2^x</code></li>
<li>output shows natural and transformed <code>x</code> values</li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use transformed input values</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>f2 <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="dv">2</span><span class="sc">^</span>x}</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>lower <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">100</span>, <span class="sc">-</span><span class="dv">100</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>upper <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">10</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co">#transformFun &lt;- rep(&quot;identity&quot;, length(lower))</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>transformFun <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">&quot;f2&quot;</span>, <span class="fu">length</span>(lower))</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x=</span><span class="cn">NULL</span>,</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">fun=</span>funSphere,</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower=</span>lower, </span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper=</span>upper,</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">control=</span><span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">20</span>,</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>                          <span class="at">modelControl=</span><span class="fu">list</span>(<span class="at">target=</span><span class="st">&quot;ei&quot;</span>),</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>                          <span class="at">optimizer=</span>optimLBFGSB,</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>                          <span class="at">transformFun=</span>transformFun,</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>                          <span class="at">verbosity =</span> <span class="dv">0</span>,</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>                          <span class="at">progress =</span> <span class="cn">FALSE</span>,</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>                          <span class="at">plots =</span> <span class="cn">FALSE</span>))</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">cbind</span>(res<span class="sc">$</span>x, res<span class="sc">$</span>xt, res<span class="sc">$</span>y))</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          [,1]        [,2]         [,3]         [,4]         [,5]</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -90.487117  -10.373697 5.763198e-28 7.537129e-04 5.680832e-07</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -21.050860  -26.752346 4.603198e-07 8.845885e-09 2.119726e-13</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -50.573494  -53.964230 5.968447e-16 5.690468e-17 3.594617e-31</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -84.273153  -56.501840 4.278122e-26 9.800567e-18 9.605111e-35</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -71.793098  -35.123667 2.444129e-22 2.671301e-11 7.135848e-22</span></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -37.782215  -12.619332 4.230777e-12 1.589287e-04 2.525834e-08</span></span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -23.235905  -70.039402 1.012268e-07 8.242125e-22 1.024687e-14</span></span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;      1.553773    3.073928 2.935839e+00 8.420627e+00 7.952611e+01</span></span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    -64.351072  -91.408807 4.250078e-20 3.042336e-28 1.806317e-39</span></span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;     -3.234803  -88.877355 1.062251e-01 1.758936e-27 1.128378e-02</span></span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -100.000000   10.000000 7.888609e-31 1.024000e+03 1.048576e+06</span></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   10.000000  -38.697957 1.024000e+03 2.242612e-12 1.048576e+06</span></span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  -70.487451  -24.761405 6.041754e-22 3.516205e-08 1.236370e-15</span></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  -43.828184  -58.653331 6.403270e-14 2.205911e-18 4.100187e-27</span></span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  -40.534528 -100.000000 6.279012e-13 7.888609e-31 3.942599e-25</span></span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  -57.840985  -80.635742 3.873722e-18 5.323816e-25 1.500572e-35</span></span>
<span id="cb24-37"><a href="#cb24-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  -71.835137   10.000000 2.373936e-22 1.024000e+03 1.048576e+06</span></span>
<span id="cb24-38"><a href="#cb24-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1   10.000000 -100.000000 1.024000e+03 7.888609e-31 1.048576e+06</span></span>
<span id="cb24-39"><a href="#cb24-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  -24.133535  -84.591626 5.433531e-08 3.430704e-26 2.952326e-15</span></span>
<span id="cb24-40"><a href="#cb24-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  -65.787072 -100.000000 1.570789e-20 7.888609e-31 2.467378e-40</span></span>
<span id="cb24-41"><a href="#cb24-41" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">which.min</span>(res<span class="sc">$</span>y[, <span class="dv">1</span>, <span class="at">drop =</span> <span class="cn">FALSE</span>]))</span>
<span id="cb24-42"><a href="#cb24-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] 20</span></span>
<span id="cb24-43"><a href="#cb24-43" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span>
<span id="cb24-44"><a href="#cb24-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;        [,1] [,2]         [,3]</span></span>
<span id="cb24-45"><a href="#cb24-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 -65.78707 -100 2.467378e-40</span></span></code></pre></div>
</div>
<div id="with-noise-this-takes-some-time" class="section level3">
<h3>With noise: (this takes some time)</h3>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># noisy objective</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>fNoise <span class="ot">=</span> <span class="cf">function</span>(x){<span class="fu">funSphere</span>(x) <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="fu">nrow</span>(x))}</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>res1 <span class="ot">&lt;-</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spot</span>(<span class="at">x =</span> <span class="cn">NULL</span>, </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">fun =</span> fNoise, </span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">lower =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="sc">-</span><span class="dv">3</span>), </span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">list</span>(<span class="at">funEvals =</span> <span class="dv">40</span>, <span class="at">noise =</span> <span class="cn">TRUE</span>))</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co"># noise with replicated evaluations</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>res2 <span class="ot">&lt;-</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spot</span>(<span class="at">x =</span> <span class="cn">NULL</span>, </span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>       <span class="at">fun =</span> fNoise, </span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>       <span class="at">lower =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="sc">-</span><span class="dv">3</span>), </span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>       <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">funEvals =</span> <span class="dv">40</span>,</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">noise =</span> <span class="cn">TRUE</span>,</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">replicates =</span> <span class="dv">2</span>,</span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">replicates =</span> <span class="dv">2</span>)</span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="co"># and with OCBA</span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a>res3 <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x =</span> <span class="cn">NULL</span>, </span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">fun =</span> fNoise, </span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">lower =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="sc">-</span><span class="dv">3</span>), </span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">40</span>,</span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">noise =</span> <span class="cn">TRUE</span>,</span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">replicates =</span> <span class="dv">2</span>,</span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">OCBA =</span> <span class="cn">TRUE</span>,</span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">OCBABudget =</span> <span class="dv">1</span>,</span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">replicates =</span> <span class="dv">2</span>)</span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Check results with non-noisy function:</span></span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a><span class="fu">funSphere</span>(res1<span class="sc">$</span>xbest)</span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           [,1]</span></span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] 0.9811919</span></span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a><span class="fu">funSphere</span>(res2<span class="sc">$</span>xbest)</span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;         [,1]</span></span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] 1.74417</span></span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a><span class="fu">funSphere</span>(res3<span class="sc">$</span>xbest)</span>
<span id="cb25-43"><a href="#cb25-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          [,1]</span></span>
<span id="cb25-44"><a href="#cb25-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] 1.084404</span></span></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>lower <span class="ot">&lt;-</span>res3<span class="sc">$</span>xbest</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>resBestReplicated <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  ,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">fun =</span> fNoise,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> lower,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> lower,</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">10</span>,</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">replicateResults =</span> <span class="cn">TRUE</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>   )</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(resBestReplicated<span class="sc">$</span>x,</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>      resBestReplicated<span class="sc">$</span>y)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;            [,1]      [,2]       [,3]</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1,] 0.9586859 0.4066022  0.1312009</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2,] 0.9586859 0.4066022  1.4909468</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3,] 0.9586859 0.4066022  3.3136663</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4,] 0.9586859 0.4066022 -0.4300930</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5,] 0.9586859 0.4066022  1.0226966</span></span>
<span id="cb26-20"><a href="#cb26-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6,] 0.9586859 0.4066022  0.9371333</span></span>
<span id="cb26-21"><a href="#cb26-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7,] 0.9586859 0.4066022  2.6259971</span></span>
<span id="cb26-22"><a href="#cb26-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8,] 0.9586859 0.4066022  0.1025484</span></span>
<span id="cb26-23"><a href="#cb26-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9,] 0.9586859 0.4066022  1.5809822</span></span>
<span id="cb26-24"><a href="#cb26-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10,] 0.9586859 0.4066022  2.7813519</span></span></code></pre></div>
</div>
<div id="random-number-seed-handling" class="section level3">
<h3>Random number seed handling</h3>
<p>The following is for demonstration only, to be used for random number
seed handling in case of external noisy target functions.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>res1a <span class="ot">&lt;-</span> <span class="fu">spot</span>(,<span class="cf">function</span>(x,seed){<span class="fu">set.seed</span>(seed);<span class="fu">funSphere</span>(x)<span class="sc">+</span><span class="fu">rnorm</span>(<span class="fu">nrow</span>(x))},</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="at">control=</span><span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">25</span>,<span class="at">noise=</span><span class="cn">TRUE</span>,<span class="at">seedFun=</span><span class="dv">1</span>))</span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>res1b <span class="ot">&lt;-</span> <span class="fu">spot</span>(,<span class="cf">function</span>(x,seed){<span class="fu">set.seed</span>(seed);<span class="fu">funSphere</span>(x)<span class="sc">+</span><span class="fu">rnorm</span>(<span class="fu">nrow</span>(x))},</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="at">control=</span><span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">25</span>,<span class="at">noise=</span><span class="cn">TRUE</span>,<span class="at">seedFun=</span><span class="dv">1</span>))</span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>res2 <span class="ot">&lt;-</span> <span class="fu">spot</span>(,<span class="cf">function</span>(x,seed){<span class="fu">set.seed</span>(seed);<span class="fu">funSphere</span>(x)<span class="sc">+</span><span class="fu">rnorm</span>(<span class="fu">nrow</span>(x))},</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>,<span class="sc">-</span><span class="dv">3</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="at">control=</span><span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">25</span>,<span class="at">noise=</span><span class="cn">TRUE</span>,<span class="at">seedFun=</span><span class="dv">2</span>))</span></code></pre></div>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;Should be equal: %f = %f. Should be different:  %f&quot;</span>, res1a<span class="sc">$</span>ybest, res1b<span class="sc">$</span>ybest, res2<span class="sc">$</span>ybest)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;Should be equal: -1.296329 = -1.296329. Should be different:  -0.889934&quot;</span></span></code></pre></div>
</div>
<div id="handling-factor-variables" class="section level3">
<h3>Handling factor variables</h3>
<p>Note: factors should be coded as integer values, i.e., 1,2,…,n First,
we create a test function with a factor variable:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>braninFunctionFactor <span class="ot">&lt;-</span> <span class="cf">function</span> (x) {</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>   y <span class="ot">&lt;-</span> (x[<span class="dv">2</span>]  <span class="sc">-</span> <span class="fl">5.1</span><span class="sc">/</span>(<span class="dv">4</span> <span class="sc">*</span> pi<span class="sc">^</span><span class="dv">2</span>) <span class="sc">*</span> (x[<span class="dv">1</span>] <span class="sc">^</span><span class="dv">2</span>) <span class="sc">+</span> <span class="dv">5</span><span class="sc">/</span>pi <span class="sc">*</span> x[<span class="dv">1</span>]  <span class="sc">-</span> <span class="dv">6</span>)<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>     <span class="dv">10</span> <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> <span class="dv">1</span><span class="sc">/</span>(<span class="dv">8</span> <span class="sc">*</span> pi)) <span class="sc">*</span> <span class="fu">cos</span>(x[<span class="dv">1</span>] ) <span class="sc">+</span> <span class="dv">10</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span>(x[<span class="dv">3</span>]<span class="sc">==</span><span class="dv">1</span>)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>     y <span class="ot">&lt;-</span> y <span class="sc">+</span><span class="dv">1</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>   <span class="cf">else</span> <span class="cf">if</span>(x[<span class="dv">3</span>]<span class="sc">==</span><span class="dv">2</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>     y <span class="ot">&lt;-</span> y <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">return</span>(y)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Vectorize the test function.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>objFun <span class="ot">&lt;-</span> <span class="cf">function</span>(x){<span class="fu">apply</span>(x,<span class="dv">1</span>,braninFunctionFactor)}</span></code></pre></div>
<p>Run <code>spot</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">fun=</span>objFun,<span class="at">lower=</span><span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>,<span class="dv">0</span>,<span class="dv">1</span>),<span class="at">upper=</span><span class="fu">c</span>(<span class="dv">10</span>,<span class="dv">15</span>,<span class="dv">3</span>),</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">control=</span><span class="fu">list</span>(<span class="at">model=</span>buildKriging,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">types=</span> <span class="fu">c</span>(<span class="st">&quot;numeric&quot;</span>,<span class="st">&quot;numeric&quot;</span>,<span class="st">&quot;factor&quot;</span>),</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">optimizer=</span>optimLHD))</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a> res<span class="sc">$</span>xbest</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,1]     [,2] [,3]</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 2.619386 2.725642    2</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a> res<span class="sc">$</span>ybest</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           [,1]</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1,] 0.6777176</span></span></code></pre></div>
</div>
<div id="high-dimensional-problem" class="section level3">
<h3>High dimensional problem</h3>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>,n)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">1</span>,n)</span></code></pre></div>
<p>First, we consider the default <code>spot</code> setting with
<code>buildKriging()</code>.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>tic <span class="ot">&lt;-</span> <span class="fu">proc.time</span>()[<span class="dv">3</span>]</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>res0 <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x=</span><span class="cn">NULL</span>, funSphere, <span class="at">lower =</span> a, <span class="at">upper =</span> b, </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">control=</span><span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">30</span>))</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>toc <span class="ot">&lt;-</span> <span class="fu">proc.time</span>()[<span class="dv">3</span>]</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;value: %f, time: %f&quot;</span>,  res0<span class="sc">$</span>ybest, toc<span class="sc">-</span>tic)</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;value: 0.988475, time: 8.426000&quot;</span></span></code></pre></div>
<p>Then, we use the <code>buildGaussianProcess()</code> model.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>tic <span class="ot">&lt;-</span> <span class="fu">proc.time</span>()[<span class="dv">3</span>]</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>res1 <span class="ot">&lt;-</span>  <span class="fu">spot</span>(<span class="at">x=</span><span class="cn">NULL</span>, funSphere, <span class="at">lower =</span> a, <span class="at">upper =</span> b, </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">control=</span><span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">30</span>, </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">model =</span> buildGaussianProcess))</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>toc <span class="ot">&lt;-</span> <span class="fu">proc.time</span>()[<span class="dv">3</span>]</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sprintf</span>(<span class="st">&quot;value: %f, time: %f&quot;</span>,  res1<span class="sc">$</span>ybest, toc<span class="sc">-</span>tic)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;value: 0.988475, time: 0.800000&quot;</span></span></code></pre></div>
</div>
<div id="run-spot-with-logging" class="section level3">
<h3>Run SPOT with logging</h3>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">## run spot without log</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">fun =</span> funSphere,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>),</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper=</span><span class="fu">c</span>(<span class="dv">100</span>,<span class="dv">100</span>)</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="do">## run spot with log (3-dim &quot;y&quot; output: first is y, last are x val (here 2-dim))</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>funSphereLog <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cbind</span>(<span class="fu">funSphere</span>(x),x)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>res2 <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">fun =</span> funSphereLog,</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">lower=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>),</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">upper=</span><span class="fu">c</span>(<span class="dv">100</span>,<span class="dv">100</span>)</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>res<span class="sc">$</span>logInfo</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] NA</span></span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>res2<span class="sc">$</span>logInfo</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;          X3         X4</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    8.648076 81.4784571</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   71.771945 66.5887761</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   44.933187 41.8506996</span></span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   14.297134 39.5437814</span></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   25.642638 58.9784849</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   56.561623 79.4369705</span></span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   69.785541 27.2369075</span></span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   92.321611 93.7035707</span></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   32.408116  7.8101754</span></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   87.968361 10.1114951</span></span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.152969  3.1352284</span></span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.152969  3.1352284</span></span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.152969  3.1352284</span></span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.152969  3.1352284</span></span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.377815  0.5194955</span></span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.377815  0.5194955</span></span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.377815  0.5194955</span></span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.377815  0.5194955</span></span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.377815  0.5194955</span></span>
<span id="cb37-37"><a href="#cb37-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1  3.377815  0.5194955</span></span>
<span id="cb37-38"><a href="#cb37-38" aria-hidden="true" tabindex="-1"></a><span class="do">## re-evaluation of the x-values and comparison with evaluated x-values:</span></span>
<span id="cb37-39"><a href="#cb37-39" aria-hidden="true" tabindex="-1"></a><span class="fu">funSphere</span>(res2<span class="sc">$</span>logInfo) <span class="sc">==</span> res<span class="sc">$</span>y</span>
<span id="cb37-40"><a href="#cb37-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;       [,1]</span></span>
<span id="cb37-41"><a href="#cb37-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1,] TRUE</span></span>
<span id="cb37-42"><a href="#cb37-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [2,] TRUE</span></span>
<span id="cb37-43"><a href="#cb37-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3,] TRUE</span></span>
<span id="cb37-44"><a href="#cb37-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4,] TRUE</span></span>
<span id="cb37-45"><a href="#cb37-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5,] TRUE</span></span>
<span id="cb37-46"><a href="#cb37-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6,] TRUE</span></span>
<span id="cb37-47"><a href="#cb37-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7,] TRUE</span></span>
<span id="cb37-48"><a href="#cb37-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [8,] TRUE</span></span>
<span id="cb37-49"><a href="#cb37-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9,] TRUE</span></span>
<span id="cb37-50"><a href="#cb37-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10,] TRUE</span></span>
<span id="cb37-51"><a href="#cb37-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11,] TRUE</span></span>
<span id="cb37-52"><a href="#cb37-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [12,] TRUE</span></span>
<span id="cb37-53"><a href="#cb37-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13,] TRUE</span></span>
<span id="cb37-54"><a href="#cb37-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [14,] TRUE</span></span>
<span id="cb37-55"><a href="#cb37-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15,] TRUE</span></span>
<span id="cb37-56"><a href="#cb37-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16,] TRUE</span></span>
<span id="cb37-57"><a href="#cb37-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [17,] TRUE</span></span>
<span id="cb37-58"><a href="#cb37-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [18,] TRUE</span></span>
<span id="cb37-59"><a href="#cb37-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19,] TRUE</span></span>
<span id="cb37-60"><a href="#cb37-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [20,] TRUE</span></span></code></pre></div>
</div>
</div>
<div id="hybrid-optimization" class="section level2">
<h2>Hybrid optimization</h2>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">fun =</span> funSphere, <span class="at">lower =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">5</span>,<span class="sc">-</span><span class="dv">5</span>),</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">upper =</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">5</span>), </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">control =</span> <span class="fu">list</span>(<span class="at">funEvals =</span> <span class="dv">20</span>,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">directOpt =</span> optimNLOPTR,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals =</span> <span class="dv">10</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>                ))</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(res)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; List of 12</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ xbest   : num [1, 1:2] 0 0</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ ybest   : num 0</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ x       : num [1:33, 1:2] -4.135 2.177 -0.507 -3.57 -2.436 ...</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;dimnames&quot;)=List of 2</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..$ : chr [1:33] &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..$ : NULL</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ xt      : logi NA</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ y       : num [1:33, 1] 27.009 7.492 0.921 13.84 6.739 ...</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ logInfo : logi NA</span></span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ count   : int 20</span></span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ msg     : chr &quot;budget exhausted&quot;</span></span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ modelFit:List of 33</span></span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ thetaLower      : num 1e-04</span></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ thetaUpper      : num 100</span></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ types           : chr [1:2] &quot;numeric&quot; &quot;numeric&quot;</span></span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ algTheta        :function (x = NULL, fun, lower, upper, control = list(), ...)  </span></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ budgetAlgTheta  : num 200</span></span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ optimizeP       : logi FALSE</span></span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ useLambda       : logi TRUE</span></span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ lambdaLower     : num -6</span></span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ lambdaUpper     : num 0</span></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ startTheta      : NULL</span></span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ reinterpolate   : logi TRUE</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ target          : chr &quot;y&quot;</span></span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ modelInitialized: logi TRUE</span></span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ x               : num [1:19, 1:2] -4.135 2.177 -0.507 -3.57 -2.436 ...</span></span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..- attr(*, &quot;dimnames&quot;)=List of 2</span></span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. .. ..$ : chr [1:19] &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...</span></span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. .. ..$ : NULL</span></span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ y               : num [1:19, 1] 27.009 7.492 0.921 13.84 6.739 ...</span></span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ normalizeymin   : num 0</span></span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ normalizeymax   : num 1</span></span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ scaledx         : num [1:19, 1:2] 0 0.7544 0.4337 0.0675 0.2031 ...</span></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..- attr(*, &quot;dimnames&quot;)=List of 2</span></span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. .. ..$ : chr [1:19] &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...</span></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. .. ..$ : NULL</span></span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ normalizexmin   : num [1:2] -4.14 -4.22</span></span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ normalizexmax   : num [1:2] 4.23 4.37</span></span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ dmodeltheta     : num [1:2] 3.54 1.71</span></span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ Lambda          : num -5.96</span></span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ dmodellambda    : num 1.09e-06</span></span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ Theta           : num [1:2] 0.549 0.234</span></span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ yonemu          : num [1:19, 1] -11.4 -30.9 -37.5 -24.5 -31.6 ...</span></span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ ssq             : num 174</span></span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ mu              : num 38.4</span></span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ Psi             : num [1:19, 1:19] 1 0.127 0.357 0.654 0.768 ...</span></span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ Psinv           : num [1:19, 1:19] 9.51 -2.16 203.14 3.54 -28.86 ...</span></span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ nevals          : num 1200</span></span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ like            : num [1, 1] -16.8</span></span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ returnCrossCor  : logi FALSE</span></span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ min             : num 0.0988</span></span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..- attr(*, &quot;class&quot;)= chr &quot;kriging&quot;</span></span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ ybestVec: num [1:20] 0.921 0.921 0.921 0.921 0.921 ...</span></span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ ySurr   : num [1:20] NA NA NA NA NA NA NA NA NA NA ...</span></span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  $ control :List of 34</span></span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ funEvals             : num 20</span></span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ lower                : num [1:2] -5 -5</span></span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ upper                : num [1:2] 5 5</span></span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ types                : chr [1:2] &quot;numeric&quot; &quot;numeric&quot;</span></span>
<span id="cb38-68"><a href="#cb38-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ design               :function (x = NULL, lower, upper, control = list())  </span></span>
<span id="cb38-69"><a href="#cb38-69" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ designControl        :List of 1</span></span>
<span id="cb38-70"><a href="#cb38-70" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..$ types: chr [1:2] &quot;numeric&quot; &quot;numeric&quot;</span></span>
<span id="cb38-71"><a href="#cb38-71" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ subsetSelect         :function (x, y, control)  </span></span>
<span id="cb38-72"><a href="#cb38-72" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ subsetControl        : list()</span></span>
<span id="cb38-73"><a href="#cb38-73" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ direct               : logi FALSE</span></span>
<span id="cb38-74"><a href="#cb38-74" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ model                :function (x, y, control = list())  </span></span>
<span id="cb38-75"><a href="#cb38-75" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ modelControl         :List of 2</span></span>
<span id="cb38-76"><a href="#cb38-76" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..$ modelInitialized: logi FALSE</span></span>
<span id="cb38-77"><a href="#cb38-77" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..$ types           : chr [1:2] &quot;numeric&quot; &quot;numeric&quot;</span></span>
<span id="cb38-78"><a href="#cb38-78" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ multiStart           : num 1</span></span>
<span id="cb38-79"><a href="#cb38-79" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ optimizer            :function (x = NULL, fun, lower, upper, control = list(), ...)  </span></span>
<span id="cb38-80"><a href="#cb38-80" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ optimizerControl     :List of 1</span></span>
<span id="cb38-81"><a href="#cb38-81" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..$ types: chr [1:2] &quot;numeric&quot; &quot;numeric&quot;</span></span>
<span id="cb38-82"><a href="#cb38-82" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ directOpt            :function (x = NULL, fun, lower, upper, control = list(), ...)  </span></span>
<span id="cb38-83"><a href="#cb38-83" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ directOptControl     :List of 1</span></span>
<span id="cb38-84"><a href="#cb38-84" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..$ funEvals: num 10</span></span>
<span id="cb38-85"><a href="#cb38-85" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ returnFullControlList: logi TRUE</span></span>
<span id="cb38-86"><a href="#cb38-86" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ plots                : logi FALSE</span></span>
<span id="cb38-87"><a href="#cb38-87" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ progress             : logi FALSE</span></span>
<span id="cb38-88"><a href="#cb38-88" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ OCBA                 : logi FALSE</span></span>
<span id="cb38-89"><a href="#cb38-89" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ OCBABudget           : num 1</span></span>
<span id="cb38-90"><a href="#cb38-90" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ replicates           : num 1</span></span>
<span id="cb38-91"><a href="#cb38-91" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ transformFun         : logi(0) </span></span>
<span id="cb38-92"><a href="#cb38-92" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ xNewActualSize       : num 0</span></span>
<span id="cb38-93"><a href="#cb38-93" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ noise                : logi FALSE</span></span>
<span id="cb38-94"><a href="#cb38-94" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ replicateResult      : logi FALSE</span></span>
<span id="cb38-95"><a href="#cb38-95" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ seedFun              : logi NA</span></span>
<span id="cb38-96"><a href="#cb38-96" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ seedSPOT             : num 1</span></span>
<span id="cb38-97"><a href="#cb38-97" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ infillCriterion      : NULL</span></span>
<span id="cb38-98"><a href="#cb38-98" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ verbosity            : num 0</span></span>
<span id="cb38-99"><a href="#cb38-99" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ time                 :List of 3</span></span>
<span id="cb38-100"><a href="#cb38-100" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..$ maxTime  : num Inf</span></span>
<span id="cb38-101"><a href="#cb38-101" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..$ startTime: POSIXct[1:1], format: &quot;2022-03-17 23:26:16&quot;</span></span>
<span id="cb38-102"><a href="#cb38-102" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   .. ..$ endTime  : POSIXct[1:1], format: &quot;2022-03-17 23:26:17&quot;</span></span>
<span id="cb38-103"><a href="#cb38-103" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ maxTime              : num Inf</span></span>
<span id="cb38-104"><a href="#cb38-104" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ tolerance            : num 1.49e-08</span></span>
<span id="cb38-105"><a href="#cb38-105" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   ..$ fixError             : logi FALSE</span></span></code></pre></div>
</div>
<div id="handling-constraints" class="section level2">
<h2>Handling constraints</h2>
<ul>
<li>Definitions and constraints</li>
</ul>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(babsim.hospital)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">29</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>reps <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>funEvals <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">*</span>n </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span>n</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>x0 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">as.numeric</span>(babsim.hospital<span class="sc">::</span><span class="fu">getParaSet</span>(<span class="dv">5374</span>)[<span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>]),<span class="dv">1</span>,)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>bounds <span class="ot">&lt;-</span> <span class="fu">getBounds</span>()</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> bounds<span class="sc">$</span>lower</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> bounds<span class="sc">$</span>upper</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(<span class="fu">rbind</span>(a[<span class="dv">1</span>] <span class="sc">-</span> x[<span class="dv">1</span>], x[<span class="dv">1</span>] <span class="sc">-</span> b[<span class="dv">1</span>], a[<span class="dv">2</span>] <span class="sc">-</span> x[<span class="dv">2</span>], x[<span class="dv">2</span>] <span class="sc">-</span> b[<span class="dv">2</span>], </span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">3</span>] <span class="sc">-</span> x[<span class="dv">3</span>], x[<span class="dv">3</span>] <span class="sc">-</span> b[<span class="dv">3</span>], a[<span class="dv">4</span>] <span class="sc">-</span> x[<span class="dv">4</span>], x[<span class="dv">4</span>] <span class="sc">-</span> b[<span class="dv">4</span>], </span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">5</span>] <span class="sc">-</span> x[<span class="dv">5</span>], x[<span class="dv">5</span>] <span class="sc">-</span> b[<span class="dv">5</span>], a[<span class="dv">6</span>] <span class="sc">-</span> x[<span class="dv">6</span>], x[<span class="dv">6</span>] <span class="sc">-</span> b[<span class="dv">6</span>], </span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">7</span>] <span class="sc">-</span> x[<span class="dv">7</span>], x[<span class="dv">7</span>] <span class="sc">-</span> b[<span class="dv">7</span>], a[<span class="dv">8</span>] <span class="sc">-</span> x[<span class="dv">8</span>], x[<span class="dv">8</span>] <span class="sc">-</span> b[<span class="dv">8</span>], </span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">9</span>] <span class="sc">-</span> x[<span class="dv">9</span>], x[<span class="dv">9</span>] <span class="sc">-</span> b[<span class="dv">9</span>], a[<span class="dv">10</span>] <span class="sc">-</span> x[<span class="dv">10</span>], x[<span class="dv">10</span>] <span class="sc">-</span> b[<span class="dv">10</span>],</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">11</span>] <span class="sc">-</span> x[<span class="dv">11</span>], x[<span class="dv">11</span>] <span class="sc">-</span> b[<span class="dv">11</span>], a[<span class="dv">12</span>] <span class="sc">-</span> x[<span class="dv">12</span>],  x[<span class="dv">12</span>] <span class="sc">-</span> b[<span class="dv">12</span>],</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">13</span>] <span class="sc">-</span> x[<span class="dv">13</span>], x[<span class="dv">13</span>] <span class="sc">-</span> b[<span class="dv">13</span>], a[<span class="dv">14</span>] <span class="sc">-</span> x[<span class="dv">14</span>],  x[<span class="dv">14</span>] <span class="sc">-</span> b[<span class="dv">14</span>],</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">15</span>] <span class="sc">-</span> x[<span class="dv">15</span>], x[<span class="dv">15</span>] <span class="sc">-</span> b[<span class="dv">15</span>], a[<span class="dv">16</span>] <span class="sc">-</span> x[<span class="dv">16</span>],  x[<span class="dv">16</span>] <span class="sc">-</span> b[<span class="dv">16</span>],</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">17</span>] <span class="sc">-</span> x[<span class="dv">17</span>], x[<span class="dv">17</span>] <span class="sc">-</span> b[<span class="dv">17</span>], a[<span class="dv">18</span>] <span class="sc">-</span> x[<span class="dv">18</span>],  x[<span class="dv">18</span>] <span class="sc">-</span> b[<span class="dv">18</span>],</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">19</span>] <span class="sc">-</span> x[<span class="dv">19</span>], x[<span class="dv">19</span>] <span class="sc">-</span> b[<span class="dv">19</span>], a[<span class="dv">20</span>] <span class="sc">-</span> x[<span class="dv">20</span>],  x[<span class="dv">20</span>] <span class="sc">-</span> b[<span class="dv">20</span>],</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">21</span>] <span class="sc">-</span> x[<span class="dv">21</span>], x[<span class="dv">21</span>] <span class="sc">-</span> b[<span class="dv">21</span>], a[<span class="dv">22</span>] <span class="sc">-</span> x[<span class="dv">22</span>],  x[<span class="dv">22</span>] <span class="sc">-</span> b[<span class="dv">22</span>],</span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">23</span>] <span class="sc">-</span> x[<span class="dv">23</span>], x[<span class="dv">23</span>] <span class="sc">-</span> b[<span class="dv">23</span>], a[<span class="dv">24</span>] <span class="sc">-</span> x[<span class="dv">24</span>],  x[<span class="dv">24</span>] <span class="sc">-</span> b[<span class="dv">24</span>],</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">25</span>] <span class="sc">-</span> x[<span class="dv">25</span>], x[<span class="dv">25</span>] <span class="sc">-</span> b[<span class="dv">25</span>], a[<span class="dv">26</span>] <span class="sc">-</span> x[<span class="dv">26</span>],  x[<span class="dv">26</span>] <span class="sc">-</span> b[<span class="dv">26</span>],</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">27</span>] <span class="sc">-</span> x[<span class="dv">27</span>], x[<span class="dv">27</span>] <span class="sc">-</span> b[<span class="dv">27</span>], x[<span class="dv">15</span>] <span class="sc">+</span> x[<span class="dv">16</span>] <span class="sc">-</span> <span class="dv">1</span>, </span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>                   x[<span class="dv">17</span>] <span class="sc">+</span> x[<span class="dv">18</span>] <span class="sc">+</span> x[<span class="dv">19</span>] <span class="sc">-</span> <span class="dv">1</span>, x[<span class="dv">20</span>] <span class="sc">+</span> x[<span class="dv">21</span>] <span class="sc">-</span> <span class="dv">1</span>, x[<span class="dv">23</span>] <span class="sc">+</span> x[<span class="dv">29</span>] <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> x0,</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fun =</span> funBaBSimHospital,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> a,</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> b,</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbosity =</span> <span class="dv">0</span>,</span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">2</span> <span class="sc">*</span> funEvals,</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">noise =</span> <span class="cn">TRUE</span>,</span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">designControl =</span> <span class="fu">list</span>(<span class="co"># inequalityConstraint = g,</span></span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> size,</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">retries =</span> <span class="dv">1000</span>),</span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizer =</span> optimNLOPTR,</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizerControl =</span> <span class="fu">list</span>(</span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">opts =</span> <span class="fu">list</span>(<span class="at">algorithm =</span> <span class="st">&quot;NLOPT_GN_ISRES&quot;</span>),</span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>      <span class="at">eval_g_ineq =</span> g</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span>  buildKriging,</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">plots =</span> <span class="cn">FALSE</span>,</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">progress =</span> <span class="cn">TRUE</span>,</span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">directOpt =</span> optimNLOPTR,</span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals =</span> <span class="dv">0</span>),</span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">eval_g_ineq =</span> g</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(res)</span></code></pre></div>
</div>
<div id="gecco-industrial-challenge-2021" class="section level2">
<h2>GECCO Industrial Challenge 2021</h2>
<p>A description of the challenge can be found here: <a href="https://www.th-koeln.de/informatik-und-ingenieurwissenschaften/gecco-2021-industrial-challenge-call-for-participation_82086.php">GECCO
Industrial Challenge 2021</a>. In short the goal of the challenge is to
find an optimal parameter configuration for the BabSim.Hospital
simulator. This is a noisy and complex real-world problem.</p>
<div id="evaluation-using-the-docker-container" class="section level3">
<h3>Evaluation Using the Docker Container</h3>
<p>In order to be able to execute the necessary code of the GECCO
Industrial challenge 2021 you will need to have <a href="https://docs.docker.com/get-docker/">Docker</a> installed in your
machine. On your terminal console an evaluation of the BabSim.Hospital
should looks like the command below. This command will automatically
download the Docker image with the BabSim.Hospital code in it (may need
sudo rights to download). Take care, the formatting of the symbols - and
’ can cause this command not to work on your terminal:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># docker run --rm mrebolle/r-geccoc:Track1 -c &#39;Rscript objfun.R &quot;6,7,3,3,3,5,3,3,25,17,2,1,0.25,0.05,0.07,0.005,0.07,1e-04,0.08,0.25,0.08,0.5,1e-06,2,1e-06,1e-06,1,2,0.5&quot;&#39;</span></span></code></pre></div>
<p>An optimization run with SPOT, using the Docker command call as
objective function, can be directly implemented in R as follows:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SPOT)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>evalFun <span class="ot">&lt;-</span> <span class="cf">function</span>(candidateSolution){</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    evalCommand <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&quot;docker run --rm mrebolle/r-geccoc:Track1 -c &quot;</span>, <span class="st">&quot;&#39;&quot;</span>,<span class="st">&quot;Rscript objfun.R &quot;</span>)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    parsedCandidate <span class="ot">&lt;-</span> <span class="fu">paste</span>(candidateSolution, <span class="at">sep=</span><span class="st">&quot;,&quot;</span>, <span class="at">collapse =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">as.numeric</span>(<span class="fu">system</span>(<span class="fu">paste0</span>(evalCommand, <span class="st">&#39;&quot;&#39;</span>, parsedCandidate, <span class="st">&#39;&quot;&#39;</span>, <span class="st">&quot;&#39;&quot;</span>), <span class="at">intern =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a><span class="co">#The BabSim.Hospital requires 29 parameters. Here we specify the upper and lower bounds</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>lower <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">25</span>,<span class="dv">17</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="fl">0.25</span>,<span class="fl">0.05</span>,<span class="fl">0.07</span>,</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a>           <span class="fl">0.005</span>,<span class="fl">0.07</span>,<span class="fl">1e-04</span>,<span class="fl">0.08</span>,<span class="fl">0.25</span>,<span class="fl">0.08</span>,<span class="fl">0.5</span>,<span class="fl">1e-06</span>,</span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>           <span class="dv">2</span>,<span class="fl">1e-06</span>,<span class="fl">1e-06</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="fl">0.5</span>)</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>upper<span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">14</span>,<span class="dv">13</span>,<span class="dv">7</span>,<span class="dv">9</span>,<span class="dv">7</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">35</span>,<span class="dv">25</span>,<span class="dv">5</span>,<span class="dv">7</span>,<span class="dv">2</span>,<span class="fl">0.15</span>,<span class="fl">0.11</span>,<span class="fl">0.02</span>,</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>          <span class="fl">0.13</span>,<span class="fl">0.002</span>,<span class="fl">0.12</span>,<span class="fl">0.35</span>,<span class="fl">0.12</span>,<span class="fl">0.9</span>,<span class="fl">0.01</span>,<span class="dv">4</span>,<span class="fl">1.1</span>,<span class="fl">0.0625</span>,</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a>          <span class="dv">2</span>,<span class="dv">5</span>,<span class="fl">0.75</span>)</span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>wFun <span class="ot">&lt;-</span> <span class="fu">wrapFunction</span>(evalFun)</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">29</span> </span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>reps <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a>funEvals <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">*</span>n </span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span>n</span>
<span id="cb42-24"><a href="#cb42-24" aria-hidden="true" tabindex="-1"></a>x0<span class="ot">&lt;-</span><span class="fu">matrix</span>(lower,<span class="at">nrow =</span> <span class="dv">1</span>)</span>
<span id="cb42-25"><a href="#cb42-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-26"><a href="#cb42-26" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x =</span> x0,</span>
<span id="cb42-27"><a href="#cb42-27" aria-hidden="true" tabindex="-1"></a>  <span class="at">fun =</span> wFun,</span>
<span id="cb42-28"><a href="#cb42-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> lower,</span>
<span id="cb42-29"><a href="#cb42-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> upper,</span>
<span id="cb42-30"><a href="#cb42-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb42-31"><a href="#cb42-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">2</span> <span class="sc">*</span> funEvals,</span>
<span id="cb42-32"><a href="#cb42-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">noise =</span> <span class="cn">TRUE</span>,</span>
<span id="cb42-33"><a href="#cb42-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">designControl =</span> <span class="fu">list</span>(</span>
<span id="cb42-34"><a href="#cb42-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> size,</span>
<span id="cb42-35"><a href="#cb42-35" aria-hidden="true" tabindex="-1"></a>      <span class="at">retries =</span> <span class="dv">1000</span>),</span>
<span id="cb42-36"><a href="#cb42-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizer =</span> optimNLOPTR,</span>
<span id="cb42-37"><a href="#cb42-37" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizerControl =</span> <span class="fu">list</span>(</span>
<span id="cb42-38"><a href="#cb42-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">opts =</span> <span class="fu">list</span>(<span class="at">algorithm =</span> <span class="st">&quot;NLOPT_GN_ISRES&quot;</span>)</span>
<span id="cb42-39"><a href="#cb42-39" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb42-40"><a href="#cb42-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span>  buildKriging,</span>
<span id="cb42-41"><a href="#cb42-41" aria-hidden="true" tabindex="-1"></a>    <span class="at">plots =</span> <span class="cn">TRUE</span>,</span>
<span id="cb42-42"><a href="#cb42-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">progress =</span> <span class="cn">TRUE</span>,</span>
<span id="cb42-43"><a href="#cb42-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">directOpt =</span> optimNLOPTR,</span>
<span id="cb42-44"><a href="#cb42-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals =</span> <span class="dv">0</span>)</span>
<span id="cb42-45"><a href="#cb42-45" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb42-46"><a href="#cb42-46" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="evaluation-using-the-babsim.hospital-r-package" class="section level3">
<h3>Evaluation Using the babsim.hospital R Package</h3>
<p>The optimization of the BabSim.Hospital parameters can also be
executed directly using the babsim.hospital package.</p>
<p>The babsim.hospital package can be installed by downloading the
source from the Gitlab repository and building the package.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>git clone http<span class="sc">:</span><span class="er">//</span>owos.gm.fh<span class="sc">-</span>koeln.de<span class="sc">:</span><span class="dv">8055</span><span class="sc">/</span>bartz<span class="sc">/</span>babsim.hospital.git</span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SPOT)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(babsim.hospital)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">29</span> </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>reps <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>funEvals <span class="ot">&lt;-</span> <span class="dv">3</span><span class="sc">*</span>n </span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>size <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">*</span>n</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="co">#Get suggested parameter values as initial point in the optimization run</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>x0 <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">as.numeric</span>(babsim.hospital<span class="sc">::</span><span class="fu">getParaSet</span>(<span class="dv">5374</span>)[<span class="dv">1</span>,<span class="sc">-</span><span class="dv">1</span>]),<span class="dv">1</span>,)</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>bounds <span class="ot">&lt;-</span> <span class="fu">getBounds</span>()</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> bounds<span class="sc">$</span>lower</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> bounds<span class="sc">$</span>upper</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">return</span>(<span class="fu">rbind</span>(a[<span class="dv">1</span>] <span class="sc">-</span> x[<span class="dv">1</span>], x[<span class="dv">1</span>] <span class="sc">-</span> b[<span class="dv">1</span>], a[<span class="dv">2</span>] <span class="sc">-</span> x[<span class="dv">2</span>], x[<span class="dv">2</span>] <span class="sc">-</span> b[<span class="dv">2</span>], </span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">3</span>] <span class="sc">-</span> x[<span class="dv">3</span>], x[<span class="dv">3</span>] <span class="sc">-</span> b[<span class="dv">3</span>], a[<span class="dv">4</span>] <span class="sc">-</span> x[<span class="dv">4</span>], x[<span class="dv">4</span>] <span class="sc">-</span> b[<span class="dv">4</span>], </span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">5</span>] <span class="sc">-</span> x[<span class="dv">5</span>], x[<span class="dv">5</span>] <span class="sc">-</span> b[<span class="dv">5</span>], a[<span class="dv">6</span>] <span class="sc">-</span> x[<span class="dv">6</span>], x[<span class="dv">6</span>] <span class="sc">-</span> b[<span class="dv">6</span>], </span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">7</span>] <span class="sc">-</span> x[<span class="dv">7</span>], x[<span class="dv">7</span>] <span class="sc">-</span> b[<span class="dv">7</span>], a[<span class="dv">8</span>] <span class="sc">-</span> x[<span class="dv">8</span>], x[<span class="dv">8</span>] <span class="sc">-</span> b[<span class="dv">8</span>], </span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">9</span>] <span class="sc">-</span> x[<span class="dv">9</span>], x[<span class="dv">9</span>] <span class="sc">-</span> b[<span class="dv">9</span>], a[<span class="dv">10</span>] <span class="sc">-</span> x[<span class="dv">10</span>], x[<span class="dv">10</span>] <span class="sc">-</span> b[<span class="dv">10</span>],</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">11</span>] <span class="sc">-</span> x[<span class="dv">11</span>], x[<span class="dv">11</span>] <span class="sc">-</span> b[<span class="dv">11</span>], a[<span class="dv">12</span>] <span class="sc">-</span> x[<span class="dv">12</span>],  x[<span class="dv">12</span>] <span class="sc">-</span> b[<span class="dv">12</span>],</span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">13</span>] <span class="sc">-</span> x[<span class="dv">13</span>], x[<span class="dv">13</span>] <span class="sc">-</span> b[<span class="dv">13</span>], a[<span class="dv">14</span>] <span class="sc">-</span> x[<span class="dv">14</span>],  x[<span class="dv">14</span>] <span class="sc">-</span> b[<span class="dv">14</span>],</span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">15</span>] <span class="sc">-</span> x[<span class="dv">15</span>], x[<span class="dv">15</span>] <span class="sc">-</span> b[<span class="dv">15</span>], a[<span class="dv">16</span>] <span class="sc">-</span> x[<span class="dv">16</span>],  x[<span class="dv">16</span>] <span class="sc">-</span> b[<span class="dv">16</span>],</span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">17</span>] <span class="sc">-</span> x[<span class="dv">17</span>], x[<span class="dv">17</span>] <span class="sc">-</span> b[<span class="dv">17</span>], a[<span class="dv">18</span>] <span class="sc">-</span> x[<span class="dv">18</span>],  x[<span class="dv">18</span>] <span class="sc">-</span> b[<span class="dv">18</span>],</span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">19</span>] <span class="sc">-</span> x[<span class="dv">19</span>], x[<span class="dv">19</span>] <span class="sc">-</span> b[<span class="dv">19</span>], a[<span class="dv">20</span>] <span class="sc">-</span> x[<span class="dv">20</span>],  x[<span class="dv">20</span>] <span class="sc">-</span> b[<span class="dv">20</span>],</span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">21</span>] <span class="sc">-</span> x[<span class="dv">21</span>], x[<span class="dv">21</span>] <span class="sc">-</span> b[<span class="dv">21</span>], a[<span class="dv">22</span>] <span class="sc">-</span> x[<span class="dv">22</span>],  x[<span class="dv">22</span>] <span class="sc">-</span> b[<span class="dv">22</span>],</span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">23</span>] <span class="sc">-</span> x[<span class="dv">23</span>], x[<span class="dv">23</span>] <span class="sc">-</span> b[<span class="dv">23</span>], a[<span class="dv">24</span>] <span class="sc">-</span> x[<span class="dv">24</span>],  x[<span class="dv">24</span>] <span class="sc">-</span> b[<span class="dv">24</span>],</span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">25</span>] <span class="sc">-</span> x[<span class="dv">25</span>], x[<span class="dv">25</span>] <span class="sc">-</span> b[<span class="dv">25</span>], a[<span class="dv">26</span>] <span class="sc">-</span> x[<span class="dv">26</span>],  x[<span class="dv">26</span>] <span class="sc">-</span> b[<span class="dv">26</span>],</span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a>                   a[<span class="dv">27</span>] <span class="sc">-</span> x[<span class="dv">27</span>], x[<span class="dv">27</span>] <span class="sc">-</span> b[<span class="dv">27</span>], x[<span class="dv">15</span>] <span class="sc">+</span> x[<span class="dv">16</span>] <span class="sc">-</span> <span class="dv">1</span>, </span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a>                   x[<span class="dv">17</span>] <span class="sc">+</span> x[<span class="dv">18</span>] <span class="sc">+</span> x[<span class="dv">19</span>] <span class="sc">-</span> <span class="dv">1</span>, x[<span class="dv">20</span>] <span class="sc">+</span> x[<span class="dv">21</span>] <span class="sc">-</span> <span class="dv">1</span>, x[<span class="dv">23</span>] <span class="sc">+</span> x[<span class="dv">29</span>] <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>wrappedFunBab <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(SPOT<span class="sc">::</span><span class="fu">funBaBSimHospital</span>(x, <span class="at">region =</span> <span class="dv">5374</span>, <span class="at">nCores =</span> <span class="dv">1</span>))</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> x0,</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">fun =</span> wrappedFunBab,</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> a,</span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> b,</span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">2</span> <span class="sc">*</span> funEvals,</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">noise =</span> <span class="cn">TRUE</span>,</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">designControl =</span> <span class="fu">list</span>(</span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">size =</span> size,</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">retries =</span> <span class="dv">1000</span>),</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizer =</span> optimNLOPTR,</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizerControl =</span> <span class="fu">list</span>(</span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">opts =</span> <span class="fu">list</span>(<span class="at">algorithm =</span> <span class="st">&quot;NLOPT_GN_ISRES&quot;</span>),</span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">eval_g_ineq =</span> g</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span>  buildKriging,</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">plots =</span> <span class="cn">FALSE</span>,</span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">progress =</span> <span class="cn">TRUE</span>,</span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">directOpt =</span> optimNLOPTR,</span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals =</span> <span class="dv">0</span>),</span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">eval_g_ineq =</span> g</span>
<span id="cb45-26"><a href="#cb45-26" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb45-27"><a href="#cb45-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-28"><a href="#cb45-28" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(res)</span></code></pre></div>
</div>
</div>
<div id="benchmarking" class="section level1">
<h1>Benchmarking</h1>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="cn">NULL</span>,</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">fun =</span> funGoldsteinPrice,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">lower =</span> <span class="fu">rep</span>(<span class="dv">0</span>,<span class="dv">2</span>),</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">upper =</span> <span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">funEvals =</span> <span class="dv">20</span>,</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">multiStart =</span> <span class="dv">5</span>,</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> buildKriging,</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">optimizer =</span> optimDE,</span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">modelControl =</span> <span class="fu">list</span>(<span class="at">target =</span> <span class="st">&quot;ei&quot;</span>),</span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">size=</span><span class="dv">10</span>)</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb46-15"><a href="#cb46-15" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(res<span class="sc">$</span>xbest, res<span class="sc">$</span>ybest)</span></code></pre></div>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Compare Performance</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># rm(list=ls())</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SPOT)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">3</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>low <span class="ot">=</span> <span class="sc">-</span><span class="dv">2</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>up <span class="ot">=</span> <span class="dv">2</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>a <span class="ot">=</span> <span class="fu">runif</span>(n, low, <span class="dv">0</span>)</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>b <span class="ot">=</span> <span class="fu">runif</span>(n, <span class="dv">0</span>, up)</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>x0 <span class="ot">=</span> a <span class="sc">+</span> <span class="fu">runif</span>(n)<span class="sc">*</span>(b<span class="sc">-</span>a)</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(a, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">ylim=</span><span class="fu">c</span>(up,low))</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(b)</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(x0)</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>x0 <span class="ot">=</span> <span class="fu">matrix</span>( x0, <span class="at">nrow =</span> <span class="dv">1</span>)</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>  perf1 <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x=</span> x0, funSphere, a, b, <span class="at">control=</span><span class="fu">list</span>(<span class="at">time=</span><span class="fu">list</span>(<span class="at">maxTime =</span> <span class="fl">0.25</span>), <span class="at">funEvals=</span><span class="dv">10</span><span class="sc">*</span>n, <span class="at">plots=</span><span class="cn">FALSE</span>,</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>                                                     <span class="at">model =</span> buildKriging, <span class="at">optimizer=</span>optimNLOPTR))</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>  perf2 <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x=</span> x0, funSphere, a, b, <span class="at">control=</span><span class="fu">list</span>(<span class="at">time=</span><span class="fu">list</span>(<span class="at">maxTime =</span> <span class="fl">0.25</span>), <span class="at">funEvals=</span><span class="dv">10</span><span class="sc">*</span>n, <span class="at">plots=</span><span class="cn">FALSE</span>,</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>                <span class="at">model =</span> buildGaussianProcess, <span class="at">optimizer=</span>optimNLOPTR, <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">0</span>)))</span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a>  perf3 <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x=</span> x0, funSphere, a, b, <span class="at">control=</span><span class="fu">list</span>(<span class="at">time=</span><span class="fu">list</span>(<span class="at">maxTime =</span> <span class="fl">0.25</span>), <span class="at">funEvals=</span><span class="dv">10</span><span class="sc">*</span>n, <span class="at">plots=</span><span class="cn">FALSE</span>,</span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>                                                     <span class="at">model =</span> buildGaussianProcess, <span class="at">optimizer=</span>optimNLOPTR,</span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>                                                     <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">10</span>)))</span></code></pre></div>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Plot Repeats (Sphere Function)</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  rm(list=ls())</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(microbenchmark)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SPOT)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>low <span class="ot">=</span> <span class="sc">-</span><span class="dv">2</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>up <span class="ot">=</span> <span class="dv">2</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>a <span class="ot">=</span> <span class="fu">runif</span>(n, low, <span class="dv">0</span>)</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>b <span class="ot">=</span> <span class="fu">runif</span>(n, <span class="dv">0</span>, up)</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>x0 <span class="ot">=</span> a <span class="sc">+</span> <span class="fu">runif</span>(n)<span class="sc">*</span>(b<span class="sc">-</span>a)</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a> <span class="co">#plot(a, type = &quot;l&quot;, ylim=c(up,low))</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a><span class="co">#  #lines(b)</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a><span class="co">#  #lines(x0)</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>x0 <span class="ot">=</span> <span class="fu">matrix</span>( x0, <span class="at">nrow =</span> <span class="dv">1</span>)</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a><span class="co">#  </span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>reps <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>end <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">*</span>n</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>ninit <span class="ot">&lt;-</span> n</span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a><span class="co">#  </span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>  progSpot <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> reps, <span class="at">ncol =</span> end)</span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>reps){</span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set.seed</span>(r)</span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a>    x0 <span class="ot">&lt;-</span> a <span class="sc">+</span> <span class="fu">runif</span>(n)<span class="sc">*</span>(b<span class="sc">-</span>a)</span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>    x0 <span class="ot">=</span> <span class="fu">matrix</span>( x0, <span class="at">nrow =</span> <span class="dv">1</span>)</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a>    sol <span class="ot">&lt;-</span> <span class="fu">spot</span>(<span class="at">x=</span> x0, funGoldsteinPrice, a, b, <span class="at">control=</span><span class="fu">list</span>(<span class="at">funEvals=</span>end,</span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a>                                                     <span class="at">model =</span> buildGaussianProcess,</span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a>                                                     <span class="at">optimizer=</span>optimNLOPTR,</span>
<span id="cb48-29"><a href="#cb48-29" aria-hidden="true" tabindex="-1"></a>                                                     <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals=</span><span class="dv">0</span>),</span>
<span id="cb48-30"><a href="#cb48-30" aria-hidden="true" tabindex="-1"></a>                                                     <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">size =</span> ninit)))</span>
<span id="cb48-31"><a href="#cb48-31" aria-hidden="true" tabindex="-1"></a>    progSpot[r, ] <span class="ot">&lt;-</span> <span class="fu">prepareBestObjectiveVal</span>(sol<span class="sc">$</span>y, end)</span>
<span id="cb48-32"><a href="#cb48-32" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb48-33"><a href="#cb48-33" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb48-34"><a href="#cb48-34" aria-hidden="true" tabindex="-1"></a><span class="co">#  </span></span>
<span id="cb48-35"><a href="#cb48-35" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(<span class="fu">t</span>(progSpot), <span class="at">type=</span><span class="st">&quot;l&quot;</span>, <span class="at">col=</span><span class="st">&quot;gray&quot;</span>, <span class="at">lty=</span><span class="dv">1</span>,</span>
<span id="cb48-36"><a href="#cb48-36" aria-hidden="true" tabindex="-1"></a>          <span class="at">xlab=</span><span class="st">&quot;n: blackbox evaluations&quot;</span>, <span class="at">ylab=</span><span class="st">&quot;best objective value&quot;</span>, <span class="at">log=</span><span class="st">&quot;y&quot;</span>)</span>
<span id="cb48-37"><a href="#cb48-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abline</span>(<span class="at">v=</span>ninit, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb48-38"><a href="#cb48-38" aria-hidden="true" tabindex="-1"></a>  <span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>, <span class="st">&quot;seed LHS&quot;</span>, <span class="at">lty=</span><span class="dv">2</span>, <span class="at">bty=</span><span class="st">&quot;n&quot;</span>)</span></code></pre></div>
</div>
<div id="simple-benchmark" class="section level1">
<h1>Simple Benchmark</h1>
<div id="setup" class="section level2">
<h2>Setup</h2>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Plot Repeats (Sphere Function)</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  rm(list=ls())</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(SPOT)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="co">#dim</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>repeats <span class="ot">&lt;-</span> <span class="dv">30</span> <span class="co"># repeats</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>end <span class="ot">&lt;-</span> <span class="dv">50</span> <span class="sc">*</span> n</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>ninit <span class="ot">&lt;-</span> <span class="dv">5</span><span class="sc">*</span> n</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="co"># objective fun</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>fun <span class="ot">&lt;-</span> funGoldsteinPrice</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>low <span class="ot">=</span> <span class="fu">rep</span>(<span class="sc">-</span><span class="dv">1</span>, n)</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>up <span class="ot">=</span> <span class="fu">rep</span>(<span class="dv">1</span>,n)</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>x0 <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>repeats){</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>x0 <span class="ot">=</span> <span class="fu">rbind</span>(x0, low <span class="sc">+</span> <span class="fu">runif</span>(n) <span class="sc">*</span> (up <span class="sc">-</span> low))</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<div id="optim-l-bfgs-b" class="section level2">
<h2>Optim L-BFGS-B</h2>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> fun</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  fprime <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">matrix</span>( x, <span class="dv">1</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    ynew <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(<span class="fu">f</span>(x))</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;&lt;-</span> <span class="fu">c</span>(y, ynew)</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(ynew)</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="co">#  </span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>progOptim <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow=</span><span class="fu">nrow</span>(x0), <span class="at">ncol=</span>end)</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(x0)) {</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>    y <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>    os <span class="ot">&lt;-</span> <span class="fu">optim</span>(x0[r, ,<span class="at">drop=</span><span class="cn">FALSE</span>], fprime, <span class="at">lower=</span>low, <span class="at">upper=</span>up, <span class="at">method=</span><span class="st">&quot;L-BFGS-B&quot;</span>)</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>    progOptim[r,] <span class="ot">&lt;-</span> <span class="fu">prepareBestObjectiveVal</span>(y, end)</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="co">#  </span></span></code></pre></div>
</div>
<div id="bayesian-optimization-with-neg-log-ei" class="section level2">
<h2>Bayesian Optimization with neg log EI</h2>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>progSpotBOEI <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="fu">nrow</span>(x0), <span class="at">ncol =</span> end)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(x0)) {</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(r)</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a> sol <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> x0[r, ,<span class="at">drop=</span><span class="cn">FALSE</span>],</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun=</span>fun,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>    a,</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>    b,</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">funEvals =</span> end,</span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">multiStart =</span> <span class="dv">2</span>,</span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">model =</span> buildBO,</span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">optimizer =</span> optimDE,</span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">modelControl =</span> <span class="fu">list</span>(<span class="at">target =</span> <span class="st">&quot;negLog10ei&quot;</span>),</span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals =</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">0</span>),</span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">size =</span> ninit)</span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a>  progSpotBOEI[r,] <span class="ot">&lt;-</span> <span class="fu">prepareBestObjectiveVal</span>(sol<span class="sc">$</span>y, end)</span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code></pre></div>
</div>
<div id="bayesian-optimization-with-y" class="section level2">
<h2>Bayesian Optimization with Y</h2>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>progSpotBOY <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="fu">nrow</span>(x0), <span class="at">ncol =</span> end)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(x0)) {</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(r)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a> sol <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> x0[r, ,<span class="at">drop=</span><span class="cn">FALSE</span>],</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun=</span>fun,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">lower =</span> low,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> up,</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">funEvals =</span> end,</span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">multiStart =</span> <span class="dv">2</span>,</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">model =</span> buildBO,</span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">optimizer =</span> optimDE,</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">modelControl =</span> <span class="fu">list</span>(<span class="at">target =</span> <span class="st">&quot;y&quot;</span>),</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals =</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">0</span>),</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">size =</span> ninit)</span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>  progSpotBOY[r,] <span class="ot">&lt;-</span> <span class="fu">prepareBestObjectiveVal</span>(sol<span class="sc">$</span>y, end)</span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code></pre></div>
</div>
<div id="spot-kriging-with-ei" class="section level2">
<h2>SPOT Kriging with EI</h2>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>progSpotBuildKrigingEi <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="fu">nrow</span>(x0), <span class="at">ncol =</span> end)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(x0)) {</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(r)</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a> sol <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> x0[r, ,<span class="at">drop=</span><span class="cn">FALSE</span>],</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun=</span>fun,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>   <span class="at">lower =</span> low,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> up,</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">funEvals =</span> end,</span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">multiStart =</span> <span class="dv">2</span>,</span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">model =</span> buildKriging,</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">optimizer =</span> optimDE,</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">modelControl =</span> <span class="fu">list</span>(<span class="at">target =</span> <span class="st">&quot;ei&quot;</span>),</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals =</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">0</span>),</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">size =</span> ninit)</span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>  progSpotBuildKrigingEi[r,] <span class="ot">&lt;-</span> <span class="fu">prepareBestObjectiveVal</span>(sol<span class="sc">$</span>y, end)</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code></pre></div>
</div>
<div id="spot-kriging-with-y" class="section level2">
<h2>SPOT Kriging with Y</h2>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>progSpotBuildKrigingY <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="fu">nrow</span>(x0), <span class="at">ncol =</span> end)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (r <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(x0)) {</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set.seed</span>(r)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a> sol <span class="ot">&lt;-</span> <span class="fu">spot</span>(</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> x0[r, ,<span class="at">drop=</span><span class="cn">FALSE</span>],</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">fun=</span>fun,</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>   <span class="at">lower =</span> low,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">upper =</span> up,</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">control =</span> <span class="fu">list</span>(</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">funEvals =</span> end,</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">multiStart =</span> <span class="dv">2</span>,</span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">model =</span> buildKriging,</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">optimizer =</span> optimDE,</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">modelControl =</span> <span class="fu">list</span>(<span class="at">target =</span> <span class="st">&quot;y&quot;</span>),</span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">directOptControl =</span> <span class="fu">list</span>(<span class="at">funEvals =</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">0</span>),</span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">designControl =</span> <span class="fu">list</span>(<span class="at">size =</span> ninit)</span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>  progSpotBuildKrigingY[r,] <span class="ot">&lt;-</span> <span class="fu">prepareBestObjectiveVal</span>(sol<span class="sc">$</span>y, end)</span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code></pre></div>
</div>
<div id="summary" class="section level2">
<h2>Summary</h2>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;optim:&quot;</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(progOptim[,end])</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;SPOT BO EI:&quot;</span>)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(progSpotBOEI[,end])</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;SPOT BO Y:&quot;</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(progSpotBOY[,end])</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;SPOT Kriging EI:&quot;</span>)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(progSpotBuildKrigingEi[,end])</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;SPOT Kriging Y:&quot;</span>)</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(progSpotBuildKrigingY[,end])</span></code></pre></div>
</div>
<div id="plot-run-curves" class="section level2">
<h2>Plot Run Curves</h2>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matplot</span>(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colMeans</span>(progOptim),</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;l&quot;</span>,</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="dv">1</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">lty =</span> <span class="dv">1</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="st">&quot;n: blackbox evaluations&quot;</span>,</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="st">&quot;avg best objective value&quot;</span>,</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>,<span class="dv">3</span>)</span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> ninit, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">colMeans</span>(progSpotBOEI, <span class="at">na.rm=</span><span class="cn">TRUE</span>), <span class="at">col =</span> <span class="dv">2</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">colMeans</span>(progSpotBOY, <span class="at">na.rm=</span><span class="cn">TRUE</span>), <span class="at">col =</span> <span class="dv">3</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">colMeans</span>(progSpotBuildKrigingEi, <span class="at">na.rm=</span><span class="cn">TRUE</span>), <span class="at">col =</span> <span class="dv">4</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">colMeans</span>(progSpotBuildKrigingY, <span class="at">na.rm=</span><span class="cn">TRUE</span>), <span class="at">col =</span> <span class="dv">5</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>, <span class="fu">c</span>(<span class="st">&quot;optim&quot;</span>, <span class="st">&quot;BO EI&quot;</span>, <span class="st">&quot;BO Y&quot;</span>, <span class="st">&quot;Krig EI&quot;</span>, <span class="st">&quot;Krig Y&quot;</span>, <span class="st">&quot;initial design size&quot;</span>), <span class="at">col=</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,<span class="dv">1</span>), <span class="at">lwd =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">5</span>), <span class="dv">1</span>), <span class="at">lty =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="dv">1</span>,<span class="dv">5</span>),<span class="dv">2</span>), <span class="at">bty=</span><span class="st">&quot;n&quot;</span>)</span></code></pre></div>
</div>
<div id="plot-boxplots" class="section level2">
<h2>Plot Boxplots</h2>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">boxplot</span>(progOptim[,end],</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>        progSpotBOEI[,end],</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>        progSpotBOY[,end],</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>        progSpotBuildKrigingEi[,end],</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>        progSpotBuildKrigingY[,end],</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">names =</span> <span class="fu">c</span>(<span class="st">&quot;optim&quot;</span>, <span class="st">&quot;BO EI&quot;</span>, <span class="st">&quot;BO Y&quot;</span>, <span class="st">&quot;Krig EI&quot;</span>, <span class="st">&quot;Krig Y&quot;</span>),</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">xlab=</span><span class="st">&quot;algorithm&quot;</span>,</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;best y value&quot;</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
</div>
<div id="save-results" class="section level2">
<h2>Save Results</h2>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>resBench01 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">progOptim=</span>progOptim, <span class="at">progSpotBOEI=</span>progSpotBOEI, <span class="at">progSpotBOY=</span>progSpotBOY, <span class="at">progSpotBuildKrigingEi=</span>progSpotBuildKrigingEi, <span class="at">progSpotBuildKrigingY=</span>progSpotBuildKrigingY)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>usethis<span class="sc">::</span><span class="fu">use_data</span>(resBench01)</span></code></pre></div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
