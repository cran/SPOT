<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>SPOTVignetteNutshell</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
          color: #aaaaaa;
        }
      pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
      div.sourceCode
        {   }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
      code span.al { color: #ff0000; font-weight: bold; } /* Alert */
      code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
      code span.at { color: #7d9029; } /* Attribute */
      code span.bn { color: #40a070; } /* BaseN */
      code span.bu { } /* BuiltIn */
      code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
      code span.ch { color: #4070a0; } /* Char */
      code span.cn { color: #880000; } /* Constant */
      code span.co { color: #60a0b0; font-style: italic; } /* Comment */
      code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
      code span.do { color: #ba2121; font-style: italic; } /* Documentation */
      code span.dt { color: #902000; } /* DataType */
      code span.dv { color: #40a070; } /* DecVal */
      code span.er { color: #ff0000; font-weight: bold; } /* Error */
      code span.ex { } /* Extension */
      code span.fl { color: #40a070; } /* Float */
      code span.fu { color: #06287e; } /* Function */
      code span.im { } /* Import */
      code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
      code span.kw { color: #007020; font-weight: bold; } /* Keyword */
      code span.op { color: #666666; } /* Operator */
      code span.ot { color: #007020; } /* Other */
      code span.pp { color: #bc7a00; } /* Preprocessor */
      code span.sc { color: #4070a0; } /* SpecialChar */
      code span.ss { color: #bb6688; } /* SpecialString */
      code span.st { color: #4070a0; } /* String */
      code span.va { color: #19177c; } /* Variable */
      code span.vs { color: #4070a0; } /* VerbatimString */
      code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">SPOTVignetteNutshell</h1>



<div id="spot-in-a-nutshell" class="section level1">
<h1>SPOT in a Nutshell</h1>
<ul>
<li>Note: This file is a 1:1 copy of the section
from bart11o.Rnw</li>
</ul>
<div id="setup" class="section level2">
<h2>Setup</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="co">## install.packages(&quot;devtools&quot;)</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="co">## devtools::install_github(&quot;r-lib/devtools&quot;)</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>url &lt;-<span class="st"> &quot;http://owos.gm.fh-koeln.de:8055/bartz/spot.git&quot;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>devtools<span class="op">::</span><span class="kw">install_git</span>(<span class="dt">url =</span> url)</span></code></pre></div>
<ul>
<li>Package version SPOT is at least <code>2.0.21</code>.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="kw">library</span>(<span class="st">&quot;SPOT&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="kw">packageVersion</span>(<span class="st">&quot;SPOT&quot;</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="co">#&gt; [1] &#39;2.1.2&#39;</span></span></code></pre></div>
</div>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<ul>
<li><p>The performance of modern search heuristics such as evolution strategies (<code>ES</code>), differential evolution (<code>DE</code>), or simulated annealing (<code>SANN</code>) relies crucially on their parameterizations—or, statistically speaking, on their factor settings.</p></li>
<li><p>Finding good parameter settings for an optimization algorithm will be referred to as tuning.</p></li>
<li><p>We will illustrate how an existing search heuristic can be tuned using the sequential parameter optimization toolbox (<code>SPOT</code>), which is one possible implementation of the sequential parameter optimization (<code>SPO</code>) framework introduced in~.</p></li>
<li><p>The version of <code>SPOT</code> presented in this article is implemented in <code>R</code>.</p></li>
<li><p><code>R</code> is a freely available language and environment for statistical computing and graphics which provides a wide variety of statistical and graphical techniques: linear and nonlinear modelling, statistical tests, time series analysis, classification, clustering, etc.&quot;~.</p></li>
<li><p>can be downloaded from <a href="https://cran.r-project.org">CRAN</a>.</p></li>
<li><p>The package can be installed from within <code>R</code> using the <code>installPackages</code> command.</p></li>
</ul>
<p><code>install.packages(&quot;SPOT&quot;)</code></p>
<ul>
<li>Note, that the package only has to be installed once (unless an update to a more recent version is needed).</li>
<li>Unlike installation, the package has to be loaded to the <code>R</code> work space every time a new <code>R</code> session is started.</li>
<li><code>SPOT</code> can be loaded to the work space with <code>R</code>’s <code>library</code> command.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="kw">library</span>(<span class="st">&quot;SPOT&quot;</span>)</span></code></pre></div>
<ul>
<li><p>In order to keep the setup as simple as possible, we will use simulated annealing for illustrating the tuning procedure~.</p></li>
<li><p>Simulated annealing is freely available in .</p></li>
<li><p>This implementation of the simulated annealing heuristic will be referred to as <code>SANN</code> in the following.</p></li>
<li><p>Response surface methodology (RSM) will be used in this article~.</p></li>
<li><p>It can be seen as a set of statistical methods for empirical model building.</p></li>
<li><p>Using design of experiments, a response (dependent variable, output variable, or fitness value, <span class="math inline">\(y\)</span>) that depends on one or several input variables (independent variables or solutions, <span class="math inline">\(\vec{x}\)</span>) is optimized.</p></li>
<li><p>The underlying model can be formulated as <span class="math display">\[
y = f(\vec{x}) + \epsilon,
\]</span> where <span class="math inline">\(\epsilon\)</span> represents some noise (uncertainty, error observed) in the response <span class="math inline">\(y\)</span>.</p></li>
<li><p>The term response surface refers to the surface represented by <span class="math inline">\(f(\vec{x})\)</span>.</p></li>
<li><p>In order to estimate the quality of a solution, the term fitness is used in evolutionary optimization.</p></li>
<li><p>In physics, the concept of a potential or energy function is used.</p></li>
<li><p>Since we are dealing with minimization, a low fitness value <span class="math inline">\(f(\vec{x})\)</span> implies that <span class="math inline">\(\vec{x}\)</span> is a good solution.</p></li>
<li><p>This report is structured as follows.</p>
<ul>
<li>The algorithm-tuning framework consists of three levels, which are useful for distinguishing several problem domains.</li>
<li>The first level (objective function) is detailed.</li>
<li>A second level (optimization algorithm) is descibed. Here, the well known simulated annealing algorithm is used. * The third level (tuning) is explained. This tuning example can be used as a starting point for beginners.</li>
<li>Details of the <code>SPOT</code> configuration are described.</li>
<li>Visual inspection of the results plays an important role in the <code>SPOT</code> approach.</li>
<li>Plot functions that are provided in the <code>SPOT</code> toolbox are described. These enable an exploratory fitness landscape analysis.</li>
<li>The response surface methodology is introduced.</li>
<li>Tools for an statistical analysis are described.</li>
<li>Applying <code>SPOT</code> to deterministic problems is briefly explained.</li>
<li>Finally, ensemble models via stacking are described.</li>
</ul></li>
</ul>
</div>
<div id="levels-during-tuning-and-optimization" class="section level2">
<h2>Levels During Tuning and Optimization <a id="sec:simopt"></a></h2>
<ul>
<li>We will consider algorithm tuning and surrogate model based optimization in this article.</li>
<li>The following Figure shows the different levels that are used in these scenarios.</li>
</ul>
<div id="algorithm-tuning" class="section level3">
<h3>Algorithm Tuning</h3>
<ul>
<li>Algorithm tuning is also referred to as off-line parameter tuning in contrast to on-line parameter tuning~.</li>
<li>Algorithm tuning involves the following three levels, which describe the experimental setup.</li>
<li>Consider the following Figure:
<ul>
<li>The three levels that occur when tuning an optimization algorithm with <code>SPOT</code>. This setting will be referred to as algorithm tuning.</li>
<li><code>SPOT</code> can be applied as an optimizer. In this case, <code>SPOT</code> tries to find arguments of the objective function that result in an optimal function value. Following the taxonomy introduced in~, this setting will be referred to as surrogate model based optimization.</li>
</ul></li>
</ul>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAArMAAACoCAYAAADzaWZqAAABJ2lDQ1BrQ0dDb2xvclNwYWNlQWRvYmVSR0IxOTk4AAAokWNgYFJILCjIYRJgYMjNKykKcndSiIiMUmB/wsDBwM4gzsDKYJiYXFzgGBDgwwAEMBoVfLvGwAiiL+uCzMKUxwu4UlKLk4H0HyDOTi4oKmFgYMwAspXLSwpA7B4gWyQpG8xeAGIXAR0IZG8BsdMh7BNgNRD2HbCakCBnIPsDkM2XBGYzgeziS4ewBUBsqL0gIOiYkp+UqgDyvYahpaWFJol+IAhKUitKQLRzfkFlUWZ6RomCIzCkUhU885L1dBSMDIwMGBhA4Q5R/TkQHJ6MYmcQYgiAEJsjwcDgv5SBgeUPQsykl4FhgQ4DA/9UhJiaIQODgD4Dw745yaVFZVBjGJmMGRgI8QEbVUpS18aDDgAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACWAAAAAQAAAJYAAAABAAKgAgAEAAAAAQAAArOgAwAEAAAAAQAAAKgAAAAAOWdYHAAAAAlwSFlzAAAXEgAAFxIBZ5/SUgAAOtVJREFUeAHtnQm8VdP7/58mpTQgIhSppESkkKkiUzKXMZrImNk3YzJFqCSkItRP0iSijJVKEzJEimZkSDI0Kv29l/86dqdz7j333HPOPcPneb3OPWfvvfbaa7/3vns/63me9axiFStW3LJp0yYrVqyYSURABEQgEwhs2LDB7r//frv55pszoblqowiIgAiIQBIJlFy7dq1NnTrVKlSokMTDqGoREAERSByBnj17Gs8uiQiIgAiIgAgUFwIREAEREAEREAEREAERyFQCUmYz9cqp3SIgAiIgAiIgAiIgAiZlVjeBCIiACIiACIiACIhAxhKQMpuxl04NFwEREAEREAEREAERkDKre0AEREAEREAEREAERCBjCUiZzdhLp4aLgAiIgAiIgAiIgAiUFAIRyEQCs2fPtnnz5mVi03OuzY0bN7Y6derk3HnrhEVABERABFJDQMpsajjrKAkm0L9/fytbtqxVr149wTWrukQSmDt3ri1cuNC6d++eyGpVlwiIgAiIgAiECEiZDaHQj0wisGXLFuvSpYu1atUqk5qdc23t06ePTZ8+PefOWycsAiIgAiKQOgKKmU0dax1JBERABERABERABEQgwQSkzCYYqKoTAREQAREQAREQARFIHQEps6ljrSOJgAiIgAiIgAiIgAgkmICU2QQDVXUiIAIiIAIiIAIiIAKpIyBlNnWsdSQREAEREAEREAEREIEEE5Aym2Cgqk4EREAEREAEREAERCB1BKTMpo61jiQCIiACIiACIiACIpBgAlJmEwxU1YmACIiACIiACIiACKSOgJTZ1LHWkURABERABERABERABBJMQMpsgoGqOhEQAREQAREQAREQgdQRkDKbOtY6kgiIgAiIgAiIgAiIQIIJSJlNMFBVJwIiIAIiIAIiIAIikDoCUmZTx1pHEgEREAEREAEREAERSDCBkrHUt3HjRtuwYYOVL18+luL5lqG+devWRSxXrFgxq1ChQsRtea38448/rEyZMlaqVKm8isW1bc2aNbZlyxbbYYcdQvtv3rzZWB9PW0OVRPgR7Tw2bdrkmCXqGkQ4tFYliAD3xty5c23VqlW27777WrVq1UI1//nnn/bXX3+FlsuWLWulS5cOLQd/fPfdd7Zw4UKrV6+e7bzzzqFNv/76a+h3+I+KFSta8eLqo4Zz0bIIiIAIiED2EojprTd8+HBr2bJlRAoopbfddps1btzYDj30ULv++uuNF3ZeMm7cODv88MMjfk499dS8do267YwzzrD33nsv6vZ4N/z9999Gm4455hinvPp6vvzySzvssMP8YsK+g+fxzDPP2Lx581zdM2fOtOOOOy5hx1FFySHwySefWO3ate2II46w008/3apXr27nnnuu0RlBTj75ZNtpp522+rAd5dcLv1Fg99xzTzvttNOscuXK1rx5c1uxYoW7B8P3Dy5Pnz7dV6NvERABERABEcgJAjEps3mRGDRokM2aNcsGDhxoffv2tRkzZtiTTz6Z1y5OOfzggw+Mz8033+ysm3759ddfz3PfaBtvueUWq1+/frTNca+fNm2aU86xysbbtoIcPHgedCIWLVpUkN1VtogJdOrUyQ488ED75ZdfnGX2lVdesZdfftkGDBgQahllVq5caT/99JONHDnS6Bg98MADbvsPP/xgTZo0cQoxv1evXm0LFiyw33//3Y499ljbbrvt3L7sz3pk1KhRoXXJ6GC5g+iPCIiACIiACKQpgZjCDPJqO0roRRddZAcddJArxgt32bJl7vecOXNs9OjRds0119iuu+4aqoYXMh+kXLlyRmjBjjvu6JZ5+bOMVQvhRT9hwgS74YYbjG3st3TpUvvoo49s9913D9X9xRdfOEtW1apVnWKAFfONN96wb7/91lmAO3ToYCVKlHAu3hdeeME+/PBD16YjjzzSFi9ebJ07d3bHC/8zYsQIO+mkk5zCze82bdqEF3HLkyZNcsdbv369nXXWWfbuu+8aiilhAT///LM9++yz9vXXX9see+xhF154oVNW5s+fb2+99ZYdffTR9tJLLxlt9OdBJwGFCEWIOnfbbTd3nFdffdWwbBNOccEFFxjt/+abb+y1115zyjzbCbe46qqrDGsu1moU8csuu8wdM2LjtTJhBL766itnid1+++1dndzHXbt2dWEq/iCEFviwASy1KKV33HGHK/Pggw9apUqV3HX3ITO1atVy13efffax5557zi699FJXFf8nCOV9fW6F/oiACIiACIhADhEotGV22LBh1q5dO6c0okhNnDgxFJKAW/Sdd96xtWvXxowUJZWPF+IGqRdh/a233uqU2WbNmtns2bPtnnvucduwmqK4ImPGjHHKL4rtwQcfbI899piNHz/ebWP/F1980Y466ihD4SAsgjZHEmIe2Yarlw/uXxTQcEEhRWFHuW7UqJHdddddzuJGuAUxsGeffbZ9/vnndsIJJzgLW+vWrZ0CSntpS5cuXYxwBhR7fx64mFFmgooKdQ0ePNiFG6DIXH311a7+H3/80VB+sY5zXtR7zjnnOIsdivL333/vuIW3W8uJJ0A4DoopnSM6clhfe/To4ToXkY5GR4V7rGHDhq4ThyeAsAOvyPp9uLcINWC7RAREQAREQARE4D8ChbbM+qqGDBniLKgMZvFWxFNOOcX4JFL2228/w3qFcKz+/ftHrL5jx47O0slG4hixmBHTi7KIAomSi+Cu9UqwWxH4M3bsWGe9ZT+URyxkWGdRVoKCgom1FcUY4fxRUBEUaxRVFE2UZyy7559/vrOwoZDjRn7qqaesadOmrrz/g5UWay0KMNu8EvPEE08YSjoWPVzK3grOfoR3YKEjxhLLbO/evV1ZFCGsg5LkE3j++efdtcb1jweAgZMooVxj7h+E64pHg0GFeB64L7g/EDoe/v/HrQj84bovWbIksEY/RUAEREAEREAECm2Z9QixeOJqZ7AU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AREQAREQAREQARGQMqt7QAREQAREQAREQAREIGMJSJnN2EunhouACIiACIiACIiACGgAmO6BjCSwZMkSW758eUa2PVKjf/vtN7eafLNTpkyJVCRj19WuXduqVKmSse1Xw0VABERABNKbgJTZ9L4+al0UAk899ZRt2LAha0ZdM3FJ8eLFXUqkyZMnRznrzFtNh6Nu3bp27bXXZl7j1WIREAEREIGMICBlNiMukxoZTgAL5n333WetWrUK35Sxy8uWLbPtt9/edtlll4w9h/CG9+nTx957773w1VoWAREQgYQRmDhxon388ccJq08VJY/AoYceascee2zCDyBlNuFIVaEIxEegWrVq8e2ovURABEQghwkQmrXXXntZ48aNc5hC+p/6jBkzbOrUqVJm0/9SqYUiIAIiIAIiIAKpJtCiRQtr27Ztqg+r4xWAALNbDh06tAB7xF5U2QxiZ6WSIiACIiACIiACIiACaUZAymyaXRA1RwREQAREQAREQAREIHYCUmZjZ6WSIiACIiACIiACIiACaUYgJmX2r7/+sj///DNpTf/555/t008/NZ9rM94D0UZSHBVESO+0bt26guySZ9l42pBnhdooAiIgAiIgAiIgAiIQlUBMyuxrr71m7dq1i1jJxo0b7bHHHrOzzjrLWrZsad26dbPVq1dHLBu+cvHixda+fXs799xz7Y477rAzzzzTbrjhBvvll1/Ci0Zcnjlzpr355puhbZdeeqlNmzYttBzLj8GDB1vPnj1jKRqxTCLaELFirRQBERABERABERABEciXQEzKbF61/N///Z+bsQgl9tFHHzVmZnr88cfz2sVtW7VqlV199dW255572siRIw2F+YUXXrC1a9faddddF5OF9fPPP99Keb388sutTp06+R47WKB58+Z2xhlnBFcV6Hci2lCgA6qwCIiACBQhgWz21G3evDmhXkh56orwRtWhc4pAofPMzp4921llDzroIAcOxfDll192v7/44gsbP368s77uvPPOW4F98cUXjTQNKMElS/7bDBTb+++/3y644AKbMGGCHXzwwTZixAij7kmTJrkZkki227RpU1cvVlEeFiRmRwFesGCB7b777i5s4J133nGK7dtvv22lS5e2Sy65xObMmeOU33Llyrlj1KhRw1asWGG///67O8bTTz9tf/zxx1btxOK8zz772CuvvGKc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4kQjN3IylKSiwMqkCZxPsWLFrGbNmkXRhKQcc+7cuTZ58uSkXCcps0m5ZKpUBERABERABEQgFQRQ+s4//3xr27ZtKg6XkmMw8xdSvHj2jNMnhI4QwWSIlNlkUFWdIiACIiACIiACIhAngWxSYuNEUKDdskflL9Bpq7AIiIAIiIAIiIAIiEA2EJAymw1XUecgAiIgAiIgAiIgAjlKQMpsjl54nbYIiIAIiIAIiIAIZAMBKbPZcBV1DiIgAiIgAiIgAiKQowSkzObohddpi4AIiIAIiIAIiEA2EJAymw1XUecgAiIgAiIgAiIgAjlKQMpsjl54nbYIiIAIiIAIiIAIZAMBKbPZcBV1DiIgAiIgAiIgAiKQowSkzObohddpi4AIiIAIiIAIiEA2EIhpBrBNmzbZxo0brWzZsnmeM/MJM61cQWXVqlX2008/2R577GHly5cP7f7333/bunXrrFy5cqF1wR9r16617bbbzkqWjOk0grtG/M05cswyZcpE3F6QlTDbsGHDNruUKlXKtXmbDQlekchzSXDTVJ0IiIAIiIAIiIAIJIxATFrgu+++a6+99pr169cv6oHXr19vXbp0sdtvv92qV68etVxww/Lly12d3333nW2//fZOcd1///3tyiuvtB133NG++eYbe+CBB4z5fCPJrbfeahdccIEddthhkTbnuw4lesKECXbeeee5+Y9HjhxpK1eudOeR7875FIDZkCFDtinVokULu+SSS7ZZX9gVyTyXwrYtF/b/7bff7IsvvnCdubp161rFihVjOm32o7OWqA5ZTAdVIREQAREQARHIIgIxKbN5ne8vv/xis2fPtvfff9+wlMYqq1evtu7du1u9evXstttucy//H374wSm39913nz300EOGpTcvQZHdd9998yqS57bff//d3njjDafMUvCII46IaE3Ns5I8NlaoUMGdR7AIltlkSLLPJRltzpY6+/bta3Ss6JChnGLZ7927t3Xq1CnfU6TjRyfq+OOPz7esCohAOhBIV09dor1RiayPd1m092M0z2Mir3UizyWR7crWumTcSP2VLbQyixK1cOFC23333W3ZsmVbncHXX39tkydPtrPPPttZWoMbsfQStnDNNdeErFK77bab3XjjjXb99dfblClTrGrVqm6XGTNm2MyZM53VCyust8QuXrzYdt11V6tcubILD3j77bdt7ty5TjE+9thjrVatWm5/FO7XX3/dvv/+e9t5553t5JNPdoryK6+84rY/88wzdtJJJ7lQhz///NM9dGj7ueeeG2rySy+9ZA0aNLA6derYvHnzbNKkSU7xPeigg6xZs2ahcsEfxYsX3ypswm/79ttv3f4XXXSRX2W0oVWrVi6cY9q0aa7tU6dONV4cWHPr16/vyhb0XGgvoROwwXKIMt2wYUNr0qSJqw/rMcswJtSDzkXLli2dpTrUOP2ISmDRokV23XXX2aBBg6xDhw5GJ61r1652xRVXOI78X0hEIJsIpKunrrCetWR6t1Burr766m1uAwweTz755DbrC7simedS2LZl+/4ybhTNFS70ALB99tnHrrrqKhcaEH4KKF4ffvhhRGvnggUL7PDDDw8psn5fwgtw07IdQZkbNmyYUyKrVKliTzzxhFME2TZ9+nSngPF78ODBTmFD4SxdurT16NHDlixZYmvWrLE777zTCGU49NBD7ddff7V7773X/vrrr5CCvcsuuzglD6Ucha9SpUourAJLMcL3uHHjbKeddrLPPvvMHnnkEaMtKIojRoywMWPGuHLhf+gNcx7BD2VoA5bsoKAc88BjG4r36NGjnWJJDDJWPnr18ZwLxxg4cKChuBPCQVwyy3QmENpB+AhKfu3atd35oNhKYiPw1VdfuY7Rcccd53bg3rn//vtdx4T7hnuK/4+XX37ZzjnnHGvTpo1jHKz9888/twsvvNB1WvBIbN682W2mE/L444/baaedZpdeeqm739nAPditWzfXASFkhf1//PFH1wmko4ang/89iQikmgD3HaFb99xzT1RLZKQ2eU8dBg2e8TyjeM4yZgJPHe+B/Dx1eNZOOOGESNXHtM57t3zhwtbn6wl+33TTTfbUU0+FPpxjMiQV55KMdmd6nd64wXObkMWff/7ZPdsxbqxYsSLTTy+t219oy2xeZ4eyyieSoLTx4o8kKLTcCF6IxfXhBFg7USybNm3qNzsFcOLEifbggw/annvu6dbzz/zWW2+5+F32ufnmm53ifNRRR9mLL75oJUqUMKy3WCxRFijjpUaNGk7pwxp8+umnuzAKFD2swE8//bSdcsopdtZZZ7niWIUHDBjglJfwuEcexH369PHVumPkFXfsC6LEYO2jbvh17tzZKSsoxQU9F3roWLk5f6zICO5wlOVTTz3VLWOJ5YNg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" /></p>
<ul>
<li><p>(L1) The real-world system. This system allows the specification of an objective function, say <span class="math inline">\(f\)</span>. As an example, we will use the sphere function in the following.</p></li>
<li><p>(L2) The optimization algorithm, here <code>SANN</code>. It requires the specification of algorithm parameters.</p></li>
<li><p>(L3) The tuning algorithm, here <code>SPOT</code>.</p></li>
<li><p>An optimization algorithm (L2) requires parameters, e.g., the initial temperature of <code>SANN</code> or the mutation rate of evolution strategies.</p></li>
<li><p>These parameters determine the performance of the optimization algorithm.</p></li>
<li><p>Therefore, they should be tuned. The algorithm is in turn used to determine optimal values of the objective function <span class="math inline">\(f\)</span> from level (L1).</p></li>
<li><p>The term algorithm design summarizes factors that influence the behavior (performance) of an algorithm, whereas problem design refers to factors from the optimization (simulation) problem.</p></li>
<li><p>The initial temperature in <code>SANN</code> is one typical factor which belongs to the algorithm design, the search space dimension belongs to the problem design.</p></li>
</ul>
</div>
<div id="surrogate-model-based-optimization" class="section level3">
<h3>Surrogate Model Based Optimization</h3>
<ul>
<li>Instead of tuning an optimization algorithm, <code>SPOT</code> itself can be used as a surrogate model based optimization algorithm.</li>
<li>Then, <code>SPOT</code> has the same role as <code>SANN</code> in the algorithm tuning scenario.</li>
<li>In this the surrogate model based optimization setting, only two levels exist:
<ol style="list-style-type: decimal">
<li>the objective function (L1) and</li>
<li>the optimization algorithm (L2).</li>
</ol></li>
<li>This situation is seen on the right hand side of Figure~.</li>
</ul>
</div>
<div id="the-spot-algorithm" class="section level3">
<h3>The SPOT Algorithm</h3>
<ul>
<li><code>SPOT</code> finds improved solutions in the following way (see the following pseudo code):
<ul>
<li>Initially, a population of (random) solutions is created. The initialization step is shown in State 1 in the following pseudo code of the <code>SPOT</code> algorithm.</li>
<li>A set of surrogate models is specified (Step 2).</li>
<li>Then, the solutions are evaluated on the objective function (level L1). This is State 3.</li>
<li>Next, surrogate models are built (State 4).</li>
<li>A global search is performed to generate new candidate solutions (State 5).</li>
<li>The new solutions are evaluated on the objective function (level L1) (State 6).</li>
</ul></li>
<li>These steps are repeated, until a satisfying solution has been found.</li>
</ul>
<div id="sequential-parameter-optimization" class="section level4">
<h4>Sequential parameter optimization</h4>
<ul>
<li>State 1: <span class="math inline">\(t=0\)</span>. <span class="math inline">\(P(t) =\)</span> SetInitialPopulation().</li>
<li>State 2: Select one or several surrogate models <span class="math inline">\(\mathfrak{M}\)</span>.</li>
<li>State 3: Evaluate(<span class="math inline">\(P(t)\)</span>) on <span class="math inline">\(f\)</span>.</li>
<li>While{not TerminationCriterion()}
<ul>
<li>State 4: Use <span class="math inline">\(P(t)\)</span> to build a model <span class="math inline">\(M(t)\)</span> using <span class="math inline">\(\mathfrak{M}\)</span>.</li>
<li>State 5: $P’(t+1) = $ GlobalSearch(<span class="math inline">\(M(t)\)</span>).</li>
<li>State 6: Evaluate(<span class="math inline">\(P&#39;(t+1)\)</span>) on <span class="math inline">\(f\)</span>.</li>
<li>State 7: <span class="math inline">\(P(t+1) = P(t) \cup P&#39;(t+1)\)</span>.</li>
<li>State 8: <span class="math inline">\(t = t+1\)</span>.</li>
</ul></li>
<li>EndWhile</li>
</ul>
</div>
</div>
</div>
<div id="level-l1-objective-function" class="section level2">
<h2>Level L1: Objective Function <a id="sec:l1"></a></h2>
<ul>
<li>Before <code>SANN</code> can be started, the user has to specify an objective function <span class="math inline">\(f\)</span>.</li>
<li>To keep things as simple as possible, the sphere function <span class="math display">\[
f(x) = \sum_{i=1}^n x_i^2
\]</span> will be used.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>sphere &lt;-<span class="st"> </span><span class="cf">function</span> (x){</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>  <span class="kw">sum</span>(x<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>  }</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="kw">sphere</span>( <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) )</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a><span class="co">#&gt; [1] 5</span></span></code></pre></div>
<ul>
<li>The <code>sphere</code> function uses vector inputs.</li>
<li>A matrix-based implementation is defined as <code>funSphere</code> in the <code>SPOT</code> package.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a>funSphere</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="co">#&gt; function (x) </span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a><span class="co">#&gt; {</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="co">#&gt;     matrix(apply(x, 1, function(x) {</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="co">#&gt;         sum(x^2)</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a><span class="co">#&gt;     }), , 1)</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="co">#&gt; }</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a><span class="co">#&gt; &lt;bytecode: 0x7fd25f846438&gt;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a><span class="co">#&gt; &lt;environment: namespace:SPOT&gt;</span></span></code></pre></div>
<pre class="language-r"><code>function (x) 
{
<span style="white-space:pre-wrap">    matrix(apply(x, 1, function(x) {</span>
<span style="white-space:pre-wrap">        sum(x^2)</span>
<span style="white-space:pre-wrap">    }), , 1)</span>
}</code></pre>
<ul>
<li>A surface plot of this function in the interval <span class="math inline">\([0;1] \times [0;1]\)</span> can be generated using the following command:</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="kw">plotFunction</span>(funSphere)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="level-l2-simulated-annealing-sann" class="section level2">
<h2>Level L2: Simulated Annealing <code>SANN</code></h2>
<ul>
<li><p>Simulated annealing is a generic probabilistic heuristic algorithm for global optimization~.</p></li>
<li><p>The name comes from annealing in metallurgy.</p></li>
<li><p>Controlled heating and cooling of a material reduces defects.</p></li>
<li><p>Heating enables atoms to leave their initial positions (which are local minima of their internal energy), and controlled cooling improves the probability to find positions with lower states of internal energy than the initial positions.</p></li>
<li><p>The <code>SANN</code> algorithm replaces the current solution with a randomly generated new solution.</p></li>
<li><p>Better solutions are accepted deterministically, where worse solutions are accepted with a probability that depends on the difference between the corresponding function values and on a global parameter, which is commonly referred to as the <code>temperature</code>.</p></li>
<li><p>The algorithm parameter <code>temp</code> specifies the initial temperature of the <code>SANN</code> algorithm.</p></li>
<li><p>The temperature is gradually decreased during the optimization.</p></li>
<li><p>A second parameter, `tmax, is used to model this cooling scheme.</p></li>
<li><p>We consider the <code>R</code> implementation of <code>SANN</code>, which is available via the general-purpose optimization function <code>optim()</code> from the <code>R</code> package <code>stats</code>, which is part of every <code>R</code> installation.</p></li>
<li><p>The function <code>optim()</code> is parametrized as follows</p></li>
</ul>
<p><code>optim(par, fn, gr = NULL, ...,       method = c(&quot;Nelder-Mead&quot;, &quot;BFGS&quot;, &quot;CG&quot;, &quot;L-BFGS-B&quot;, &quot;SANN&quot;, &quot;Brent&quot;),       lower = -Inf, upper = Inf,       control = list(), hessian = FALSE)</code></p>
<ul>
<li><p>Here, <code>par</code> denotes initial values for the parameters to be optimized over.</p></li>
<li><p>Note, the problem dimension is specified by the length of this vector, so <code>par=c(1,1,1,1)</code> denotes a four-dimensional optimization problem.</p></li>
<li><p><code>fn</code> is a function to be minimized (or maximized), with first argument the vector of parameters over which minimization is to take place.</p></li>
<li><p><code>gr</code> defines a function to return the gradient for the <code>BFGS</code>, <code>CG</code> and <code>L-BFGS-B</code> methods.</p></li>
<li><p>If it is <code>NULL</code>, a finite-difference approximation will be used.</p></li>
<li><p>For the <code>SANN</code> method it specifies a function to generate a new candidate point.</p></li>
<li><p>If it is <code>NULL</code>, a default Gaussian Markov kernel is used.</p></li>
<li><p>The symbol <code>...</code> represents further arguments (optional) that can be be passed to <code>fn</code> and <code>gr</code>.</p></li>
<li><p>The parameter <code>method</code> denotes the optimization method to be used.</p></li>
<li><p>Here, we will use the parameter value <code>SANN</code>.</p></li>
<li><p>The parameters <code>lower</code>, <code>upper</code> specify bounds on the variables for the “L-BFGS-B” method, or bounds in which to search for method <code>Brent</code>.</p></li>
<li><p>So, we will not use these variables in our examples.</p></li>
<li><p>The argument <code>control</code> defines a relatively long list of control parameters}. We will use the following parameters from this list:</p>
<ol style="list-style-type: decimal">
<li><code>maxit</code>, i.e., the maximum number of iterations, which is for <code>SANN</code> the maximum number of function valuations. This is the stopping criterion.</li>
<li><code>temp</code> controls the <code>SANN</code> algorithm. It is the starting temperature for the cooling schedule with a default value of 10.</li>
<li>Finally, we will use <code>tmax</code>, which is the number of function evaluations at each temperature for the <code>SANN</code> method. Its default value is also 10.</li>
</ol></li>
<li><p>To obtain reproducible results, we will set the random number generator (RNG) seed.</p></li>
<li><p>Using a two-dimensional objective function (sphere) and the starting point (initial values for the parameters to be optimized over) <span class="math inline">\((10,10)\)</span>, we can execute the optimization runs as follows:</p></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a>resSANN &lt;-<span class="st"> </span><span class="kw">optim</span>(<span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">10</span>), sphere, <span class="dt">method=</span><span class="st">&quot;SANN&quot;</span>,</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a>                <span class="dt">control=</span><span class="kw">list</span>(<span class="dt">maxit=</span><span class="dv">100</span>, <span class="dt">temp=</span><span class="dv">10</span>, <span class="dt">tmax =</span> <span class="dv">10</span>))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a>resSANN</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a><span class="co">#&gt; $par</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a><span class="co">#&gt; [1] 4.835178 4.664964</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true"></a><span class="co">#&gt; $value</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true"></a><span class="co">#&gt; [1] 45.14084</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true"></a><span class="co">#&gt; $counts</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true"></a><span class="co">#&gt; function gradient </span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true"></a><span class="co">#&gt;      100       NA </span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true"></a><span class="co">#&gt; $convergence</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true"></a><span class="co">#&gt; [1] 0</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true"></a><span class="co">#&gt; $message</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true"></a><span class="co">#&gt; NULL</span></span></code></pre></div>
<ul>
<li><p>The best, i.e., smallest, function value, which was found by <code>SANN</code>, reads 45.14084.</p></li>
<li><p>The corresponding point in the search space is approximately (4.835178, 4.664964).</p></li>
<li><p>No gradient information was used and one hundred function evaluations were performed.</p></li>
<li><p>The variable <code>convergence</code> is an integer code, and its value <code>0</code> indicates successful completion of the <code>SANN</code> run.</p></li>
<li><p>No additional <code>message</code> is returned.</p></li>
<li><p>Now that we have performed a first run of the <code>SANN</code> algorithm on our simple test function, we are interested in improving <code>SANN</code>’s performance.</p></li>
<li><p>The <code>SANN</code> heuristic requires some parameter settings, namely <code>temp</code> and <code>tmax</code>. If these values are omitted, a default value of ten is used.</p></li>
<li><p>The questions is:</p>
<ul>
<li>Are the default algorithm parameter settings, namely <code>temp</code>=10 and <code>tmax</code>=10, adequate for <code>SANN</code> or can these values be improved?</li>
</ul></li>
<li><p>That is, we are trying to tune the <code>SANN</code> optimization algorithm.</p></li>
<li><p>A typical beginner in algorithm tuning would try to improve the algorithm’s performance by manually increasing or decreasing the algorithm parameter values, e.g., choosing <code>temp</code> = 20 and <code>tmax</code> = 5.</p></li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a>resSANN &lt;-<span class="st"> </span><span class="kw">optim</span>(<span class="dt">par =</span> <span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">10</span>), <span class="dt">fn =</span> sphere, <span class="dt">method=</span><span class="st">&quot;SANN&quot;</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a>                <span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">maxit =</span> <span class="dv">100</span>, <span class="dt">temp =</span> <span class="dv">20</span>, <span class="dt">tmax =</span> <span class="dv">5</span>))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true"></a>resSANN</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true"></a><span class="co">#&gt; $par</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true"></a><span class="co">#&gt; [1] 6.163905 6.657100</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true"></a><span class="co">#&gt; $value</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true"></a><span class="co">#&gt; [1] 82.3107</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true"></a><span class="co">#&gt; $counts</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true"></a><span class="co">#&gt; function gradient </span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true"></a><span class="co">#&gt;      100       NA </span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true"></a><span class="co">#&gt; $convergence</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true"></a><span class="co">#&gt; [1] 0</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true"></a><span class="co">#&gt; $message</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true"></a><span class="co">#&gt; NULL</span></span></code></pre></div>
<ul>
<li>Obviously, the manual ``tuning&quot; step worsened the result.</li>
<li>And, this procedure is very time consuming and does not allow efficient statistical conclusions.</li>
<li>Therefore, we will present a different approach, which uses <code>SPOT</code>.</li>
<li>Although the setup for the tuning procedure with <code>SPOT</code> is very similar to the setup discussed in this section, it enables deeper insights into the algorithm’s performance.</li>
</ul>
</div>
<div id="level-l3-spot" class="section level2">
<h2>Level L3: SPOT</h2>
<ul>
<li>This section presents an example, which demonstrates, how <code>SPOT</code> can be used to tune the <code>SANN</code> algorithm defined at level L2.</li>
<li>The goal of this tuning procedure is to determine improved parameter settings for the <code>SANN</code> algorithm.</li>
<li>As a level L1 function, which will be optimized by <code>SANN</code>, the sphere function was chosen.</li>
</ul>
<div id="example-using-random-forest" class="section level3">
<h3>Example: Using Random Forest</h3>
<ul>
<li>First, the problem setup for level L1 has to be specified.
<ul>
<li>To keep the situation as simple as possible, we will use the <code>sphere()</code> test function, which was introduced above.</li>
<li>The problem design requires the specification of the starting point <code>x0</code> for the search.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>x0 =<span class="st">  </span><span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>,<span class="op">-</span><span class="dv">1</span>) </span></code></pre></div>
<pre><code>* Since `x0` has three elements, we are facing a three dimensional optimization problem.
* `SANN` will be used to determine its minimum function value.</code></pre>
<ul>
<li>Secondly, the problem setup for level L2 has to be defined.
<ul>
<li>Again, several settings have to be specified for the <code>SANN</code> algorithm to be tuned.</li>
<li>The budget, i.e., the maximum number of function evaluations that can be used by <code>SANN</code> is specified via <code>maxit</code>:</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>maxit =<span class="st"> </span><span class="dv">100</span> </span></code></pre></div>
<ul>
<li>As above, the <code>R</code> implementation of <code>SANN</code> will be used via the <code>optim()</code> function.</li>
<li>We will consider two parameters:
<ol style="list-style-type: decimal">
<li>the initial temperature (<code>temp</code>) and</li>
<li>the number of function evaluations at each temperature (<code>tmax</code>).</li>
</ol></li>
<li>Both are integer values.</li>
<li>All parameters and settings of <code>SANN</code>, which were used for this simple example are summarized in the following table.</li>
</ul>
<div id="sann-parameters" class="section level4">
<h4>SANN parameters</h4>
<ul>
<li>The first two parameters belong to the algorithm design, whereas the remaining parameters are from the problem design.</li>
<li>Note, the starting point defines the problem dimension, i.e., by specifying a three dimensional starting point the problem dimension is set to three.</li>
<li>The initial seed is the value that the RNG is initialized with.</li>
</ul>
<table>
<thead>
<tr class="header">
<th>Name</th>
<th>Symbol</th>
<th>Factor name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Initial temperature</td>
<td><span class="math inline">\(t\)</span></td>
<td><code>temp</code></td>
</tr>
<tr class="even">
<td>Number of function evaluations at each temperature</td>
<td>$t_{} $</td>
<td><code>tmax</code></td>
</tr>
<tr class="odd">
<td>Starting point</td>
<td><span class="math inline">\(\vec{x_0} = (-1,1,-1)\)</span></td>
<td><code>x0</code></td>
</tr>
<tr class="even">
<td>Problem dimension</td>
<td><span class="math inline">\(n=3\)</span></td>
<td></td>
</tr>
<tr class="odd">
<td>Objective function</td>
<td>sphere</td>
<td><code>sphere()</code></td>
</tr>
<tr class="even">
<td>Quality measure</td>
<td>Expected performance, e.g., <span class="math inline">\(E(y)\)</span></td>
<td><code>y</code></td>
</tr>
<tr class="odd">
<td>Initial seed</td>
<td><span class="math inline">\(s\)</span></td>
<td><code>1</code></td>
</tr>
<tr class="even">
<td>Budget</td>
<td><span class="math inline">\(\textrm{maxit} = 100\)</span></td>
<td><code>maxit</code></td>
</tr>
</tbody>
</table>
<ul>
<li>Thirdly, the tuning procedure at level L3 has to be specified.</li>
</ul>
</div>
</div>
<div id="an-interface-to-sannsphere-for-spot" class="section level3">
<h3>An interface to SANN+Sphere for SPOT</h3>
<ul>
<li>To interface <code>SANN</code> with <code>SPOT</code>, the wrapper function <code>sann2spot()</code> is used.</li>
<li>Note, <code>SPOT</code> uses matrices as the basic data structure.
<ul>
<li>The matrix format was chosen as a compromise between speed and flexibility.</li>
</ul></li>
<li>The <code>matrix()</code> command can be used as follows:</li>
</ul>
<p><code>matrix(data = NA, nrow = 1, ncol = 1, byrow = FALSE, dimnames = NULL)</code></p>
<ul>
<li>The interface function receives a matrix where each row is proposed parameter setting (<code>temp</code>, <code>tmax</code>), and each column specifies the parameters.</li>
<li>It generates a <span class="math inline">\((n,1)\)</span>-matrix as output, where <span class="math inline">\(n\)</span> is the number of (<code>temp</code>, <code>tmax</code>) parameter settings.</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a>sann2spot &lt;-<span class="st"> </span><span class="cf">function</span>(algpar){</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a>  performance &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(algpar)){</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a>    resultList &lt;-<span class="st"> </span><span class="kw">optim</span>(<span class="dt">par =</span> <span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">10</span>),</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true"></a>                    <span class="dt">fn =</span> sphere,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true"></a>                    <span class="dt">method =</span> <span class="st">&quot;SANN&quot;</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true"></a>                    <span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">maxit =</span> <span class="dv">100</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true"></a>                                  <span class="dt">temp =</span> algpar[i,<span class="dv">1</span>],</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true"></a>                                  <span class="dt">tmax =</span> algpar[i,<span class="dv">2</span>]))</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true"></a>    performance &lt;-<span class="st"> </span><span class="kw">c</span>(performance,resultList<span class="op">$</span>value)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true"></a>    }</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true"></a><span class="kw">return</span>(<span class="kw">matrix</span>(performance,,<span class="dv">1</span>))</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true"></a>}</span></code></pre></div>
<ul>
<li>Now we can test the interface. First, we run <code>SANN</code> with <code>temp</code> = 10 and <code>tmax</code> = 10.</li>
<li>A second <code>SANN</code> run is performed using <code>temp</code> = 20 and <code>tmax</code> = 5.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a><span class="kw">sann2spot</span>(<span class="dt">algpar =</span> <span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">10</span>,<span class="dv">10</span>),<span class="dv">1</span>))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a><span class="co">#&gt;          [,1]</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a><span class="co">#&gt; [1,] 45.14084</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a><span class="kw">sann2spot</span>(<span class="dt">algpar=</span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">20</span>),<span class="dv">1</span>))</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a><span class="co">#&gt;          [,1]</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true"></a><span class="co">#&gt; [1,] 4.469163</span></span></code></pre></div>
</div>
<div id="the-configuration-list" class="section level3">
<h3>The Configuration List</h3>
<ul>
<li><code>SPOT</code> itself has various parameters that need to be configured so that it can solve the tuning problem efficiently.</li>
<li>A configuration or <code>control</code> list can be defined for <code>SPOT</code>.</li>
<li>If no configuration list is specified, the default configuration that works fine for many problems, is used.</li>
<li>In the following, some elements of the configuration list that are important for our example (tuning <code>SANN</code> + <code>sphere()</code>) will be explained.</li>
</ul>
<div id="types" class="section level4">
<h4>types:</h4>
<ul>
<li>Since <code>SANN</code>’s parameters <code>temp</code> and <code>tmax</code> are integers, we provide this type information via <code>types = c(&quot;integer&quot;, &quot;integer&quot;)</code>.</li>
</ul>
</div>
<div id="funevals" class="section level4">
<h4><code>funEvals</code>:</h4>
<ul>
<li>The number of algorithm runs, i.e., runs of the <code>SANN</code> algorithm, is specified via <code>funEvals</code>.</li>
</ul>
</div>
<div id="noise" class="section level4">
<h4><code>noise</code>:</h4>
<ul>
<li><code>SANN</code> is a stochastic optimizer, so we specify <code>noise = TRUE</code>.</li>
</ul>
</div>
<div id="seedfun" class="section level4">
<h4><code>seedFun</code>:</h4>
<ul>
<li>Also due to the stochasticity of the optimizer, a random number generator seed has to be specified, <code>seedFun = 1</code>.</li>
<li>Every time an algorithm configuration is tested, the RNG seed will be set.</li>
<li>For the first evaluation, the seed will be <code>seedFun</code>, subsequent evaluations will increment this value.</li>
</ul>
</div>
<div id="replicates" class="section level4">
<h4><code>replicates</code>:</h4>
<ul>
<li>Since our evaluations are subject to noise, we can make replicates to mitigate it.</li>
<li>In our example, each algorithm configuration will be evaluated twice, so the setting <code>replicates = 2</code> is used.</li>
</ul>
</div>
<div id="seedspot" class="section level4">
<h4><code>seedSPOT</code>:</h4>
<ul>
<li>An additional seed for <code>SPOT</code> can be specified using <code>seedSPOT = 1</code>.</li>
<li>This second seed is only set once in the beginning. This ensures that the <code>SPOT</code> run is reproducible, since <code>SPOT</code> itself may also be of a stochastic nature (depending on the configuration).</li>
</ul>
</div>
<div id="design" class="section level4">
<h4><code>design</code>:</h4>
<ul>
<li><code>design</code> parameter defines the method to be used to generate an initial design (a set of initial algorithm settings (here: a number of pairs of <code>temp</code> and <code>tmax</code>).</li>
<li>A Latin hyper cube design (LHD) is specified via <code>design = designLHD</code>.</li>
</ul>
</div>
<div id="model" class="section level4">
<h4><code>model</code>:</h4>
<ul>
<li>Based on the initial design and subsequent evaluations, a <code>model</code> can be trained to learn the relation between algorithm parameters (<code>temp</code>,<code>tmax</code>) and algorithm performance.</li>
<li>To generate the meta <code>model</code>, we use a random forest implementation~.</li>
<li>This can be specified via <code>model = buildRandomForest</code>.</li>
<li>Random forest was chosen, because it is a robust method which can handle categorical and numerical variables.</li>
</ul>
</div>
<div id="optimizer" class="section level4">
<h4><code>optimizer</code>:</h4>
<ul>
<li>Once a meta <code>model</code>is trained, we need an <code>optimizer</code> to find the best potential algorithm configuration, based on the <code>model</code>.</li>
<li>Here, we choose a very simple optimizer, which creates a large LHD and evaluates it on the <code>model</code>: <code>optimizer = optimLHD</code>.</li>
</ul>
</div>
<div id="optimizercontrol" class="section level4">
<h4><code>optimizerControl</code>:</h4>
<ul>
<li><p>The specified <code>optimizer</code> may have options that need to be set.</p></li>
<li><p>Here, we only specify the number of <code>model</code> evaluations to be performed by the <code>optimizer</code> with <code>optimizerControl = list(funEvals=1000)</code>.</p></li>
<li><p>Overall, we obtain the following configuration:</p></li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a>spotConfig &lt;-<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a>  <span class="dt">types =</span> <span class="kw">c</span>(<span class="st">&quot;integer&quot;</span>, <span class="st">&quot;integer&quot;</span>), <span class="co">#data type of tuned parameters</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a>  <span class="dt">funEvals =</span> <span class="dv">50</span>, <span class="co">#maximum number of SANN runs</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a>  <span class="dt">noise =</span> <span class="ot">TRUE</span>, <span class="co">#problem is noisy (SANN is non-deterministic)</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true"></a>  <span class="dt">seedFun =</span> <span class="dv">1</span>, <span class="co">#RNG start seed for algorithm calls (iterated)</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true"></a>  <span class="dt">replicates =</span> <span class="dv">2</span>, <span class="co">#2 replicates for each SANN parameterization</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true"></a>  <span class="dt">seedSPOT =</span> <span class="dv">1</span>, <span class="co">#main RNG</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true"></a>  <span class="dt">design =</span> designLHD, <span class="co">#initial design: Latin Hypercube</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true"></a>  <span class="dt">model =</span> buildRandomForest, <span class="co"># model = buildKriging Kriging surrogate model</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true"></a>  <span class="dt">optimizer =</span> optimLHD, <span class="co">#Use LHD to optimize on model </span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true"></a>  <span class="dt">optimizerControl =</span> <span class="kw">list</span>(<span class="dt">funEvals=</span><span class="dv">100</span>) <span class="co">#100 model evals in each iteration  </span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true"></a>)</span></code></pre></div>
</div>
</div>
</div>
<div id="the-region-of-interest" class="section level2">
<h2>The Region of Interest</h2>
<ul>
<li>The region of interest (ROI) specifies <code>SPOT</code>’s search intervals for the <code>SANN</code> parameters, i.e., for <code>tmax</code> and <code>temp</code>.</li>
<li>Here, both parameters <code>temp</code> and <code>tmax</code> will be tuned in the region between one and 100.</li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>tempLo =<span class="st"> </span><span class="dv">1</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a>tempHi =<span class="st"> </span><span class="dv">100</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a>tmaxLo =<span class="st"> </span><span class="dv">1</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a>tmaxHi =<span class="st"> </span><span class="dv">100</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a>lower=<span class="kw">c</span>(tempLo,tmaxLo)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true"></a>upper=<span class="kw">c</span>(tempHi,tmaxHi)</span></code></pre></div>
<ul>
<li>The order (first <code>temp</code> then <code>tmax</code>) has to be the same as in the <code>sann2spot()</code> interface.</li>
</ul>
</div>
<div id="calling-spot" class="section level2">
<h2>Calling <code>spot()</code></h2>
<ul>
<li>Now we are ready to perform our first <code>SPOT</code> experiment.</li>
<li>We will start <code>SPOT</code> via <code>spot()</code>.</li>
<li>The result is stored in the list <code>resRf</code>:</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a>resRf &lt;-<span class="st"> </span><span class="kw">spot</span>(<span class="dt">x=</span><span class="ot">NULL</span>,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a>              <span class="dt">fun=</span>sann2spot,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true"></a>              <span class="dt">lower=</span>lower,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true"></a>              <span class="dt">upper=</span>upper,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true"></a>              <span class="dt">control=</span>spotConfig)</span></code></pre></div>
<ul>
<li>Now, we are able to take a look at the results from the tuning procedure.</li>
<li>Output from the <code>SPOT</code> run, which is stored in the list <code>resRf</code>, has the following structure.</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a><span class="kw">str</span>(resRf)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a><span class="co">#&gt; List of 7</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a><span class="co">#&gt;  $ xbest   : num [1, 1:2] 12 78</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true"></a><span class="co">#&gt;  $ ybest   : num [1, 1] 0.0085</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true"></a><span class="co">#&gt;  $ x       : num [1:50, 1:2] 9 72 45 15 26 57 70 93 33 88 ...</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true"></a><span class="co">#&gt;  $ y       : num [1:50, 1] 0.226 28.891 59.309 0.192 2.864 ...</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true"></a><span class="co">#&gt;  $ count   : int 50</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true"></a><span class="co">#&gt;  $ msg     : chr &quot;budget exhausted&quot;</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true"></a><span class="co">#&gt;  $ modelFit:List of 3</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true"></a><span class="co">#&gt;   ..$ rfFit:List of 17</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ call           : language randomForest(x = x, y = y)</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ type           : chr &quot;regression&quot;</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ predicted      : num [1:49] 0.323 31.175 23.541 28.39 10.454 ...</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ mse            : num [1:500] 226 161 223 185 180 ...</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ rsq            : num [1:500] 0.364 0.547 0.371 0.478 0.492 ...</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ oob.times      : int [1:49] 177 175 194 177 192 165 174 199 212 173 ...</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ importance     : num [1:2, 1] 7780 7508</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..- attr(*, &quot;dimnames&quot;)=List of 2</span></span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true"></a><span class="co">#&gt;   .. .. .. ..$ : chr [1:2] &quot;1&quot; &quot;2&quot;</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true"></a><span class="co">#&gt;   .. .. .. ..$ : chr &quot;IncNodePurity&quot;</span></span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ importanceSD   : NULL</span></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ localImportance: NULL</span></span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ proximity      : NULL</span></span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ ntree          : num 500</span></span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ mtry           : num 1</span></span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ forest         :List of 11</span></span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ ndbigtree    : int [1:500] 29 31 31 29 33 23 25 27 31 31 ...</span></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ nodestatus   : int [1:37, 1:500] -3 -1 -3 -3 -3 -1 -1 -3 -3 -3 ...</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ leftDaughter : int [1:37, 1:500] 2 0 4 6 8 0 0 10 12 14 ...</span></span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ rightDaughter: int [1:37, 1:500] 3 0 5 7 9 0 0 11 13 15 ...</span></span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ nodepred     : num [1:37, 1:500] 8.85 65.11 3.85 20.22 1.33 ...</span></span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ bestvar      : int [1:37, 1:500] 2 0 2 1 1 0 0 1 1 1 ...</span></span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ xbestsplit   : num [1:37, 1:500] 50.5 0 70.5 49 16.5 0 0 9 40 4.5 ...</span></span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ ncat         : num [1:2] 1 1</span></span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ nrnodes      : int 37</span></span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ ntree        : num 500</span></span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true"></a><span class="co">#&gt;   .. .. ..$ xlevels      :List of 2</span></span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true"></a><span class="co">#&gt;   .. .. .. ..$ : num 0</span></span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true"></a><span class="co">#&gt;   .. .. .. ..$ : num 0</span></span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ coefs          : NULL</span></span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ y              : num [1:49, 1] 0.226 28.891 59.309 0.192 2.864 ...</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ test           : NULL</span></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true"></a><span class="co">#&gt;   .. ..$ inbag          : NULL</span></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true"></a><span class="co">#&gt;   .. ..- attr(*, &quot;class&quot;)= chr &quot;randomForest&quot;</span></span>
<span id="cb18-45"><a href="#cb18-45" aria-hidden="true"></a><span class="co">#&gt;   ..$ x    : num [1:49, 1:2] 9 72 45 15 26 57 70 93 33 88 ...</span></span>
<span id="cb18-46"><a href="#cb18-46" aria-hidden="true"></a><span class="co">#&gt;   ..$ y    : num [1:49, 1] 0.226 28.891 59.309 0.192 2.864 ...</span></span>
<span id="cb18-47"><a href="#cb18-47" aria-hidden="true"></a><span class="co">#&gt;   ..- attr(*, &quot;class&quot;)= chr &quot;spotRandomForest&quot;</span></span></code></pre></div>
<ul>
<li><code>SPOT</code> generates many information which can be used for a statistical analysis.</li>
<li>For example, the best configuration found can be displayed as follows:</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a><span class="kw">cbind</span>(resRf<span class="op">$</span>xbest, resRf<span class="op">$</span>ybest)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a><span class="co">#&gt;      [,1] [,2]        [,3]</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true"></a><span class="co">#&gt; [1,]   12   78 0.008496108</span></span></code></pre></div>
<ul>
<li><code>SPOT</code> recommends using <code>temp</code> =</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a>resRf<span class="op">$</span>xbest[<span class="dv">1</span>]</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true"></a><span class="co">#&gt; [1] 12</span></span></code></pre></div>
<p>and <code>tmax</code> =</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a>resRf<span class="op">$</span>xbest[<span class="dv">2</span>] </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true"></a><span class="co">#&gt; [1] 78</span></span></code></pre></div>
<ul>
<li>These parameter settings differ significantly from the default values.
<ul>
<li>These values also make sense: the starting temperature <code>temp</code> should be low and the number of evaluations at each temperature <code>tmax</code> should be high.</li>
<li>Hence, worse solutions will rarely be accepted by <code>SANN</code>, which leads to a very localized search.</li>
</ul></li>
<li>This is a good configuration for this example, since the sphere function is unimodal.</li>
</ul>
</div>
<div id="details-1-the-spot-interface" class="section level2">
<h2>Details 1: The <code>spot()</code> Interface</h2>
<div id="subsubsectionarguments" class="section level3">
<h3>subsubsection{Arguments}</h3>
<ul>
<li><code>SPOT</code> uses the same interface as <code>R</code>’s standard <code>optim()</code> function, which uses the arguments reported in the following Table:</li>
</ul>
<table>
<colgroup>
<col width="31%" />
<col width="68%" />
</colgroup>
<thead>
<tr class="header">
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>x</code></td>
<td>Optional start point (or set of start points), specified as a matrix. One row for each point, and one column for each optimized parameter.</td>
</tr>
<tr class="even">
<td><code>fun</code></td>
<td>Objective function. It should receive a matrix <code>x</code> and return a matrix <code>y</code>. In case the function uses external code and is noisy, an additional seed parameter may be used, see the <code>control$seedFun</code> argument in the function documentation for details.</td>
</tr>
<tr class="odd">
<td><code>lower</code></td>
<td>Vector that defines the lower boundary of search space</td>
</tr>
<tr class="even">
<td><code>upper</code></td>
<td>Vector that defines the upper boundary of search space</td>
</tr>
<tr class="odd">
<td><code>control</code></td>
<td>List of additional settings</td>
</tr>
</tbody>
</table>
<ul>
<li>Note, take care of consistency of <code>upper</code>, <code>lower</code> and, if specified, <code>x</code>.
<ul>
<li>In cases of inconsistency, the dimension of the variable <code>lower</code> will be taken into account to establish the dimension of the problem.</li>
</ul></li>
</ul>
<div id="return-values" class="section level4">
<h4>Return Values</h4>
<ul>
<li>The function <code>spot()</code> returns a list with the values shown in the following Table.</li>
</ul>
<table>
<colgroup>
<col width="21%" />
<col width="57%" />
<col width="21%" />
</colgroup>
<thead>
<tr class="header">
<th>name</th>
<th>description</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>xbest</code></td>
<td>Parameters of the best found solution</td>
<td><code>matrix</code></td>
</tr>
<tr class="even">
<td><code>ybest</code></td>
<td>Objective function value of the best found solution</td>
<td><code>matrix</code></td>
</tr>
<tr class="odd">
<td><code>x</code></td>
<td>Archive of all evaluation parameters</td>
<td><code>matrix</code></td>
</tr>
<tr class="even">
<td><code>y</code></td>
<td>Archive of the respective objective function values</td>
<td><code>matrix</code></td>
</tr>
<tr class="odd">
<td><code>count</code></td>
<td>Number of performed objective function evaluations</td>
<td><code>integer</code></td>
</tr>
<tr class="even">
<td><code>msg</code></td>
<td>Message specifying the reason of termination</td>
<td><code>character</code></td>
</tr>
<tr class="odd">
<td><code>modelFit</code></td>
<td>The fit of the model from the last <code>SPOT</code> iteration, i.e., an object returned by the last call to the function specified by <code>control$model</code></td>
<td><code>list</code></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="details-2-spot-configuration" class="section level2">
<h2>Details 2: SPOT Configuration</h2>
<ul>
<li><code>SPOT</code> configuration settings are listed in following Table.</li>
</ul>
<table>
<colgroup>
<col width="19%" />
<col width="50%" />
<col width="30%" />
</colgroup>
<thead>
<tr class="header">
<th>name</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>funEvals</code></td>
<td>Budget of function evaluations (spot uses no more than funEvals evaluations of fun).</td>
<td><code>20</code></td>
</tr>
<tr class="even">
<td><code>types</code></td>
<td>Vector of data type of each variable as a string.</td>
<td><code>&quot;numeric&quot;</code></td>
</tr>
<tr class="odd">
<td><code>design</code></td>
<td>A function that creates an initial design of experiment. Functions that accept the same parameters, and return a matrix like <code>designLHD</code> or <code>designUniformRandom</code> can be used.</td>
<td><code>designLHD</code></td>
</tr>
<tr class="even">
<td><code>designControl</code></td>
<td>List of controls passed to the <code>control</code> list of the <code>design</code> function.</td>
<td>empty <code>list</code></td>
</tr>
<tr class="odd">
<td><code>model</code></td>
<td>Function that builds a model of the observed data. Functions that accept the same parameters, and return a matrix like <code>buildKriging</code> or <code>buildRandomForest</code> can be used.</td>
<td><code>buildKriging</code></td>
</tr>
<tr class="even">
<td><code>modelControl</code></td>
<td>List of controls passed to the <code>control</code> list of the <code>model</code> function.</td>
<td>empty <code>list</code></td>
</tr>
<tr class="odd">
<td><code>optimizer</code></td>
<td>Function that is used to optimize the <code>model</code>, finding the most promising candidate solutions. Functions that accept the same parameters, and return a matrix like <code>optimLHD</code> or <code>optimLBFGSB</code> can be used.</td>
<td><code>optimLHD</code></td>
</tr>
<tr class="even">
<td><code>optimizerControl</code></td>
<td>List of controls passed to the <code>control</code> list of the <code>optimizer</code> function.</td>
<td>empty <code>list</code></td>
</tr>
<tr class="odd">
<td><code>noise</code></td>
<td>Boolean, whether the objective function has noise.</td>
<td><code>FALSE</code></td>
</tr>
<tr class="even">
<td><code>OCBA</code></td>
<td>Boolean, indicating whether Optimal Computing Budget Allocation (OCBA) should be used in case of a noisy objective function. OCBA controls the number of replications for each candidate solution. Note, that <code>replicates</code> should be larger than one in that case, and that the initial experimental design (see <code>design</code>) should also have replicates larger than one.</td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td><code>OCBAbudget</code></td>
<td>Number of objective function evaluations that OCBA can distribute in each iteration.</td>
<td><code>3</code></td>
</tr>
<tr class="even">
<td><code>replicates</code></td>
<td>Number of times a candidate solution is initially evaluated, that is, in the initial design, or when created by the optimizer.</td>
<td><code>1</code></td>
</tr>
<tr class="odd">
<td><code>seedFun</code></td>
<td>Initial seed for the objective function in case of noise. The default means that no seed is set. The user should be very careful with this setting. It is intended to generate reproducible experiments for each objective function evaluation, e.g., when tuning non-deterministic algorithms. If the objective function uses a constant number of random number generations, this may be undesirable. Note, that this seed is by default set prior to each evaluation. A replicated evaluation will receive an incremented value of the seed. Sometimes, the user may want to call external code using random numbers. To allow for that case, the user can specify an objective function (<code>fun</code>), which has a second parameter <code>seed</code>, in addition to first parameter (matrix <code>x</code>). This seed can then be passed to the external code, for random number generator initialization. See end of examples section in the documentation of <code>SPOT</code> for a demonstration.</td>
<td><code>NA</code></td>
</tr>
<tr class="even">
<td><code>seedSPOT</code></td>
<td>Value used to initialize the random number generator. It ensures that experiments are reproducible.</td>
<td><code>1</code></td>
</tr>
<tr class="odd">
<td><code>duplicate</code></td>
<td>In case of a deterministic (non-noisy) objective function, this handles duplicated candidate solutions. By default (<code>duplicate = &quot;EXPLORE&quot;</code>), duplicates are replaced by new candidate solutions, generated by random sampling with uniform distribution. If desired, the user can set this to <code>&quot;STOP&quot;</code>, which means that the optimization stops and results are returned to the user (with a warning). This may be desirable, as duplicates can be a indicator of convergence, or problems with the configuration. In case of noise, duplicates are allowed regardless of this parameter.</td>
<td><code>&quot;EXPLORE&quot;</code></td>
</tr>
<tr class="even">
<td><code>plots</code></td>
<td>Logical. Should the progress be tracked by a line plot?</td>
<td><code>FALSE</code></td>
</tr>
</tbody>
</table>
<ul>
<li>The configuration list stores information about <code>SPOT</code> specific settings.</li>
<li>All settings not specified in the list will be set to their default values.</li>
</ul>
</div>
<div id="details-3-initial-designs" class="section level2">
<h2>Details 3: Initial Designs</h2>
<ul>
<li>The problem design comprehends the information about the optimization problem, e.g., the starting point <code>x0 = (-1,1,-1)</code> belongs to the problem design.</li>
<li>A region of interest (ROI) specifies algorithm parameters and associated lower and upper bounds for the algorithm parameters.
<ul>
<li>Values for <code>temp</code> are chosen from the interval <span class="math inline">\([1; 100]\)</span>.</li>
<li>Values for <code>tmax</code> are chosen from the interval <span class="math inline">\([1; 100]\)</span>.</li>
</ul></li>
<li><code>SPOT</code> implements a sequential approach, i.e., the available budget is not used in one step. Rather, sequential steps are made, comprised of model training, optimization, and evaluation. To initialize this procedure, some first data set is required to train the first, coarse-grained meta model.</li>
</ul>
<div id="example-modifying-the-number-of-function-evaluations" class="section level3">
<h3>Example: Modifying the number of function evaluations</h3>
<ul>
<li>For example,
<ul>
<li>the total number of <code>SANN</code> algorithm runs, i.e., the available budget, can be set to 10 using `funEvals = 10},</li>
<li>the size of the initial design can be modified via <code>designControl$size</code>,</li>
<li>the number of repeated evaluations of the initial design can be modified via <code>designControl$replicates</code>, and</li>
<li>the number of replicates used for each new algorithm design point suggested by <code>SPOT</code> can be modified via <code>replicates</code>.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a>spotConfig10 &lt;-<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true"></a>  <span class="dt">funEvals =</span> <span class="dv">10</span>,</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true"></a>  <span class="dt">designControl =</span> <span class="kw">list</span>(</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true"></a>    <span class="dt">size =</span> <span class="dv">6</span>,</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true"></a>    <span class="dt">replicates =</span> <span class="dv">1</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true"></a>  ),</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true"></a>  <span class="dt">noise =</span> <span class="ot">TRUE</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true"></a>  <span class="dt">seedFun =</span> <span class="dv">1</span>,</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true"></a>  <span class="dt">seedSPOT =</span> <span class="dv">1</span>,</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true"></a>  <span class="dt">replicates =</span> <span class="dv">2</span>,</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true"></a>  <span class="dt">model =</span> buildRandomForest </span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true"></a>)</span></code></pre></div>
<ul>
<li>Using this configuration, the budget will be spent as follows:
<ul>
<li>Six initial algorithm design points (parameter sets) will be created, and each will be evaluated just once.</li>
<li>Afterwards, <code>SPOT</code> will have a remaining budget of four evaluations. These can be spent on sequentially testing two additional design points. Each of those will be evaluated twice.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a>res10 &lt;-<span class="st"> </span><span class="kw">spot</span>( ,<span class="dt">fun=</span>sann2spot</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true"></a>              ,<span class="dt">lower=</span>lower</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true"></a>              ,<span class="dt">upper=</span>upper</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true"></a>              ,<span class="dt">control=</span>spotConfig10)</span></code></pre></div>
<ul>
<li>Results from these runs can be displayed as follows.
<ul>
<li>The first two columns show the settings of the algorithm parameters <code>temp</code> and <code>tmax</code>, respectively.</li>
<li>The third row shows the corresponding function values:</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a><span class="kw">cbind</span>(res10<span class="op">$</span>x, res10<span class="op">$</span>y)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true"></a><span class="co">#&gt;            [,1]      [,2]         [,3]</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true"></a><span class="co">#&gt;  [1,]  8.954322 63.418391   0.29353146</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true"></a><span class="co">#&gt;  [2,] 93.392836 43.125099 107.32848102</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true"></a><span class="co">#&gt;  [3,] 25.643432 26.240373  16.14928784</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true"></a><span class="co">#&gt;  [4,] 70.072590 96.524378  11.29012282</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true"></a><span class="co">#&gt;  [5,] 47.651660 67.384965   3.93335321</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true"></a><span class="co">#&gt;  [6,] 61.529701  8.874296  73.12225819</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true"></a><span class="co">#&gt;  [7,]  6.561794 81.375416   0.25116700</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true"></a><span class="co">#&gt;  [8,]  6.561794 81.375416   0.02126833</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true"></a><span class="co">#&gt;  [9,] 11.225956 75.246159   2.66469591</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true"></a><span class="co">#&gt; [10,] 11.225956 75.246159   0.07434020</span></span></code></pre></div>
<ul>
<li>The results show the desired outcome: the first six configurations are unique, the following four contain replications (two identical settings, but with different stochastic result).</li>
</ul>
</div>
<div id="initial-designs" class="section level3">
<h3>Initial Designs</h3>
<p><code>designLHD()</code> is the default setting to generate designs. A simple one-dimensional design with values from the interval <span class="math inline">\([-1, 1]\)</span> can be generated as follows:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a><span class="kw">designLHD</span>(,<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>) </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true"></a><span class="co">#&gt;             [,1]</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true"></a><span class="co">#&gt;  [1,]  0.4350726</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true"></a><span class="co">#&gt;  [2,] -0.2725918</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true"></a><span class="co">#&gt;  [3,]  0.9844751</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true"></a><span class="co">#&gt;  [4,]  0.1061902</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true"></a><span class="co">#&gt;  [5,] -0.9456038</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true"></a><span class="co">#&gt;  [6,] -0.5142940</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true"></a><span class="co">#&gt;  [7,]  0.6935275</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true"></a><span class="co">#&gt;  [8,]  0.2901311</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true"></a><span class="co">#&gt;  [9,] -0.0977685</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true"></a><span class="co">#&gt; [10,] -0.6617153</span></span></code></pre></div>
<ul>
<li>A more complicated design, which consists of numeric values for the first variable in the range from -1 to +1, of integer values for the second variable in the range from -2 to 4, of integer values for the third variable in the range from 1 to 9, and with two factors 0 and 1 for the fourth variable, can be generated as follows:</li>
</ul>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a><span class="kw">designLHD</span>(, <span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="op">-</span><span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>),<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">9</span>,<span class="dv">1</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true"></a>          , <span class="dt">control=</span><span class="kw">list</span>(<span class="dt">size=</span><span class="dv">5</span>, <span class="dt">retries=</span><span class="dv">100</span>, <span class="dt">types=</span><span class="kw">c</span>(<span class="st">&quot;numeric&quot;</span>,<span class="st">&quot;integer&quot;</span>,<span class="st">&quot;factor&quot;</span>,<span class="st">&quot;factor&quot;</span>)))</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true"></a><span class="co">#&gt;             [,1] [,2] [,3] [,4]</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true"></a><span class="co">#&gt; [1,] -0.00173205    3    6    0</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true"></a><span class="co">#&gt; [2,]  0.41823095   -1    9    1</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true"></a><span class="co">#&gt; [3,] -0.45046368    4    5    1</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true"></a><span class="co">#&gt; [4,] -0.82865697    1    1    1</span></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true"></a><span class="co">#&gt; [5,]  0.68113235   -2    3    0</span></span></code></pre></div>
<ul>
<li>Designs can also be combined as illustrated in the following example.</li>
</ul>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true"></a>x1 &lt;-<span class="st"> </span><span class="kw">designLHD</span>(,<span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="op">-</span><span class="dv">1</span>),<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>),<span class="dt">control=</span><span class="kw">list</span>(<span class="dt">size=</span><span class="dv">50</span>,<span class="dt">retries=</span><span class="dv">100</span>))</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true"></a>x2 &lt;-<span class="st"> </span><span class="kw">designLHD</span>(x1,<span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>,<span class="op">-</span><span class="dv">2</span>),<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">2</span>),<span class="dt">control=</span><span class="kw">list</span>(<span class="dt">size=</span><span class="dv">50</span>,<span class="dt">retries=</span><span class="dv">100</span>))</span></code></pre></div>
<ul>
<li>The corresponding plot shows the resulting design.</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a><span class="kw">plot</span>(x2,<span class="dt">pch=</span><span class="dv">1</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true"></a><span class="kw">points</span>(x1, <span class="dt">pch=</span><span class="dv">4</span>)</span></code></pre></div>
<ul>
<li>Designs based on uniform random sampling can be generated with the function <code>designUniformRandom()</code> as follows:</li>
</ul>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a><span class="kw">designUniformRandom</span>(,<span class="kw">c</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">0</span>),<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">10</span>),<span class="dt">control=</span><span class="kw">list</span>(<span class="dt">size=</span><span class="dv">5</span>))</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true"></a><span class="co">#&gt;            [,1]     [,2]</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true"></a><span class="co">#&gt; [1,]  0.3480606 3.447254</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true"></a><span class="co">#&gt; [2,] -0.3917176 2.413147</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true"></a><span class="co">#&gt; [3,]  0.7143919 8.768452</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true"></a><span class="co">#&gt; [4,] -0.4602907 1.681719</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true"></a><span class="co">#&gt; [5,] -0.5792664 9.799514</span></span></code></pre></div>
</div>
</div>
<div id="details-4-models" class="section level2">
<h2>Details 4: Models</h2>
<ul>
<li>In <code>SPOT</code>, a meta model or surrogate model is used to determine promising algorithm design points.</li>
<li>To that end, it aims to learn the relation between algorithm parameters and the corresponding algorithm performance. * The different models and their options are described next.</li>
</ul>
<div id="kriging-models" class="section level3">
<h3>Kriging Models</h3>
<ul>
<li>As default, the <code>buildKriging()</code> function is used for modeling.</li>
<li>This function builds a Kriging model (also known as Gaussian process regression) loosely based on code by .</li>
<li>Kriging models are based on measures of similarity, or kernels.</li>
<li>Here, a Gaussian kernel is used: <span class="math display">\[
k(x,x&#39;) = \exp \left(-\sum^n_{i=1} \theta_i |x_i-x&#39;_i|^{p_i} \right).
\]</span></li>
<li>By default exponents are fixed at a value of two, <span class="math inline">\(p_i = 2\)</span>, (<span class="math inline">\(i=1,\ldots,n\)</span>), and the nugget effect (or regularization constant) is used.</li>
<li>To correct the uncertainty estimates in case of using the nugget effect, re-interpolation is also by default turned on (see  for more details on these features of the model).</li>
</ul>
</div>
<div id="example-spot-as-a-surrogate-model-based-algorithm" class="section level3">
<h3>Example: <code>SPOT</code> as a surrogate model based algorithm</h3>
<ul>
<li>The following code exemplifies how a Kriging model is built with an artificial data set.</li>
<li>Note, this example exemplifies how <code>SPOT</code> can be used as a surrogate model based optimization algorithm, i.e., no algorithm is tuned.</li>
</ul>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a><span class="co"># Objective function</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true"></a>braninFunction &lt;-<span class="st"> </span><span class="cf">function</span> (x) {</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true"></a>    (x[<span class="dv">2</span>]  <span class="op">-</span><span class="st"> </span><span class="fl">5.1</span><span class="op">/</span>(<span class="dv">4</span> <span class="op">*</span><span class="st"> </span>pi<span class="op">^</span><span class="dv">2</span>) <span class="op">*</span><span class="st"> </span>(x[<span class="dv">1</span>] <span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="dv">5</span><span class="op">/</span>pi <span class="op">*</span><span class="st"> </span>x[<span class="dv">1</span>]  <span class="op">-</span><span class="st"> </span><span class="dv">6</span>)<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">10</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="dv">1</span><span class="op">/</span>(<span class="dv">8</span> <span class="op">*</span><span class="st"> </span>pi)) <span class="op">*</span><span class="st"> </span><span class="kw">cos</span>(x[<span class="dv">1</span>] ) <span class="op">+</span><span class="st"> </span><span class="dv">10</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true"></a>}</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true"></a><span class="co">## Create 20 design points</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="kw">runif</span>(<span class="dv">20</span>)<span class="op">*</span><span class="dv">15-5</span>, <span class="kw">runif</span>(<span class="dv">20</span>)<span class="op">*</span><span class="dv">15</span>)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true"></a><span class="co">## Compute observations at design points (for Branin function)</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true"></a>y &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(<span class="kw">apply</span>(x,<span class="dv">1</span>,braninFunction))</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true"></a><span class="co">## Create model with default settings</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true"></a>fit &lt;-<span class="st"> </span><span class="kw">buildKriging</span>(x,y,<span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">algTheta=</span>optimLHD))</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true"></a><span class="co">## Print model parameters</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true"></a><span class="kw">print</span>(fit)</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true"></a><span class="co">#&gt; ------------------------</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true"></a><span class="co">#&gt; Forrester Kriging model.</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true"></a><span class="co">#&gt; ------------------------</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true"></a><span class="co">#&gt; Estimated activity parameters (theta) sorted </span></span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true"></a><span class="co">#&gt; from most to least important variable </span></span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true"></a><span class="co">#&gt; x1  x2 </span></span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true"></a><span class="co">#&gt; 7.575502 1.361329</span></span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true"></a><span class="co">#&gt;  </span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true"></a><span class="co">#&gt; exponent(s) p:</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true"></a><span class="co">#&gt; 2</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true"></a><span class="co">#&gt;  </span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true"></a><span class="co">#&gt; Estimated regularization constant (or nugget) lambda:</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true"></a><span class="co">#&gt; 5.239774e-06</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true"></a><span class="co">#&gt;  </span></span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true"></a><span class="co">#&gt; Number of Likelihood evaluations during MLE:</span></span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true"></a><span class="co">#&gt; 600</span></span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true"></a><span class="co">#&gt; ------------------------</span></span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true"></a><span class="co">##Define a new location</span></span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true"></a>newloc &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="dt">nrow =</span><span class="dv">1</span> )</span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true"></a><span class="co">##Predict at new location</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true"></a><span class="kw">predict</span>(fit,newloc)</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true"></a><span class="co">#&gt; $y</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true"></a><span class="co">#&gt; [1] 21.08753</span></span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true"></a><span class="co">## True value at location</span></span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true"></a><span class="kw">braninFunction</span>(newloc)</span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true"></a><span class="co">#&gt; [1] 21.62764</span></span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true"></a><span class="co">## </span></span></code></pre></div>
</div>
</div>
<div id="handling-factor-variables-in-the-kriging-model" class="section level2">
<h2>Handling Factor Variables in the Kriging Model</h2>
<ul>
<li>Sometimes, parameters optimized or modeled by <code>SPOT</code> functions will not be numerical, but rather categorical.</li>
<li>This may, e.g., occur if an evolutionary algorithm is tuned:
<ul>
<li>while some parameters like mutation rates may be real valued, the selection between different mutation operators may be a categorical parameter.</li>
</ul></li>
<li>Hence, if <span class="math inline">\(x_i\)</span>, the <span class="math inline">\(i\)</span>th dimension of a parameter configuration <span class="math inline">\(\vec{x}\)</span>, is a factor variable (see parameter <code>types</code>), Hamming distance, that determines the number of positions at which the corresponding values are different, will be used instead of <span class="math inline">\(|x_i-x&#39;_i|\)</span>.</li>
<li>To illustrate how factor variables can be handled, we create a test function that uses a factor variable.
<ul>
<li>Here, the third dimension <span class="math inline">\(x_3\)</span> is categorical.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true"></a>braninFunctionFactor &lt;-<span class="st"> </span><span class="cf">function</span> (x) {  </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true"></a>y &lt;-<span class="st"> </span>(x[<span class="dv">2</span>] <span class="op">-</span><span class="st"> </span><span class="fl">5.1</span> <span class="op">/</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">*</span><span class="st"> </span>pi<span class="op">^</span><span class="dv">2</span>) <span class="op">*</span><span class="st"> </span>(x[<span class="dv">1</span>]<span class="op">^</span><span class="dv">2</span>) <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">/</span><span class="st"> </span>pi <span class="op">*</span><span class="st"> </span>x[<span class="dv">1</span>] <span class="op">-</span><span class="st"> </span><span class="dv">6</span>)<span class="op">^</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">10</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="dv">1</span> <span class="op">/</span><span class="st"> </span>(<span class="dv">8</span> <span class="op">*</span><span class="st"> </span>pi)) <span class="op">*</span><span class="st"> </span><span class="kw">cos</span>(x[<span class="dv">1</span>]) <span class="op">+</span><span class="st"> </span><span class="dv">10</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true"></a>    <span class="cf">if</span>(x[<span class="dv">3</span>] <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true"></a>        y &lt;-<span class="st"> </span>y <span class="op">+</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true"></a>    <span class="cf">else</span> <span class="cf">if</span>(x[<span class="dv">3</span>]<span class="op">==</span><span class="dv">2</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true"></a>        y &lt;-<span class="st"> </span>y <span class="op">-</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true"></a>    y  </span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true"></a>}</span></code></pre></div>
<ul>
<li>To test how this affects our model, we first generate some training data and fit the model with default settings, which ignores factor information and uses the standard kernel.</li>
</ul>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true"></a><span class="co">## Replace x with new data</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="kw">runif</span>(<span class="dv">50</span>)<span class="op">*</span><span class="dv">15-5</span>,<span class="kw">runif</span>(<span class="dv">50</span>)<span class="op">*</span><span class="dv">15</span>,<span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,<span class="dv">50</span>,<span class="dt">replace=</span><span class="ot">TRUE</span>))</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true"></a>y &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(<span class="kw">apply</span>(x,<span class="dv">1</span>,braninFunctionFactor))</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true"></a>fitDefault &lt;-<span class="st"> </span><span class="kw">buildKriging</span>(x,y,<span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">algTheta=</span>optimLBFGSB))</span></code></pre></div>
<ul>
<li>Afterwards we fit the model, which includes information about the factor variable.</li>
</ul>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true"></a>fitFactor &lt;-<span class="st"> </span><span class="kw">buildKriging</span>(x,y,<span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">algTheta=</span>optimLBFGSB,<span class="dt">types=</span><span class="kw">c</span>(<span class="st">&quot;numeric&quot;</span>,<span class="st">&quot;numeric&quot;</span>,<span class="st">&quot;factor&quot;</span>)))</span></code></pre></div>
<ul>
<li>We generate some new, unseen data for testing and perform some predictions with both models.</li>
</ul>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true"></a><span class="co">##Replace xtest with new data</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true"></a>xtest &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="kw">runif</span>(<span class="dv">200</span>)<span class="op">*</span><span class="dv">15-5</span>,<span class="kw">runif</span>(<span class="dv">200</span>)<span class="op">*</span><span class="dv">15</span>,<span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,<span class="dv">200</span>,<span class="dt">replace=</span><span class="ot">TRUE</span>))</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true"></a><span class="co">##</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true"></a>ytest &lt;-<span class="st"> </span><span class="kw">as.matrix</span>(<span class="kw">apply</span>(xtest,<span class="dv">1</span>,braninFunctionFactor))</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true"></a><span class="co">## Predict test data with both models, and compute error</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true"></a>ypredDef &lt;-<span class="st"> </span><span class="kw">predict</span>(fitDefault,xtest)<span class="op">$</span>y</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true"></a>ypredFact &lt;-<span class="st"> </span><span class="kw">predict</span>(fitFactor,xtest)<span class="op">$</span>y</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true"></a><span class="kw">mean</span>((ypredDef<span class="op">-</span>ytest)<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true"></a><span class="co">#&gt; [1] 4.099175</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true"></a><span class="kw">mean</span>((ypredFact<span class="op">-</span>ytest)<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true"></a><span class="co">#&gt; [1] 2.094953</span></span></code></pre></div>
<ul>
<li>The error of the factor-aware model is lower.</li>
<li>This demonstrates that users should make sure to declare the nature of the modeled variables correctly, via the <code>types</code> variable.</li>
</ul>
</div>
<div id="details-5-optimization-on-the-meta-model" class="section level2">
<h2>Details 5: Optimization on the Meta Model</h2>
<ul>
<li>Minimization by Latin hyper cube sampling (LHS) is the default optimizer used for finding the next algorithm design parameters on the meta model.</li>
<li>The LHS procedure generates a set of LHD points.</li>
<li>The function <code>optimLHD()</code> uses LHS to optimize a specified target function as follows:
<ul>
<li>A Latin hyper cube Design (LHD) is created with <code>designLHD()</code>, then evaluated by the objective function.</li>
<li>All results are reported, including the best (minimal) objective value, and corresponding design point.</li>
</ul></li>
<li>A standalone optimization run using <code>optimLHD()</code> can be implemented as follows. It uses 100 design points as a default value.</li>
</ul>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true"></a>resOptimumLHD &lt;-<span class="st"> </span><span class="kw">optimLHD</span>(,<span class="dt">fun =</span> funSphere,<span class="dt">lower =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">10</span>,<span class="op">-</span><span class="dv">20</span>),<span class="dt">upper=</span><span class="kw">c</span>(<span class="dv">20</span>,<span class="dv">8</span>))</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true"></a><span class="kw">str</span>(resOptimumLHD)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true"></a><span class="co">#&gt; List of 6</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true"></a><span class="co">#&gt;  $ x    : num [1:100, 1:2] -5.528 -6.509 0.718 -4.327 15.608 ...</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true"></a><span class="co">#&gt;  $ y    : num [1:100, 1] 48.8 62.5 295.3 260.7 366.2 ...</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true"></a><span class="co">#&gt;  $ xbest: num [1, 1:2] 0.136 -0.558</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true"></a><span class="co">#&gt;  $ ybest: num [1, 1] 0.33</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true"></a><span class="co">#&gt;  $ count: num 100</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true"></a><span class="co">#&gt;  $ msg  : chr &quot;success&quot;</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true"></a>resOptimumLHD<span class="op">$</span>ybest</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true"></a><span class="co">#&gt;         [,1]</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true"></a><span class="co">#&gt; [1,] 0.32992</span></span></code></pre></div>
<ul>
<li>Using more sophisticated algorithms, as the variable metric algorithm (L-BFGS-B), might lead to better results.</li>
<li>However, they are not as robust as the simple <code>optimLHD()</code> search.</li>
<li>Also, <code>L-BFGS-B</code> is a pure local search, which may not be ideal to solve potentially multi-modal tuning problems.</li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true"></a>resOptimBFGS &lt;-<span class="st"> </span><span class="kw">optimLBFGSB</span>(,<span class="dt">fun =</span> funSphere,<span class="dt">lower =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">10</span>,<span class="op">-</span><span class="dv">20</span>),<span class="dt">upper=</span><span class="kw">c</span>(<span class="dv">20</span>,<span class="dv">8</span>))</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true"></a>resOptimBFGS<span class="op">$</span>ybest</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true"></a><span class="co">#&gt; [1] 2.098584e-40</span></span></code></pre></div>
<ul>
<li>Hence, <code>SPOT</code> also includes interfaces to more sophisticated algorithms, such as differential evolution from <code>DEoptim</code> package or various methods included in the <code>nloptr</code> package.</li>
<li>For further details on these, see e.g., the help of the corresponding functions.</li>
</ul>
</div>
<div id="details-6-spot-loop-continued-evaluation" class="section level2">
<h2>Details 6: SPOT Loop: Continued Evaluation</h2>
<ul>
<li>Sometimes, users may desire to continue a previously finished <code>SPOT</code> run.</li>
<li>We will demonstrate, how <code>SPOT</code> can be restarted, reusing the collected data.</li>
</ul>
<div id="example-spot-with-continued-evaluation" class="section level3">
<h3>Example: <code>SPOT</code> with continued evaluation</h3>
<ul>
<li>The surrogate model based optimization setting will be used to exemplify the continued evaluation.</li>
<li>The two dimensional sphere function is used as an objective function (level L1) and <code>SPOT</code> will be used at level L2.</li>
<li><code>SPOT</code> uses 5 function evaluations.</li>
</ul>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true"></a>control01 &lt;-<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true"></a>    <span class="dt">designControl =</span> <span class="kw">list</span>(<span class="dt">size =</span> <span class="dv">5</span>, </span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true"></a>                       <span class="dt">replicates =</span> <span class="dv">1</span>),    </span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true"></a>    <span class="dt">funEvals =</span> <span class="dv">5</span>)</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true"></a>res1 &lt;-<span class="st"> </span><span class="kw">spot</span>(,funSphere,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true"></a>             <span class="dt">lower =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>,<span class="op">-</span><span class="dv">3</span>),</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true"></a>             <span class="dt">upper =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true"></a>             control01)</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true"></a><span class="kw">cbind</span>(res1<span class="op">$</span>x, res1<span class="op">$</span>y)</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true"></a><span class="co">#&gt;            [,1]       [,2]     [,3]</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true"></a><span class="co">#&gt; [1,] -0.8963358  0.2026923 0.844502</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true"></a><span class="co">#&gt; [2,] -1.7919899 -1.2888788 4.872436</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true"></a><span class="co">#&gt; [3,]  0.6002650 -0.8783081 1.131743</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true"></a><span class="co">#&gt; [4,] -0.5141893 -2.7545115 7.851724</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true"></a><span class="co">#&gt; [5,]  0.3353190  1.1433044 1.419584</span></span></code></pre></div>
<ul>
<li>Now, we continue with a larger budget.</li>
<li>If we would like to add 3 function evaluations, the total number of function evaluations is <span class="math inline">\(5+3=8\)</span>.</li>
<li>To continue a <code>SPOT</code> run, the command <code>spotLoop()</code> can be used as follows:
<ul>
<li><code>spotLoop(x, y, fun, lower, upper, control, ...)</code>.</li>
</ul></li>
<li>The arguments are:
<ul>
<li><code>x</code>: the known candidate solutions that the <code>SPOT</code> loop is started with, specified as a matrix. One row for each point, and one column for each optimized parameter.</li>
<li><code>y</code>: the corresponding observations for each solution in <code>x</code>, specified as a matrix. One row for each point.</li>
<li><code>fun</code>: is the objective function. It should receive a matrix <code>x</code> and should return a matrix <code>y</code>.</li>
<li><code>lower</code>: is the vector that defines the lower boundary of search space. This determines also the dimensionality of the problem.</li>
<li><code>upper</code>: is the vector that defines the upper boundary of search space.</li>
<li><code>control</code>: is the list with control settings for spot.</li>
<li><code>...</code>: additional parameters passed to fun.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true"></a>control01<span class="op">$</span>funEvals &lt;-<span class="st"> </span><span class="dv">8</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true"></a>res2 &lt;-<span class="st"> </span><span class="kw">spotLoop</span>(res1<span class="op">$</span>x,</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true"></a>                 res1<span class="op">$</span>y,</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true"></a>                 funSphere,</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true"></a>                 <span class="dt">lower =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>,<span class="op">-</span><span class="dv">3</span>),</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true"></a>                 <span class="dt">upper =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true"></a>                 control01)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true"></a><span class="kw">cbind</span>(res2<span class="op">$</span>x, res2<span class="op">$</span>y)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true"></a><span class="co">#&gt;            [,1]         [,2]      [,3]</span></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true"></a><span class="co">#&gt; [1,] -0.8963358  0.202692255 0.8445020</span></span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true"></a><span class="co">#&gt; [2,] -1.7919899 -1.288878778 4.8724363</span></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true"></a><span class="co">#&gt; [3,]  0.6002650 -0.878308079 1.1317431</span></span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true"></a><span class="co">#&gt; [4,] -0.5141893 -2.754511486 7.8517241</span></span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true"></a><span class="co">#&gt; [5,]  0.3353190  1.143304379 1.4195837</span></span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true"></a><span class="co">#&gt; [6,]  0.7868298 -0.009795371 0.6191971</span></span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true"></a><span class="co">#&gt; [7,]  0.4923921 -0.124161024 0.2578659</span></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true"></a><span class="co">#&gt; [8,]  0.3555719  0.023539907 0.1269855</span></span></code></pre></div>
</div>
</div>
</div>
<div id="exploratory-fitness-landscape-analysis" class="section level1">
<h1>Exploratory Fitness Landscape Analysis</h1>
<div id="introduction-to-spots-plot-functions" class="section level2">
<h2>Introduction to SPOT’s Plot Functions</h2>
<ul>
<li>The <code>SPOT</code> package offers three plot functions that can be used to visualize data or evaluate a model’s performance creating 2D and 3D surface plots.
<ul>
<li><code>plotFunction()</code> plots function objects</li>
<li><code>plotData()</code> plots data</li>
<li><code>plotModel()</code> plots model objects, created by <code>build*</code> functions from the <code>SPOT</code> package.</li>
</ul></li>
</ul>
<div id="plotfunction" class="section level3">
<h3>plotFunction</h3>
<ul>
<li>The function <code>plotFunction()</code> visualizes the fitness landscape.</li>
<li>It generates a (filled) contour plot or perspective / surface plot of a function <code>f()</code>.</li>
<li>It has several options for changing plotting styles, colors etc., but default values should be fine in many cases.
<ul>
<li>The basic arguments are: <code>plotFunction(f , lower , upper , type)</code></li>
</ul></li>
</ul>
</div>
<div id="example-plot-of-the-sphere-function" class="section level3">
<h3>Example: Plot of the sphere function</h3>
<ul>
<li>The following code generates a 2D filled contour plot of the sphere function.</li>
<li>Note that <code>plotFunction()</code> requires a function that handles matrix objects, so <code>funSphere()</code> is used.</li>
</ul>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true"></a><span class="kw">plotFunction</span>(funSphere, <span class="kw">rep</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">2</span>), <span class="kw">rep</span>(<span class="dv">1</span>,<span class="dv">2</span>)) </span></code></pre></div>
</div>
<div id="example-plotting-a-user-defined-function" class="section level3">
<h3>Example: Plotting a user defined function</h3>
<ul>
<li>The following code examples show how user defined functions can be plotted. <span class="math display">\[
f(\vec{x}) = \sum_{i=1}^n (x_i^3 -1).
\]</span></li>
<li>It also illustrates how the color scheme can be modified.</li>
</ul>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true"></a>myFunction &lt;-<span class="st"> </span><span class="cf">function</span> (x){</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true"></a>  <span class="kw">matrix</span>(<span class="kw">apply</span>(x, <span class="co"># matrix</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true"></a>               <span class="dv">1</span>, <span class="co"># margin (apply over rows)</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true"></a>               <span class="cf">function</span>(x) <span class="kw">sum</span>(x<span class="op">^</span><span class="dv">3-1</span>) <span class="co"># objective function</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true"></a>               ),</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true"></a>         , <span class="dv">1</span>) <span class="co"># number of columns</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true"></a>  }</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true"></a><span class="kw">plotFunction</span>(myFunction, </span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true"></a>             <span class="kw">rep</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true"></a>             <span class="kw">rep</span>(<span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true"></a>             <span class="dt">color.palette =</span> rainbow) </span></code></pre></div>
<ul>
<li>We can also generate a perspective plot of the user defined function as shown in the following code.</li>
</ul>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true"></a><span class="kw">plotFunction</span>(myFunction,</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true"></a>             <span class="kw">rep</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true"></a>             <span class="kw">rep</span>(<span class="dv">1</span>,<span class="dv">2</span>), </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true"></a>             <span class="dt">type=</span><span class="st">&quot;persp&quot;</span>, </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true"></a>             <span class="dt">theta=</span><span class="dv">10</span>, </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true"></a>             <span class="dt">phi=</span><span class="dv">25</span>, </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true"></a>             <span class="dt">border =</span> <span class="ot">NA</span>)</span></code></pre></div>
</div>
<div id="plotmodel" class="section level3">
<h3>plotModel()</h3>
<ul>
<li>Furthermore, <code>plotModel()</code> offers the possibility to visualize models that have already been trained, e.g., during a <code>SPOT</code> run.</li>
<li>Some simple examples are given below.</li>
</ul>
</div>
<div id="example-plotting-a-trained-model" class="section level3">
<h3>Example: Plotting a trained model</h3>
<ul>
<li>First, we generate some training data.</li>
<li>To demonstrate how plots from data with more than two input dimensions can be generated, we generate a three-dimensional input design, i.e., we consider a functional relationship of the type <span class="math display">\[
f: \mathbb{R}^3 \to \mathbb{R}, \qquad y = f(x_1,x_2,x_3).
\]</span></li>
<li>The output is one dimensional.</li>
</ul>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true"></a>k &lt;-<span class="st"> </span><span class="dv">30</span></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true"></a>x.test &lt;-<span class="st"> </span><span class="kw">designLHD</span>(,<span class="kw">rep</span>(<span class="op">-</span><span class="dv">1</span>,<span class="dv">3</span>),<span class="kw">rep</span>(<span class="dv">1</span>,<span class="dv">3</span>), <span class="dt">control =</span> <span class="kw">list</span>(<span class="dt">size =</span> k)) </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true"></a>y.test &lt;-<span class="st"> </span><span class="kw">funSphere</span>(x.test)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true"></a><span class="kw">head</span>( <span class="kw">cbind</span>(x.test, y.test))</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true"></a><span class="co">#&gt;            [,1]        [,2]        [,3]      [,4]</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true"></a><span class="co">#&gt; [1,]  0.6721562 -0.67693655 -0.06068276 0.9137194</span></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true"></a><span class="co">#&gt; [2,] -0.0813375  0.74944336  0.59109728 0.9176771</span></span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true"></a><span class="co">#&gt; [3,]  0.5462156 -0.39765660 -0.09992404 0.4664671</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true"></a><span class="co">#&gt; [4,]  0.2437057 -0.29365065  0.21488375 0.1917982</span></span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true"></a><span class="co">#&gt; [5,] -0.3043235  0.25574608 -0.30583872 0.2515562</span></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true"></a><span class="co">#&gt; [6,]  0.4131432  0.02414995  0.12575375 0.1870845</span></span></code></pre></div>
<ul>
<li>Then, we train a standard response surface using <code>SPOT</code>’s <code>buildRSM()</code> function.</li>
<li>We generate the default contour plot using <code>plotModel()</code>.</li>
</ul>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true"></a>fit.test &lt;-<span class="st"> </span><span class="kw">buildRSM</span>(x.test,y.test)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true"></a><span class="kw">plotModel</span>(fit.test)</span></code></pre></div>
<ul>
<li>Passing the argument <code>type=&quot;contour&quot;</code> to the <code>plotModel()</code> function, a 2D contour plot can be generated as shown in the Figure.</li>
<li>By default, the dependent variable <span class="math inline">\(y\)</span> is plotted against the first two <span class="math inline">\(x_i\)</span> variables.</li>
<li>Note, that the argument <code>which</code> specifies the independent variables <span class="math inline">\(x_i\)</span> that are plotted.</li>
<li>To plot <span class="math inline">\(y\)</span> against <span class="math inline">\(x_1\)</span> and <span class="math inline">\(x_3\)</span>, the argument <code>which=c(1,3)</code> can be used.</li>
</ul>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true"></a><span class="kw">plotModel</span>(fit.test,<span class="dt">which=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>),<span class="dt">type=</span><span class="st">&quot;contour&quot;</span>,<span class="dt">pch1=</span><span class="dv">24</span>,<span class="dt">col1=</span><span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<ul>
<li>Perspective plots of the same model can be generated as follows. The arguments <code>theta</code> and <code>phi</code> can be used to modify the view point.</li>
<li>The figure can be generated with the following code:</li>
</ul>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true"></a><span class="kw">plotModel</span>(fit.test,<span class="dt">which=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>),<span class="dt">type=</span><span class="st">&quot;persp&quot;</span>,<span class="dt">border=</span><span class="st">&quot;NA&quot;</span>,<span class="dt">theta=</span><span class="dv">255</span>,<span class="dt">phi=</span><span class="dv">20</span>)</span></code></pre></div>
</div>
<div id="plotdata" class="section level3">
<h3><code>plotData()</code></h3>
<ul>
<li>Finally, using <code>plotData()</code>, different models built on provided data can be compared.</li>
<li>The <code>plotData()</code> function generates a (filled) contour or perspective plot of a data set with two independent and one dependent variable.</li>
<li>The plot is generated by some interpolation or regression model.</li>
<li>By default, the <code>LOESS</code> function is used.</li>
<li>Some simple examples are given below.</li>
</ul>
<div id="example-plotting-data-using-loess-and-random-forest" class="section level4">
<h4>Example: Plotting data using <code>LOESS</code> and <code>random forest</code></h4>
<ul>
<li>The following code shows a comparison of two different models fitting the same data.</li>
<li>First, the default <code>LOESS</code> model is used for interpolation.</li>
</ul>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true"></a><span class="kw">plotData</span>(x.test,y.test)</span></code></pre></div>
<ul>
<li>Then, the random forest was used for interpolation.</li>
</ul>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true"></a><span class="kw">plotData</span>(x.test,y.test,<span class="dt">type=</span><span class="st">&quot;filled.contour&quot;</span>,<span class="dt">cex1=</span><span class="dv">1</span>,<span class="dt">col1=</span><span class="st">&quot;red&quot;</span>,<span class="dt">pch1=</span><span class="dv">21</span>,<span class="dt">model=</span>buildRandomForest)</span></code></pre></div>
</div>
<div id="example-perspective-plot" class="section level4">
<h4>Example: Perspective plot</h4>
<ul>
<li>The following Figure shows a perspective plot, which is based on the same data that were used in the previous Example.</li>
</ul>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true"></a><span class="kw">plotData</span>(x.test,y.test,<span class="dt">type=</span><span class="st">&quot;persp&quot;</span>,<span class="dt">border=</span><span class="ot">NA</span>,<span class="dt">model=</span>buildLOESS)</span></code></pre></div>
</div>
</div>
</div>
</div>
<div id="exploratory-fitness-landscape-analysis-using-spot" class="section level1">
<h1>Exploratory Fitness Landscape Analysis Using SPOT</h1>
<ul>
<li>This section demonstrates how functions from the <code>SPOT</code> package can be used to perform a visual inspection of the fitness landscape during an interactive <code>SPOT</code> run.</li>
<li>These results can also be used to illustrate the algorithm’s performance.</li>
<li>In this section, reference will be made to the application, in which <code>SPOT</code> is used for the tuning procedure of two <code>SANN</code> design parameters:
<ul>
<li>starting temperature <code>temp</code> and the</li>
<li>number of function evaluations at each temperature <code>tmax</code>.</li>
</ul></li>
<li>The fitness landscape can be visualized in two different ways:
<ol style="list-style-type: decimal">
<li>Because <code>SPOT</code> builds a surrogate model during the sequential optimization, this model can be used to visualize the fitness landscape. In this case, the <code>plotModel()</code> function will be used.</li>
<li>Using standard interpolation or local regression functions. In this case, the <code>plotData()</code> function will be u sed. Note, that the <code>plotData()</code> function allows the specification of several interpolation functions (<code>LOESS</code> is default).</li>
</ol></li>
<li>Using <code>plotFunction()</code> is usually not applicable, because the underlying (true) analytical function is not known.</li>
<li>We consider the <code>SPOT</code> model based approach first.</li>
</ul>
<div id="plotting-the-final-model-with-plotmodel" class="section level2">
<h2>Plotting the Final Model with <code>plotModel()</code></h2>
<ul>
<li>Plotting the final model from the <code>SPOT</code> run might be the most generic way of visualizing the results, because during the optimization, the optimizer trusted this model. So, why should it be considered unreliable after the optimization is finished?</li>
<li>Based on the tuning results from the previoius example (using the <code>resRf</code> data), we will demonstrate how the final model, which was built during the <code>SPOT</code> run, can be plotted.</li>
<li>Since the model is stored in the result list from the <code>SPOT</code> run, i.e., in <code>resRf</code>, the parameter <code>resRf$modelFit()</code> can be passed as an argument to the <code>plotModel()</code> function.</li>
<li>The result is shown in the following Figure. It shows a surface plot from the <code>SPOT</code> run with random forest.</li>
</ul>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true"></a><span class="kw">plotModel</span>(resRf<span class="op">$</span>modelFit)</span></code></pre></div>
<div id="plotting-the-data-with-plotdata" class="section level3">
<h3>Plotting the Data with <code>plotData()</code></h3>
<ul>
<li>Results from Example with <code>resRf</code> result data were obtained with the random forest model.</li>
<li>But, the data can be fitted to a different model, e.g., a locally (weighted) scatter plot smoothing (<code>LOESS</code>) or Kriging model as follows.</li>
</ul>
<div id="example-plotting-data-using-loess" class="section level4">
<h4>Example: Plotting data using <code>LOESS</code></h4>
<ul>
<li>The following code illustrates the `LOESS’ model fit, which uses the data generated with a random forest model.</li>
</ul>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true"></a><span class="kw">plotData</span>(resRf<span class="op">$</span>x,resRf<span class="op">$</span>y,<span class="dt">model=</span>buildLOESS)</span></code></pre></div>
</div>
<div id="example-plotting-data-using-kriging" class="section level4">
<h4>Example: Plotting data using Kriging</h4>
<ul>
<li>Plotting the same data as in the previous Figure with a Kriging model can easily be done.</li>
<li>The result can be generated as followings.</li>
</ul>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true"></a><span class="kw">plotData</span>(resRf<span class="op">$</span>x,resRf<span class="op">$</span>y,<span class="dt">model=</span>buildKriging)</span></code></pre></div>
<ul>
<li>This result can be compared to a case in which Kriging models were used during the <code>SPOT</code> run and for the final illustration.
<ul>
<li>The same setting as in the random forest based optimization will be used.</li>
<li>Only the meta model will be changed.</li>
<li>The <code>SPOT</code> configuration parameters can be changed as follows:</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true"></a>spotConfig<span class="op">$</span>model =<span class="st"> </span>buildKriging</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true"></a>spotConfig<span class="op">$</span>optimizer =<span class="st"> </span>optimLBFGSB</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true"></a>spotConfig<span class="op">$</span>modelControl =<span class="st"> </span><span class="kw">list</span>(<span class="dt">algTheta=</span>optimLBFGSB)</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true"></a><span class="co">## Run SPOT</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true"></a>resK &lt;-<span class="st"> </span><span class="kw">spot</span>(<span class="dt">x=</span><span class="ot">NULL</span>,</span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true"></a>             <span class="dt">fun=</span>sann2spot,</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true"></a>             <span class="dt">lower=</span>lower,</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true"></a>             <span class="dt">upper=</span>upper,</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true"></a>             <span class="dt">control=</span>spotConfig)</span></code></pre></div>
<ul>
<li>Now, the Kriging model used during the <code>SPOT</code> run will be used to visualize the fitness landscape.</li>
<li>The following code can be used for visualization:</li>
</ul>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true"></a><span class="kw">plotModel</span>(resK<span class="op">$</span>modelFit)</span></code></pre></div>
<ul>
<li>The landscape generated with the random forest based <code>SPOT</code> run and the landscape from the Example, which used the Kriging-based <code>SPOT</code> run, differ.</li>
<li>We can check if longer runs increase the similarities.</li>
</ul>
</div>
</div>
<div id="continued-runs" class="section level3">
<h3>Continued Runs</h3>
<ul>
<li>The optimization procedure from Example which generated the <code>resRf</code> data, used 50 runs of the <code>SANN</code> algorithm.</li>
<li>Now this number is increased to 100 and the procedure is continued.</li>
<li>This means, an additional 50 evaluations are necessary since the results from the first runs are reused.</li>
</ul>
<div id="example-continued-with-50-additional-runs" class="section level4">
<h4>Example: Continued with 50 additional runs</h4>
<ul>
<li>The fitness landscape of the random forest meta model with 100 function evaluations is shown at the top in the Figure.</li>
</ul>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true"></a>spotConfig<span class="op">$</span>funEvals &lt;-<span class="st"> </span><span class="dv">100</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true"></a>spotConfig<span class="op">$</span>model &lt;-<span class="st"> </span>buildRandomForest</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true"></a>res100Rf &lt;-<span class="st"> </span><span class="kw">spotLoop</span>(resRf<span class="op">$</span>x,</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true"></a>                     resRf<span class="op">$</span>y,</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true"></a>                     <span class="dt">fun=</span>sann2spot,</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true"></a>                     <span class="dt">lower=</span>lower,</span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true"></a>                     <span class="dt">upper=</span>upper,</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true"></a>                     <span class="dt">control=</span>spotConfig)</span></code></pre></div>
</div>
<div id="example-resk-continued-with-50-additional-runs" class="section level4">
<h4>Example: <code>resK</code> continued with 50 additional runs</h4>
<ul>
<li>In a similar manner, new results can be added to the Kriging based optimization runs from Example <code>resK</code>.</li>
</ul>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true"></a>spotConfig<span class="op">$</span>model =<span class="st"> </span>buildKriging</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true"></a>spotConfig<span class="op">$</span>optimizer =<span class="st"> </span>optimLBFGSB</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true"></a>spotConfig<span class="op">$</span>modelControl =<span class="st"> </span><span class="kw">list</span>(<span class="dt">algTheta=</span>optimLBFGSB)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true"></a>res100K &lt;-<span class="st"> </span><span class="kw">spotLoop</span>(resK<span class="op">$</span>x,</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true"></a>                    resK<span class="op">$</span>y,</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true"></a>                    <span class="dt">fun=</span>sann2spot,</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true"></a>                    <span class="dt">lower=</span>lower,</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true"></a>                    <span class="dt">upper=</span>upper,</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true"></a>                    <span class="dt">control=</span>spotConfig)</span></code></pre></div>
<ul>
<li>A comparison of the models resulting from the two long runs (Example <code>resRf100</code> and <code>res100K</code>) is shown in the following Figures.</li>
<li>A visual inspection indicates that the landscapes are qualitatively similar, e.g., poor algorithm settings can be found in the lower right corner.
<ul>
<li>Comparison of the long runs with 100 function evaluations and two different surrogate models.</li>
<li>First: Example <code>resRf100</code>. Long run using Random forest model.</li>
<li>Second: Example <code>res100K</code>. Long run with 100 function evaluations using a Kriging model.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true"></a><span class="kw">plotModel</span>(res100Rf<span class="op">$</span>modelFit)</span></code></pre></div>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true"></a><span class="kw">plotModel</span>(res100K<span class="op">$</span>modelFit)</span></code></pre></div>
</div>
</div>
</div>
</div>
<div id="response-surface-methodology-rsm" class="section level1">
<h1>Response Surface Methodology (RSM)</h1>
<ul>
<li>Using the <code>rsm</code> package, which is maintained by~, the <code>buildRSM()</code> function builds a linear response surface model.</li>
<li>The arguments of <code>buildRSM(x, y, control = list())</code> are as follows:
<ol style="list-style-type: decimal">
<li><code>x</code>: design matrix (sample locations), rows for each sample, columns for each variable.</li>
<li><code>y</code>: vector of observations at <code>x</code></li>
<li><code>control</code>: list, with the options for the model building procedure:
<ul>
<li>mainEffectsOnly: logical, defaults to FALSE. Set to TRUE if a model with main effects only is desired (no interactions, second order effects).</li>
<li>canonical: logical, defaults to FALSE. If this is TRUE, use the canonical path to descent from saddle points. Else, simply use steepest descent</li>
</ul></li>
</ol></li>
</ul>
<div id="example-path-of-the-steepest-descent" class="section level2">
<h2>Example: Path of the steepest descent</h2>
<ul>
<li>First, we create some design points and compute observations at design points.</li>
<li>Then, using <code>buildRSM()</code>, the response surface model is build.</li>
<li>The function <code>descentSpotRSM()</code> returns the path of the steepest descent.</li>
</ul>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true"></a>x &lt;-<span class="st"> </span><span class="kw">designUniformRandom</span>(<span class="dt">lower=</span><span class="kw">rep</span>(<span class="op">-</span><span class="dv">5</span>,<span class="dv">2</span>), </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true"></a>                         <span class="dt">upper=</span><span class="kw">rep</span>(<span class="dv">15</span>,<span class="dv">2</span>), </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true"></a>                         <span class="dt">control=</span><span class="kw">list</span>(<span class="dt">size=</span><span class="dv">20</span>))</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true"></a>y &lt;-<span class="st"> </span><span class="kw">funSphere</span>(x)</span></code></pre></div>
<ul>
<li>Create model with default settings</li>
</ul>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true"></a>fit &lt;-<span class="st"> </span><span class="kw">buildRSM</span>(x,y)</span></code></pre></div>
<ul>
<li>Predict new point</li>
</ul>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true"></a><span class="kw">predict</span>(fit,<span class="kw">cbind</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true"></a><span class="co">#&gt; $y</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true"></a><span class="co">#&gt;      [,1]</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true"></a><span class="co">#&gt; [1,]    5</span></span></code></pre></div>
<ul>
<li>True value at location:</li>
</ul>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true"></a><span class="kw">sphere</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true"></a><span class="co">#&gt; [1] 5</span></span></code></pre></div>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true"></a><span class="kw">descentSpotRSM</span>(fit)</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true"></a><span class="co">#&gt; Path of steepest descent from ridge analysis:</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true"></a><span class="co">#&gt; $x</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true"></a><span class="co">#&gt;          V1       V2</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true"></a><span class="co">#&gt; 1  5.801230 4.503401</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true"></a><span class="co">#&gt; 2  5.252816 3.839109</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true"></a><span class="co">#&gt; 3  4.674758 3.223662</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true"></a><span class="co">#&gt; 4  4.074467 2.647291</span></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true"></a><span class="co">#&gt; 5  3.444532 2.119765</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true"></a><span class="co">#&gt; 6  2.792364 1.631315</span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true"></a><span class="co">#&gt; 7  2.125374 1.172172</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true"></a><span class="co">#&gt; 8  1.443562 0.752105</span></span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true"></a><span class="co">#&gt; 9  0.746928 0.371114</span></span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true"></a><span class="co">#&gt; 10 0.035472 0.019430</span></span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true"></a><span class="co">#&gt; $y</span></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true"></a><span class="co">#&gt;               [,1]</span></span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true"></a><span class="co">#&gt;  [1,] 53.934890080</span></span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true"></a><span class="co">#&gt;  [2,] 42.330833844</span></span>
<span id="cb62-20"><a href="#cb62-20" aria-hidden="true"></a><span class="co">#&gt;  [3,] 32.245359049</span></span>
<span id="cb62-21"><a href="#cb62-21" aria-hidden="true"></a><span class="co">#&gt;  [4,] 23.609430973</span></span>
<span id="cb62-22"><a href="#cb62-22" aria-hidden="true"></a><span class="co">#&gt;  [5,] 16.358204354</span></span>
<span id="cb62-23"><a href="#cb62-23" aria-hidden="true"></a><span class="co">#&gt;  [6,] 10.458485338</span></span>
<span id="cb62-24"><a href="#cb62-24" aria-hidden="true"></a><span class="co">#&gt;  [7,]  5.891201837</span></span>
<span id="cb62-25"><a href="#cb62-25" aria-hidden="true"></a><span class="co">#&gt;  [8,]  2.649533179</span></span>
<span id="cb62-26"><a href="#cb62-26" aria-hidden="true"></a><span class="co">#&gt;  [9,]  0.695627038</span></span>
<span id="cb62-27"><a href="#cb62-27" aria-hidden="true"></a><span class="co">#&gt; [10,]  0.001635788</span></span></code></pre></div>
<ul>
<li>This situation is illustrated in the following Figure, which illustrates the response surface, which fits the sphere function.</li>
</ul>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true"></a><span class="kw">plot</span>(fit)</span></code></pre></div>
</div>
<div id="rsm-and-spot" class="section level2">
<h2>RSM and SPOT</h2>
<ul>
<li>We can use RSM for an interactive tuning approach.</li>
<li>The starting point in this example are the 100 design points that were generated during the Kriging-based <code>SPOT</code> run in Example <code>res100K</code>.</li>
<li>These 100 data points are used to build a response surface with <code>buildRSM()</code>.</li>
</ul>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true"></a>rsm100K &lt;-<span class="st"> </span><span class="kw">buildRSM</span>(<span class="dt">x=</span>res100K<span class="op">$</span>x,</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true"></a>                    <span class="dt">y=</span>res100K<span class="op">$</span>y) </span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true"></a><span class="kw">summary</span>(rsm100K<span class="op">$</span>rsmfit)</span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true"></a><span class="co">#&gt; Call:</span></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true"></a><span class="co">#&gt; rsm(formula = y ~ FO(x1, x2) + TWI(x1, x2) + PQ(x1, x2), data = codedData)</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true"></a><span class="co">#&gt;             Estimate Std. Error t value  Pr(&gt;|t|)    </span></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true"></a><span class="co">#&gt; (Intercept)  27.8212     4.2690  6.5171 3.533e-09 ***</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true"></a><span class="co">#&gt; x1           26.9435     2.8975  9.2990 5.689e-15 ***</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true"></a><span class="co">#&gt; x2          -21.5854     4.1993 -5.1402 1.488e-06 ***</span></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true"></a><span class="co">#&gt; x1:x2       -23.8875     5.9749 -3.9980 0.0001271 ***</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true"></a><span class="co">#&gt; x1^2         -2.2793     5.3683 -0.4246 0.6721072    </span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true"></a><span class="co">#&gt; x2^2          1.5927     6.0336  0.2640 0.7923808    </span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true"></a><span class="co">#&gt; ---</span></span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true"></a><span class="co">#&gt; Multiple R-squared:  0.6211, Adjusted R-squared:  0.601 </span></span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true"></a><span class="co">#&gt; F-statistic: 30.82 on 5 and 94 DF,  p-value: &lt; 2.2e-16</span></span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true"></a><span class="co">#&gt; Analysis of Variance Table</span></span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true"></a><span class="co">#&gt; Response: y</span></span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true"></a><span class="co">#&gt;             Df  Sum Sq Mean Sq F value    Pr(&gt;F)</span></span>
<span id="cb64-25"><a href="#cb64-25" aria-hidden="true"></a><span class="co">#&gt; FO(x1, x2)   2 31156.8 15578.4 68.6460 &lt; 2.2e-16</span></span>
<span id="cb64-26"><a href="#cb64-26" aria-hidden="true"></a><span class="co">#&gt; TWI(x1, x2)  1  3737.4  3737.4 16.4687 0.0001022</span></span>
<span id="cb64-27"><a href="#cb64-27" aria-hidden="true"></a><span class="co">#&gt; PQ(x1, x2)   2    77.3    38.7  0.1704 0.8436197</span></span>
<span id="cb64-28"><a href="#cb64-28" aria-hidden="true"></a><span class="co">#&gt; Residuals   94 21332.2   226.9                  </span></span>
<span id="cb64-29"><a href="#cb64-29" aria-hidden="true"></a><span class="co">#&gt; Lack of fit 30  3761.3   125.4  0.4567 0.9897826</span></span>
<span id="cb64-30"><a href="#cb64-30" aria-hidden="true"></a><span class="co">#&gt; Pure error  64 17570.9   274.5                  </span></span>
<span id="cb64-31"><a href="#cb64-31" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb64-32"><a href="#cb64-32" aria-hidden="true"></a><span class="co">#&gt; Stationary point of response surface:</span></span>
<span id="cb64-33"><a href="#cb64-33" aria-hidden="true"></a><span class="co">#&gt;         x1         x2 </span></span>
<span id="cb64-34"><a href="#cb64-34" aria-hidden="true"></a><span class="co">#&gt; -0.7345253  1.2681073 </span></span>
<span id="cb64-35"><a href="#cb64-35" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb64-36"><a href="#cb64-36" aria-hidden="true"></a><span class="co">#&gt; Stationary point in original units:</span></span>
<span id="cb64-37"><a href="#cb64-37" aria-hidden="true"></a><span class="co">#&gt;        V1        V2 </span></span>
<span id="cb64-38"><a href="#cb64-38" aria-hidden="true"></a><span class="co">#&gt;  14.00826 106.46699 </span></span>
<span id="cb64-39"><a href="#cb64-39" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb64-40"><a href="#cb64-40" aria-hidden="true"></a><span class="co">#&gt; Eigenanalysis:</span></span>
<span id="cb64-41"><a href="#cb64-41" aria-hidden="true"></a><span class="co">#&gt; eigen() decomposition</span></span>
<span id="cb64-42"><a href="#cb64-42" aria-hidden="true"></a><span class="co">#&gt; $values</span></span>
<span id="cb64-43"><a href="#cb64-43" aria-hidden="true"></a><span class="co">#&gt; [1]  11.75633 -12.44293</span></span>
<span id="cb64-44"><a href="#cb64-44" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb64-45"><a href="#cb64-45" aria-hidden="true"></a><span class="co">#&gt; $vectors</span></span>
<span id="cb64-46"><a href="#cb64-46" aria-hidden="true"></a><span class="co">#&gt;          [,1]       [,2]</span></span>
<span id="cb64-47"><a href="#cb64-47" aria-hidden="true"></a><span class="co">#&gt; x1  0.6480722 -0.7615789</span></span>
<span id="cb64-48"><a href="#cb64-48" aria-hidden="true"></a><span class="co">#&gt; x2 -0.7615789 -0.6480722</span></span></code></pre></div>
<ul>
<li>Following the path of the steepest descent on the RSM meta model, we obtain a new design point, which can be evaluated.</li>
</ul>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true"></a>(xSteep &lt;-<span class="st"> </span><span class="kw">descentSpotRSM</span>(rsm100K) )</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true"></a><span class="co">#&gt; Path of steepest descent from ridge analysis:</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true"></a><span class="co">#&gt; $x</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true"></a><span class="co">#&gt;        V1      V2</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true"></a><span class="co">#&gt; 1  46.080 50.2900</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true"></a><span class="co">#&gt; 2  41.964 52.8010</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true"></a><span class="co">#&gt; 3  37.456 54.8005</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true"></a><span class="co">#&gt; 4  32.605 56.0560</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true"></a><span class="co">#&gt; 5  27.264 56.1955</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true"></a><span class="co">#&gt; 6  21.727 55.1260</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true"></a><span class="co">#&gt; 7  16.190 53.0800</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true"></a><span class="co">#&gt; 8  10.947 50.4760</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true"></a><span class="co">#&gt; 9   5.900 47.5930</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true"></a><span class="co">#&gt; 10  1.098 44.6170</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true"></a><span class="co">#&gt; $y</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true"></a><span class="co">#&gt;            [,1]</span></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true"></a><span class="co">#&gt;  [1,] 24.476384</span></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true"></a><span class="co">#&gt;  [2,] 21.347709</span></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true"></a><span class="co">#&gt;  [3,] 18.384709</span></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true"></a><span class="co">#&gt;  [4,] 15.611535</span></span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true"></a><span class="co">#&gt;  [5,] 12.920574</span></span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true"></a><span class="co">#&gt;  [6,] 10.279201</span></span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true"></a><span class="co">#&gt;  [7,]  7.555571</span></span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true"></a><span class="co">#&gt;  [8,]  4.742900</span></span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true"></a><span class="co">#&gt;  [9,]  1.725641</span></span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true"></a><span class="co">#&gt; [10,] -1.472259</span></span></code></pre></div>
<ul>
<li>We have chosen the eighth point, i.e.,</li>
</ul>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true"></a>xNew &lt;-<span class="st"> </span>xSteep<span class="op">$</span>x[<span class="dv">8</span>,]</span></code></pre></div>
<ul>
<li>Then we determine its function value.</li>
</ul>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true"></a>(yNew &lt;-<span class="st"> </span><span class="kw">sann2spot</span>(xNew))</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true"></a><span class="co">#&gt;            [,1]</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true"></a><span class="co">#&gt; [1,] 0.04315271</span></span></code></pre></div>
<ul>
<li>Next, we can refine the rsm meta model by including this point to the set of design points.</li>
</ul>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true"></a>x101 &lt;-<span class="st"> </span><span class="kw">rbind</span>(res100K<span class="op">$</span>x, xNew)</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true"></a>y101 &lt;-<span class="st"> </span><span class="kw">rbind</span>(res100K<span class="op">$</span>y, yNew)</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true"></a>rsm101K &lt;-<span class="st"> </span><span class="kw">buildRSM</span>(<span class="dt">x=</span>x101,</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true"></a>                    <span class="dt">y=</span>y101) </span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true"></a><span class="kw">summary</span>(rsm101K<span class="op">$</span>rsmfit)</span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true"></a><span class="co">#&gt; Call:</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true"></a><span class="co">#&gt; rsm(formula = y ~ FO(x1, x2) + TWI(x1, x2) + PQ(x1, x2), data = codedData)</span></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true"></a><span class="co">#&gt;             Estimate Std. Error t value  Pr(&gt;|t|)    </span></span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true"></a><span class="co">#&gt; (Intercept)  27.6726     4.2214  6.5553 2.868e-09 ***</span></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true"></a><span class="co">#&gt; x1           27.0095     2.8757  9.3922 3.291e-15 ***</span></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true"></a><span class="co">#&gt; x2          -21.6066     4.1787 -5.1706 1.291e-06 ***</span></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true"></a><span class="co">#&gt; x1:x2       -23.9811     5.9386 -4.0382 0.0001092 ***</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true"></a><span class="co">#&gt; x1^2         -2.1542     5.3273 -0.4044 0.6868473    </span></span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true"></a><span class="co">#&gt; x2^2          1.7749     5.9759  0.2970 0.7671137    </span></span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true"></a><span class="co">#&gt; ---</span></span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true"></a><span class="co">#&gt; Multiple R-squared:  0.6218, Adjusted R-squared:  0.6018 </span></span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true"></a><span class="co">#&gt; F-statistic: 31.23 on 5 and 95 DF,  p-value: &lt; 2.2e-16</span></span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true"></a><span class="co">#&gt; Analysis of Variance Table</span></span>
<span id="cb68-24"><a href="#cb68-24" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb68-25"><a href="#cb68-25" aria-hidden="true"></a><span class="co">#&gt; Response: y</span></span>
<span id="cb68-26"><a href="#cb68-26" aria-hidden="true"></a><span class="co">#&gt;             Df  Sum Sq Mean Sq F value    Pr(&gt;F)</span></span>
<span id="cb68-27"><a href="#cb68-27" aria-hidden="true"></a><span class="co">#&gt; FO(x1, x2)   2 31260.8 15630.4 69.5376 &lt; 2.2e-16</span></span>
<span id="cb68-28"><a href="#cb68-28" aria-hidden="true"></a><span class="co">#&gt; TWI(x1, x2)  1  3763.0  3763.0 16.7412 8.982e-05</span></span>
<span id="cb68-29"><a href="#cb68-29" aria-hidden="true"></a><span class="co">#&gt; PQ(x1, x2)   2    77.6    38.8  0.1725    0.8418</span></span>
<span id="cb68-30"><a href="#cb68-30" aria-hidden="true"></a><span class="co">#&gt; Residuals   95 21353.7   224.8                  </span></span>
<span id="cb68-31"><a href="#cb68-31" aria-hidden="true"></a><span class="co">#&gt; Lack of fit 31  3782.8   122.0  0.4445    0.9924</span></span>
<span id="cb68-32"><a href="#cb68-32" aria-hidden="true"></a><span class="co">#&gt; Pure error  64 17570.9   274.5                  </span></span>
<span id="cb68-33"><a href="#cb68-33" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb68-34"><a href="#cb68-34" aria-hidden="true"></a><span class="co">#&gt; Stationary point of response surface:</span></span>
<span id="cb68-35"><a href="#cb68-35" aria-hidden="true"></a><span class="co">#&gt;        x1        x2 </span></span>
<span id="cb68-36"><a href="#cb68-36" aria-hidden="true"></a><span class="co">#&gt; -0.715249  1.254782 </span></span>
<span id="cb68-37"><a href="#cb68-37" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb68-38"><a href="#cb68-38" aria-hidden="true"></a><span class="co">#&gt; Stationary point in original units:</span></span>
<span id="cb68-39"><a href="#cb68-39" aria-hidden="true"></a><span class="co">#&gt;       V1       V2 </span></span>
<span id="cb68-40"><a href="#cb68-40" aria-hidden="true"></a><span class="co">#&gt;  14.9528 105.8474 </span></span>
<span id="cb68-41"><a href="#cb68-41" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb68-42"><a href="#cb68-42" aria-hidden="true"></a><span class="co">#&gt; Eigenanalysis:</span></span>
<span id="cb68-43"><a href="#cb68-43" aria-hidden="true"></a><span class="co">#&gt; eigen() decomposition</span></span>
<span id="cb68-44"><a href="#cb68-44" aria-hidden="true"></a><span class="co">#&gt; $values</span></span>
<span id="cb68-45"><a href="#cb68-45" aria-hidden="true"></a><span class="co">#&gt; [1]  11.96075 -12.34012</span></span>
<span id="cb68-46"><a href="#cb68-46" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb68-47"><a href="#cb68-47" aria-hidden="true"></a><span class="co">#&gt; $vectors</span></span>
<span id="cb68-48"><a href="#cb68-48" aria-hidden="true"></a><span class="co">#&gt;          [,1]       [,2]</span></span>
<span id="cb68-49"><a href="#cb68-49" aria-hidden="true"></a><span class="co">#&gt; x1  0.6474238 -0.7621302</span></span>
<span id="cb68-50"><a href="#cb68-50" aria-hidden="true"></a><span class="co">#&gt; x2 -0.7621302 -0.6474238</span></span></code></pre></div>
<ul>
<li>The resulting plot is shown in the following Figure.</li>
</ul>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true"></a><span class="kw">plot</span>(rsm101K)</span></code></pre></div>
<ul>
<li>Now, we have two options for continuing the optimization.</li>
<li>Either, we continue following the path of the steepest descent, i.e., we use <code>SPOT</code>’s <code>descentSpotRSM()</code> function.</li>
</ul>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true"></a><span class="kw">descentSpotRSM</span>(rsm101K)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true"></a><span class="co">#&gt; Path of steepest descent from ridge analysis:</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true"></a><span class="co">#&gt; $x</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true"></a><span class="co">#&gt;        V1      V2</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true"></a><span class="co">#&gt; 1  46.080 50.2900</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true"></a><span class="co">#&gt; 2  41.915 52.8010</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true"></a><span class="co">#&gt; 3  37.456 54.8005</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true"></a><span class="co">#&gt; 4  32.556 56.0095</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true"></a><span class="co">#&gt; 5  27.264 56.1490</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true"></a><span class="co">#&gt; 6  21.678 55.0330</span></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true"></a><span class="co">#&gt; 7  16.190 52.9870</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true"></a><span class="co">#&gt; 8  10.898 50.3830</span></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true"></a><span class="co">#&gt; 9   5.900 47.5465</span></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true"></a><span class="co">#&gt; 10  1.098 44.5240</span></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true"></a><span class="co">#&gt; $y</span></span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true"></a><span class="co">#&gt;            [,1]</span></span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true"></a><span class="co">#&gt;  [1,] 24.323160</span></span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true"></a><span class="co">#&gt;  [2,] 21.168389</span></span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true"></a><span class="co">#&gt;  [3,] 18.232360</span></span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true"></a><span class="co">#&gt;  [4,] 15.451965</span></span>
<span id="cb70-22"><a href="#cb70-22" aria-hidden="true"></a><span class="co">#&gt;  [5,] 12.788653</span></span>
<span id="cb70-23"><a href="#cb70-23" aria-hidden="true"></a><span class="co">#&gt;  [6,] 10.133240</span></span>
<span id="cb70-24"><a href="#cb70-24" aria-hidden="true"></a><span class="co">#&gt;  [7,]  7.438115</span></span>
<span id="cb70-25"><a href="#cb70-25" aria-hidden="true"></a><span class="co">#&gt;  [8,]  4.600924</span></span>
<span id="cb70-26"><a href="#cb70-26" aria-hidden="true"></a><span class="co">#&gt;  [9,]  1.619128</span></span>
<span id="cb70-27"><a href="#cb70-27" aria-hidden="true"></a><span class="co">#&gt; [10,] -1.570104</span></span></code></pre></div>
<ul>
<li>Or, we can continue with <code>SPOT</code>.</li>
<li>Following this second option, we have built an updated Kriging model using nine additional function evaluations.</li>
</ul>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true"></a>spotConfig<span class="op">$</span>model =<span class="st"> </span>buildKriging</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true"></a>spotConfig<span class="op">$</span>optimizer =<span class="st"> </span>optimLBFGSB</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true"></a>spotConfig<span class="op">$</span>modelControl =<span class="st"> </span><span class="kw">list</span>(<span class="dt">algTheta=</span>optimLBFGSB)</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true"></a>spotConfig<span class="op">$</span>funEvals &lt;-<span class="st"> </span><span class="dv">110</span></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true"></a>res110K &lt;-<span class="st"> </span><span class="kw">spotLoop</span>(<span class="dt">x=</span>x101,</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true"></a>                    <span class="dt">y=</span>y101,</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true"></a>                    <span class="dt">fun=</span>sann2spot,</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true"></a>                    <span class="dt">lower=</span>lower,</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true"></a>                    <span class="dt">upper=</span>upper,</span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true"></a>                    <span class="dt">control=</span>spotConfig)</span></code></pre></div>
<ul>
<li>Finally, we can plot the updated model.
<ul>
<li><code>buildRSM()</code> was used to build a response surface.</li>
<li>Data from the Kriging-based <code>SPOT</code> run with 100 function evaluations, one additional point, which was calculated using the steepest descent function <code>descentSpotRSM()</code>, and one additional <code>SPOT</code> run with nine additional design points, were used to generate this model.</li>
<li>Altogether, 110 design points were used to generate this model.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true"></a><span class="kw">plotModel</span>(res110K<span class="op">$</span>modelFit)</span></code></pre></div>
</div>
</div>
<div id="statistical-analysis" class="section level1">
<h1>Statistical Analysis</h1>
<ul>
<li>This section describes two basic approaches for the analysis of the results from the previous example:
<ol style="list-style-type: decimal">
<li>tree-based analysis and</li>
<li>regression analysis.</li>
</ol></li>
<li>We will continue using the data from Example <code>resRf100</code>.</li>
</ul>
<div id="tree-based-analysis" class="section level2">
<h2>Tree-based Analysis</h2>
<ul>
<li><code>SPOT</code>’s <code>buildRandomForest()</code> function is a wrapper function for the <code>randomForest()</code> function from the <code>randomForest</code> package.</li>
<li>Since the <code>randomForest</code> package has no default plot function, we switch to the <code>party</code> package.
<ul>
<li>This package provides the <code>ctree()</code> function, which can be applied as follows:</li>
</ul></li>
<li>Tree based analysis with Kriging data. tmax and temp.</li>
</ul>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true"></a>tmaxtempz.df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(res100K<span class="op">$</span>x[,<span class="dv">1</span>], res100K<span class="op">$</span>x[,<span class="dv">2</span>], res100K<span class="op">$</span>y)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true"></a><span class="kw">names</span>(tmaxtempz.df) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;tmax&quot;</span>, <span class="st">&quot;temp&quot;</span>, <span class="st">&quot;y&quot;</span>)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true"></a>tmaxtempz.tree &lt;-<span class="st"> </span>party<span class="op">::</span><span class="kw">ctree</span>(y <span class="op">~</span><span class="st"> </span>., <span class="dt">data=</span>tmaxtempz.df)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true"></a><span class="kw">plot</span>(tmaxtempz.tree, <span class="dt">type=</span><span class="st">&quot;simple&quot;</span>)</span></code></pre></div>
</div>
<div id="regression-analysis" class="section level2">
<h2>Regression Analysis</h2>
<div id="building-the-linear-model" class="section level3">
<h3>Building the Linear Model</h3>
<ul>
<li>Data from the <code>SPOT</code> run can be used for building linear models.</li>
<li>First, we extract the data from the result file.</li>
<li>Then we can use the standard <code>lm()</code> function for building the linear model.</li>
</ul>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true"></a>xyz100K.df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(res100K<span class="op">$</span>x[,<span class="dv">1</span>], res100K<span class="op">$</span>x[,<span class="dv">2</span>], res100K<span class="op">$</span>y)</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true"></a><span class="kw">names</span>(xyz100K.df) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>)</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true"></a>lm100K &lt;-<span class="st"> </span><span class="kw">lm</span>(z <span class="op">~</span><span class="st"> </span>x<span class="op">*</span>y, <span class="dt">data=</span>xyz100K.df)</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true"></a><span class="kw">summary</span>(lm100K)</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true"></a><span class="co">#&gt; Call:</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true"></a><span class="co">#&gt; lm(formula = z ~ x * y, data = xyz100K.df)</span></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true"></a><span class="co">#&gt; Residuals:</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true"></a><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true"></a><span class="co">#&gt; -58.767  -1.434   0.318   0.392  48.363 </span></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true"></a><span class="co">#&gt; Coefficients:</span></span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true"></a><span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true"></a><span class="co">#&gt; (Intercept) -3.077837   6.970272  -0.442    0.660    </span></span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true"></a><span class="co">#&gt; x            1.063641   0.154412   6.888 5.87e-10 ***</span></span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true"></a><span class="co">#&gt; y            0.039537   0.117752   0.336    0.738    </span></span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true"></a><span class="co">#&gt; x:y         -0.010534   0.002573  -4.094 8.85e-05 ***</span></span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true"></a><span class="co">#&gt; ---</span></span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true"></a><span class="co">#&gt; Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</span></span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true"></a><span class="co">#&gt; </span></span>
<span id="cb74-22"><a href="#cb74-22" aria-hidden="true"></a><span class="co">#&gt; Residual standard error: 14.93 on 96 degrees of freedom</span></span>
<span id="cb74-23"><a href="#cb74-23" aria-hidden="true"></a><span class="co">#&gt; Multiple R-squared:  0.6197, Adjusted R-squared:  0.6079 </span></span>
<span id="cb74-24"><a href="#cb74-24" aria-hidden="true"></a><span class="co">#&gt; F-statistic: 52.15 on 3 and 96 DF,  p-value: &lt; 2.2e-16</span></span></code></pre></div>
<ul>
<li>Diagnostic plots can be generated as follows:</li>
</ul>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true"></a><span class="kw">plot</span>(lm100K)</span></code></pre></div>
</div>
<div id="estimating-variable-effects" class="section level3">
<h3>Estimating Variable Effects</h3>
<ul>
<li><code>R</code>’s <code>termplot()</code> function can be used to plot regression terms against their predictors, optionally with standard errors and partial residuals added.</li>
</ul>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true"></a><span class="kw">termplot</span>(lm100K, <span class="dt">partial =</span> <span class="ot">TRUE</span>, <span class="dt">smooth =</span> panel.smooth, <span class="dt">ask=</span><span class="ot">FALSE</span>) </span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">mfrom=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
<ul>
<li>The <code>car</code> package provides the function <code>avPlots()</code>, which can be used for visualization as follows:</li>
</ul>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>))</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true"></a>car<span class="op">::</span><span class="kw">avPlots</span>(lm100K,<span class="dt">ask=</span>F)   </span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true"></a><span class="kw">par</span>(<span class="dt">mfrow=</span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))</span></code></pre></div>
</div>
</div>
</div>
<div id="deterministic-problems-and-surrogate-model-based-optimization" class="section level1">
<h1>Deterministic Problems and Surrogate Model Based Optimization</h1>
<ul>
<li>Previous sections discussed the tuning of non-deterministic, i.e., noisy, algorithms, which is the usual case when tuning evolutionary algorithms.</li>
<li>This section presents an application of <code>SPOT</code> in a simple setting:
<ul>
<li>We will describe how <code>SPOT</code> can be used for optimizing deterministic problems directly, i.e., we apply <code>SPOT</code> in the context of surrogate model based optimization.</li>
</ul></li>
<li>To present a very simple example, <code>SPOT</code> will be used for minimizing the sphere function.</li>
<li>Level L2 from is omitted, and the tuning algorithm for level L3 is applied directly to the real-world system on level L1.</li>
<li>So instead of tuning the stochastic <code>SANN</code> heuristic, which in turn optimizes the sphere function, <code>SPOT</code> tries to find the minimum of the deterministic sphere function directly.</li>
<li>This example illustrates necessary modifications of the <code>SPOT</code> configuration in deterministic settings.</li>
<li>Since no randomness occurs, repeats or other mechanism to cope with noise are not necessary anymore.</li>
<li>The interval <span class="math inline">\([-5;5] \times [-5; 5]\)</span> was chosen as the region of interest, i.e., we are considering a two-dimensional optimization problem.</li>
</ul>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true"></a>res &lt;-<span class="st"> </span><span class="kw">spot</span>(,funSphere,<span class="kw">c</span>(<span class="op">-</span><span class="dv">5</span>,<span class="op">-</span><span class="dv">5</span>),<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">5</span>), <span class="dt">control=</span><span class="kw">list</span>(<span class="dt">optimizer=</span>optimLBFGSB)) </span></code></pre></div>
<ul>
<li>We can extract the best solution with the following command.</li>
</ul>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true"></a>res<span class="op">$</span>xbest</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true"></a><span class="co">#&gt;              [,1]        [,2]</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true"></a><span class="co">#&gt; [1,] -0.005598363 0.004331417</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true"></a>res<span class="op">$</span>ybest</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true"></a><span class="co">#&gt;              [,1]</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true"></a><span class="co">#&gt; [1,] 5.010284e-05</span></span></code></pre></div>
</div>
<div id="model-ensembles-stacking" class="section level1">
<h1>Model Ensembles: Stacking</h1>
<ul>
<li><p><code>SPOT</code> provides several models that can be used as surrogates.</p></li>
<li><p>Sometimes it is not obvious, which surrogate should be chosen.</p></li>
<li><p>Ensemble-based models provide a well-established solution to this model selection problem~.</p></li>
<li><p>Therefore, <code>SPOT</code> provides a stacking approach, that combines several models in a sophisticated manner.</p></li>
<li><p>The stacking procedure is described in detail in~.</p></li>
<li><p>We will use the data from Example <code>plotTrained</code> to illustrate the stacking approach.</p></li>
</ul>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true"></a>fit.stack &lt;-<span class="st"> </span><span class="kw">buildEnsembleStack</span>(x.test, y.test)</span></code></pre></div>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true"></a><span class="kw">plotModel</span>(fit.stack)</span></code></pre></div>
<ul>
<li>We can compare predicted and true values as follows:</li>
</ul>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true"></a>xNew &lt;-<span class="st">  </span><span class="kw">cbind</span>(<span class="dv">1</span>,<span class="dv">1</span>,<span class="dv">1</span>)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true"></a><span class="kw">predict</span>(fit.stack, xNew)</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true"></a><span class="co">#&gt; $y</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true"></a><span class="co">#&gt;        1 </span></span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true"></a><span class="co">#&gt; 2.919332</span></span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true"></a><span class="kw">funSphere</span>(xNew)</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true"></a><span class="co">#&gt;      [,1]</span></span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true"></a><span class="co">#&gt; [1,]    3</span></span></code></pre></div>
</div>
<div id="summary" class="section level1">
<h1>Summary</h1>
<ul>
<li>This report describes experimental methods for tuning algorithms.</li>
<li>Using a simple simulated annealing algorithm, it was demonstrated how optimization algorithms can be tuned using the <code>SPOT</code>.</li>
<li>Several tools from the <code>SPOT</code> for automated and interactive tuning were illustrated and the underling concepts of the <code>SPOT</code> approach were explained.</li>
<li>Central in the <code>SPOT</code> approach are techniques such as exploratory fitness landscape analysis and response surface methodology.</li>
<li>Furthermore, we demonstrated how SPOT can be used as optimizer and how a sophisticated ensemble approach is able to combine several meta models via stacking.</li>
</ul>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
